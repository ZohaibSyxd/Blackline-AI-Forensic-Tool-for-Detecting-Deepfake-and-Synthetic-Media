(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Kf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qf={exports:{}},ei={},Yf={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=Symbol.for("react.element"),Ug=Symbol.for("react.portal"),Gg=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),Vg=Symbol.for("react.profiler"),Hg=Symbol.for("react.provider"),Kg=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),Yg=Symbol.for("react.suspense"),Jg=Symbol.for("react.memo"),qg=Symbol.for("react.lazy"),Ku=Symbol.iterator;function Xg(e){return e===null||typeof e!="object"?null:(e=Ku&&e[Ku]||e["@@iterator"],typeof e=="function"?e:null)}var Jf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qf=Object.assign,Xf={};function ys(e,t,n){this.props=e,this.context=t,this.refs=Xf,this.updater=n||Jf}ys.prototype.isReactComponent={};ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zf(){}Zf.prototype=ys.prototype;function xc(e,t,n){this.props=e,this.context=t,this.refs=Xf,this.updater=n||Jf}var wc=xc.prototype=new Zf;wc.constructor=xc;qf(wc,ys.prototype);wc.isPureReactComponent=!0;var Qu=Array.isArray,ep=Object.prototype.hasOwnProperty,bc={current:null},tp={key:!0,ref:!0,__self:!0,__source:!0};function np(e,t,n){var r,s={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)ep.call(t,r)&&!tp.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:No,type:e,key:o,ref:l,props:s,_owner:bc.current}}function Zg(e,t){return{$$typeof:No,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sc(e){return typeof e=="object"&&e!==null&&e.$$typeof===No}function ey(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yu=/\/+/g;function Di(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ey(""+e.key):t.toString(36)}function ll(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case No:case Ug:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Di(l,0):r,Qu(s)?(n="",e!=null&&(n=e.replace(Yu,"$&/")+"/"),ll(s,t,n,"",function(u){return u})):s!=null&&(Sc(s)&&(s=Zg(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Yu,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Qu(e))for(var i=0;i<e.length;i++){o=e[i];var c=r+Di(o,i);l+=ll(o,t,n,c,s)}else if(c=Xg(e),typeof c=="function")for(e=c.call(e),i=0;!(o=e.next()).done;)o=o.value,c=r+Di(o,i++),l+=ll(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function $o(e,t,n){if(e==null)return e;var r=[],s=0;return ll(e,r,"","",function(o){return t.call(n,o,s++)}),r}function ty(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mt={current:null},il={transition:null},ny={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:il,ReactCurrentOwner:bc};function rp(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:$o,forEach:function(e,t,n){$o(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $o(e,function(){t++}),t},toArray:function(e){return $o(e,function(t){return t})||[]},only:function(e){if(!Sc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=ys;Te.Fragment=Gg;Te.Profiler=Vg;Te.PureComponent=xc;Te.StrictMode=Wg;Te.Suspense=Yg;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ny;Te.act=rp;Te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qf({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=bc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)ep.call(t,c)&&!tp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:No,type:e.type,key:s,ref:o,props:r,_owner:l}};Te.createContext=function(e){return e={$$typeof:Kg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hg,_context:e},e.Consumer=e};Te.createElement=np;Te.createFactory=function(e){var t=np.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:Qg,render:e}};Te.isValidElement=Sc;Te.lazy=function(e){return{$$typeof:qg,_payload:{_status:-1,_result:e},_init:ty}};Te.memo=function(e,t){return{$$typeof:Jg,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=il.transition;il.transition={};try{e()}finally{il.transition=t}};Te.unstable_act=rp;Te.useCallback=function(e,t){return Mt.current.useCallback(e,t)};Te.useContext=function(e){return Mt.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Mt.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Mt.current.useEffect(e,t)};Te.useId=function(){return Mt.current.useId()};Te.useImperativeHandle=function(e,t,n){return Mt.current.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return Mt.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Mt.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Mt.current.useMemo(e,t)};Te.useReducer=function(e,t,n){return Mt.current.useReducer(e,t,n)};Te.useRef=function(e){return Mt.current.useRef(e)};Te.useState=function(e){return Mt.current.useState(e)};Te.useSyncExternalStore=function(e,t,n){return Mt.current.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return Mt.current.useTransition()};Te.version="18.3.1";Yf.exports=Te;var v=Yf.exports;const We=Kf(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=v,sy=Symbol.for("react.element"),oy=Symbol.for("react.fragment"),ly=Object.prototype.hasOwnProperty,iy=ry.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ay={key:!0,ref:!0,__self:!0,__source:!0};function sp(e,t,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)ly.call(t,r)&&!ay.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:sy,type:e,key:o,ref:l,props:s,_owner:iy.current}}ei.Fragment=oy;ei.jsx=sp;ei.jsxs=sp;Qf.exports=ei;var a=Qf.exports,ha={},op={exports:{}},Qt={},lp={exports:{}},ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,O){var se=_.length;_.push(O);e:for(;0<se;){var Ce=se-1>>>1,be=_[Ce];if(0<s(be,O))_[Ce]=O,_[se]=be,se=Ce;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var O=_[0],se=_.pop();if(se!==O){_[0]=se;e:for(var Ce=0,be=_.length,Re=be>>>1;Ce<Re;){var ye=2*(Ce+1)-1,it=_[ye],je=ye+1,He=_[je];if(0>s(it,se))je<be&&0>s(He,it)?(_[Ce]=He,_[je]=se,Ce=je):(_[Ce]=it,_[ye]=se,Ce=ye);else if(je<be&&0>s(He,se))_[Ce]=He,_[je]=se,Ce=je;else break e}}return O}function s(_,O){var se=_.sortIndex-O.sortIndex;return se!==0?se:_.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var c=[],u=[],p=1,f=null,d=3,m=!1,x=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=_)r(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function S(_){if(b=!1,w(_),!x)if(n(c)!==null)x=!0,re(P);else{var O=n(u);O!==null&&Y(S,O.startTime-_)}}function P(_,O){x=!1,b&&(b=!1,y(I),I=-1),m=!0;var se=d;try{for(w(O),f=n(c);f!==null&&(!(f.expirationTime>O)||_&&!xe());){var Ce=f.callback;if(typeof Ce=="function"){f.callback=null,d=f.priorityLevel;var be=Ce(f.expirationTime<=O);O=e.unstable_now(),typeof be=="function"?f.callback=be:f===n(c)&&r(c),w(O)}else r(c);f=n(c)}if(f!==null)var Re=!0;else{var ye=n(u);ye!==null&&Y(S,ye.startTime-O),Re=!1}return Re}finally{f=null,d=se,m=!1}}var A=!1,$=null,I=-1,Ee=5,V=-1;function xe(){return!(e.unstable_now()-V<Ee)}function de(){if($!==null){var _=e.unstable_now();V=_;var O=!0;try{O=$(!0,_)}finally{O?ke():(A=!1,$=null)}}else A=!1}var ke;if(typeof g=="function")ke=function(){g(de)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,K=Be.port2;Be.port1.onmessage=de,ke=function(){K.postMessage(null)}}else ke=function(){N(de,0)};function re(_){$=_,A||(A=!0,ke())}function Y(_,O){I=N(function(){_(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,re(P))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var se=d;d=O;try{return _()}finally{d=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,O){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var se=d;d=_;try{return O()}finally{d=se}},e.unstable_scheduleCallback=function(_,O,se){var Ce=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ce+se:Ce):se=Ce,_){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=se+be,_={id:p++,callback:O,priorityLevel:_,startTime:se,expirationTime:be,sortIndex:-1},se>Ce?(_.sortIndex=se,t(u,_),n(c)===null&&_===n(u)&&(b?(y(I),I=-1):b=!0,Y(S,se-Ce))):(_.sortIndex=be,t(c,_),x||m||(x=!0,re(P))),_},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(_){var O=d;return function(){var se=d;d=O;try{return _.apply(this,arguments)}finally{d=se}}}})(ip);lp.exports=ip;var cy=lp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy=v,Kt=cy;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ap=new Set,Xs={};function Ir(e,t){is(e,t),is(e+"Capture",t)}function is(e,t){for(Xs[e]=t,e=0;e<t.length;e++)ap.add(t[e])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=Object.prototype.hasOwnProperty,dy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ju={},qu={};function fy(e){return ga.call(qu,e)?!0:ga.call(Ju,e)?!1:dy.test(e)?qu[e]=!0:(Ju[e]=!0,!1)}function py(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function my(e,t,n,r){if(t===null||typeof t>"u"||py(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tt(e,t,n,r,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new Tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new Tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new Tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new Tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new Tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new Tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new Tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new Tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new Tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nc=/[\-:]([a-z])/g;function kc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nc,kc);St[t]=new Tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nc,kc);St[t]=new Tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nc,kc);St[t]=new Tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new Tt(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new Tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ec(e,t,n,r){var s=St.hasOwnProperty(t)?St[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(my(t,n,s,r)&&(n=null),r||s===null?fy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bn=uy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bo=Symbol.for("react.element"),Ur=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),Cc=Symbol.for("react.strict_mode"),ya=Symbol.for("react.profiler"),cp=Symbol.for("react.provider"),up=Symbol.for("react.context"),Dc=Symbol.for("react.forward_ref"),va=Symbol.for("react.suspense"),xa=Symbol.for("react.suspense_list"),Ac=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),dp=Symbol.for("react.offscreen"),Xu=Symbol.iterator;function Es(e){return e===null||typeof e!="object"?null:(e=Xu&&e[Xu]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Object.assign,Ai;function Os(e){if(Ai===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ai=t&&t[1]||""}return`
`+Ai+e}var Ii=!1;function ji(e,t){if(!e||Ii)return"";Ii=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,i=o.length-1;1<=l&&0<=i&&s[l]!==o[i];)i--;for(;1<=l&&0<=i;l--,i--)if(s[l]!==o[i]){if(l!==1||i!==1)do if(l--,i--,0>i||s[l]!==o[i]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=i);break}}}finally{Ii=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Os(e):""}function hy(e){switch(e.tag){case 5:return Os(e.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 2:case 15:return e=ji(e.type,!1),e;case 11:return e=ji(e.type.render,!1),e;case 1:return e=ji(e.type,!0),e;default:return""}}function wa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gr:return"Fragment";case Ur:return"Portal";case ya:return"Profiler";case Cc:return"StrictMode";case va:return"Suspense";case xa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case up:return(e.displayName||"Context")+".Consumer";case cp:return(e._context.displayName||"Context")+".Provider";case Dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ac:return t=e.displayName||null,t!==null?t:wa(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return wa(e(t))}catch{}}return null}function gy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wa(t);case 8:return t===Cc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yy(e){var t=fp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zo(e){e._valueTracker||(e._valueTracker=yy(e))}function pp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ba(e,t){var n=t.checked;return lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=lr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mp(e,t){t=t.checked,t!=null&&Ec(e,"checked",t,!1)}function Sa(e,t){mp(e,t);var n=lr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Na(e,t.type,n):t.hasOwnProperty("defaultValue")&&Na(e,t.type,lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ed(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Na(e,t,n){(t!=="number"||wl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ls=Array.isArray;function es(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function td(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(Ls(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:lr(n)}}function hp(e,t){var n=lr(t.value),r=lr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ea(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uo,yp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uo=Uo||document.createElement("div"),Uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vy=["Webkit","ms","Moz","O"];Object.keys(Bs).forEach(function(e){vy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bs[t]=Bs[e]})});function vp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bs.hasOwnProperty(e)&&Bs[e]?(""+t).trim():t+"px"}function xp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var xy=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(e,t){if(t){if(xy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Da(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aa=null;function Ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ia=null,ts=null,ns=null;function rd(e){if(e=Co(e)){if(typeof Ia!="function")throw Error(G(280));var t=e.stateNode;t&&(t=oi(t),Ia(e.stateNode,e.type,t))}}function wp(e){ts?ns?ns.push(e):ns=[e]:ts=e}function bp(){if(ts){var e=ts,t=ns;if(ns=ts=null,rd(e),t)for(e=0;e<t.length;e++)rd(t[e])}}function Sp(e,t){return e(t)}function Np(){}var Pi=!1;function kp(e,t,n){if(Pi)return e(t,n);Pi=!0;try{return Sp(e,t,n)}finally{Pi=!1,(ts!==null||ns!==null)&&(Np(),bp())}}function eo(e,t){var n=e.stateNode;if(n===null)return null;var r=oi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var ja=!1;if(On)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){ja=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{ja=!1}function wy(e,t,n,r,s,o,l,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var zs=!1,bl=null,Sl=!1,Pa=null,by={onError:function(e){zs=!0,bl=e}};function Sy(e,t,n,r,s,o,l,i,c){zs=!1,bl=null,wy.apply(by,arguments)}function Ny(e,t,n,r,s,o,l,i,c){if(Sy.apply(this,arguments),zs){if(zs){var u=bl;zs=!1,bl=null}else throw Error(G(198));Sl||(Sl=!0,Pa=u)}}function jr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ep(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sd(e){if(jr(e)!==e)throw Error(G(188))}function ky(e){var t=e.alternate;if(!t){if(t=jr(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return sd(s),e;if(o===r)return sd(s),t;o=o.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,i=s.child;i;){if(i===n){l=!0,n=s,r=o;break}if(i===r){l=!0,r=s,n=o;break}i=i.sibling}if(!l){for(i=o.child;i;){if(i===n){l=!0,n=o,r=s;break}if(i===r){l=!0,r=o,n=s;break}i=i.sibling}if(!l)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function Cp(e){return e=ky(e),e!==null?Dp(e):null}function Dp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dp(e);if(t!==null)return t;e=e.sibling}return null}var Ap=Kt.unstable_scheduleCallback,od=Kt.unstable_cancelCallback,Ey=Kt.unstable_shouldYield,Cy=Kt.unstable_requestPaint,ct=Kt.unstable_now,Dy=Kt.unstable_getCurrentPriorityLevel,jc=Kt.unstable_ImmediatePriority,Ip=Kt.unstable_UserBlockingPriority,Nl=Kt.unstable_NormalPriority,Ay=Kt.unstable_LowPriority,jp=Kt.unstable_IdlePriority,ti=null,Dn=null;function Iy(e){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(ti,e,void 0,(e.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:_y,jy=Math.log,Py=Math.LN2;function _y(e){return e>>>=0,e===0?32:31-(jy(e)/Py|0)|0}var Go=64,Wo=4194304;function Fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var i=l&~s;i!==0?r=Fs(i):(o&=l,o!==0&&(r=Fs(o)))}else l=n&~s,l!==0?r=Fs(l):o!==0&&(r=Fs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gn(t),s=1<<n,r|=e[n],t&=~s;return r}function Ry(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function My(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-gn(o),i=1<<l,c=s[l];c===-1?(!(i&n)||i&r)&&(s[l]=Ry(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}}function _a(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pp(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function _i(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ko(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gn(t),e[t]=n}function Ty(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Pc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ge=0;function _p(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rp,_c,Mp,Tp,Op,Ra=!1,Vo=[],Jn=null,qn=null,Xn=null,to=new Map,no=new Map,Hn=[],Oy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ld(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":to.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(t.pointerId)}}function Ds(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Co(t),t!==null&&_c(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ly(e,t,n,r,s){switch(t){case"focusin":return Jn=Ds(Jn,e,t,n,r,s),!0;case"dragenter":return qn=Ds(qn,e,t,n,r,s),!0;case"mouseover":return Xn=Ds(Xn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return to.set(o,Ds(to.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,no.set(o,Ds(no.get(o)||null,e,t,n,r,s)),!0}return!1}function Lp(e){var t=vr(e.target);if(t!==null){var n=jr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ep(n),t!==null){e.blockedOn=t,Op(e.priority,function(){Mp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function al(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ma(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Aa=r,n.target.dispatchEvent(r),Aa=null}else return t=Co(n),t!==null&&_c(t),e.blockedOn=n,!1;t.shift()}return!0}function id(e,t,n){al(e)&&n.delete(t)}function Fy(){Ra=!1,Jn!==null&&al(Jn)&&(Jn=null),qn!==null&&al(qn)&&(qn=null),Xn!==null&&al(Xn)&&(Xn=null),to.forEach(id),no.forEach(id)}function As(e,t){e.blockedOn===t&&(e.blockedOn=null,Ra||(Ra=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,Fy)))}function ro(e){function t(s){return As(s,e)}if(0<Vo.length){As(Vo[0],e);for(var n=1;n<Vo.length;n++){var r=Vo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jn!==null&&As(Jn,e),qn!==null&&As(qn,e),Xn!==null&&As(Xn,e),to.forEach(t),no.forEach(t),n=0;n<Hn.length;n++)r=Hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)Lp(n),n.blockedOn===null&&Hn.shift()}var rs=Bn.ReactCurrentBatchConfig,El=!0;function $y(e,t,n,r){var s=Ge,o=rs.transition;rs.transition=null;try{Ge=1,Rc(e,t,n,r)}finally{Ge=s,rs.transition=o}}function By(e,t,n,r){var s=Ge,o=rs.transition;rs.transition=null;try{Ge=4,Rc(e,t,n,r)}finally{Ge=s,rs.transition=o}}function Rc(e,t,n,r){if(El){var s=Ma(e,t,n,r);if(s===null)Ui(e,t,r,Cl,n),ld(e,r);else if(Ly(s,e,t,n,r))r.stopPropagation();else if(ld(e,r),t&4&&-1<Oy.indexOf(e)){for(;s!==null;){var o=Co(s);if(o!==null&&Rp(o),o=Ma(e,t,n,r),o===null&&Ui(e,t,r,Cl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ui(e,t,r,null,n)}}var Cl=null;function Ma(e,t,n,r){if(Cl=null,e=Ic(r),e=vr(e),e!==null)if(t=jr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ep(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cl=e,null}function Fp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dy()){case jc:return 1;case Ip:return 4;case Nl:case Ay:return 16;case jp:return 536870912;default:return 16}default:return 16}}var Qn=null,Mc=null,cl=null;function $p(){if(cl)return cl;var e,t=Mc,n=t.length,r,s="value"in Qn?Qn.value:Qn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[o-r];r++);return cl=s.slice(e,1<r?1-r:void 0)}function ul(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ho(){return!0}function ad(){return!1}function Yt(e){function t(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ho:ad,this.isPropagationStopped=ad,this}return lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),t}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tc=Yt(vs),Eo=lt({},vs,{view:0,detail:0}),zy=Yt(Eo),Ri,Mi,Is,ni=lt({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Is&&(Is&&e.type==="mousemove"?(Ri=e.screenX-Is.screenX,Mi=e.screenY-Is.screenY):Mi=Ri=0,Is=e),Ri)},movementY:function(e){return"movementY"in e?e.movementY:Mi}}),cd=Yt(ni),Uy=lt({},ni,{dataTransfer:0}),Gy=Yt(Uy),Wy=lt({},Eo,{relatedTarget:0}),Ti=Yt(Wy),Vy=lt({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Hy=Yt(Vy),Ky=lt({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qy=Yt(Ky),Yy=lt({},vs,{data:0}),ud=Yt(Yy),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xy[e])?!!t[e]:!1}function Oc(){return Zy}var ev=lt({},Eo,{key:function(e){if(e.key){var t=Jy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(e){return e.type==="keypress"?ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tv=Yt(ev),nv=lt({},ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=Yt(nv),rv=lt({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),sv=Yt(rv),ov=lt({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),lv=Yt(ov),iv=lt({},ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),av=Yt(iv),cv=[9,13,27,32],Lc=On&&"CompositionEvent"in window,Us=null;On&&"documentMode"in document&&(Us=document.documentMode);var uv=On&&"TextEvent"in window&&!Us,Bp=On&&(!Lc||Us&&8<Us&&11>=Us),fd=String.fromCharCode(32),pd=!1;function zp(e,t){switch(e){case"keyup":return cv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function dv(e,t){switch(e){case"compositionend":return Up(t);case"keypress":return t.which!==32?null:(pd=!0,fd);case"textInput":return e=t.data,e===fd&&pd?null:e;default:return null}}function fv(e,t){if(Wr)return e==="compositionend"||!Lc&&zp(e,t)?(e=$p(),cl=Mc=Qn=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bp&&t.locale!=="ko"?null:t.data;default:return null}}var pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pv[e.type]:t==="textarea"}function Gp(e,t,n,r){wp(r),t=Dl(t,"onChange"),0<t.length&&(n=new Tc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gs=null,so=null;function mv(e){em(e,0)}function ri(e){var t=Kr(e);if(pp(t))return e}function hv(e,t){if(e==="change")return t}var Wp=!1;if(On){var Oi;if(On){var Li="oninput"in document;if(!Li){var hd=document.createElement("div");hd.setAttribute("oninput","return;"),Li=typeof hd.oninput=="function"}Oi=Li}else Oi=!1;Wp=Oi&&(!document.documentMode||9<document.documentMode)}function gd(){Gs&&(Gs.detachEvent("onpropertychange",Vp),so=Gs=null)}function Vp(e){if(e.propertyName==="value"&&ri(so)){var t=[];Gp(t,so,e,Ic(e)),kp(mv,t)}}function gv(e,t,n){e==="focusin"?(gd(),Gs=t,so=n,Gs.attachEvent("onpropertychange",Vp)):e==="focusout"&&gd()}function yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ri(so)}function vv(e,t){if(e==="click")return ri(t)}function xv(e,t){if(e==="input"||e==="change")return ri(t)}function wv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:wv;function oo(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ga.call(t,s)||!vn(e[s],t[s]))return!1}return!0}function yd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vd(e,t){var n=yd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yd(n)}}function Hp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kp(){for(var e=window,t=wl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wl(e.document)}return t}function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bv(e){var t=Kp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hp(n.ownerDocument.documentElement,n)){if(r!==null&&Fc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=vd(n,o);var l=vd(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sv=On&&"documentMode"in document&&11>=document.documentMode,Vr=null,Ta=null,Ws=null,Oa=!1;function xd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oa||Vr==null||Vr!==wl(r)||(r=Vr,"selectionStart"in r&&Fc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ws&&oo(Ws,r)||(Ws=r,r=Dl(Ta,"onSelect"),0<r.length&&(t=new Tc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vr)))}function Ko(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hr={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionend:Ko("Transition","TransitionEnd")},Fi={},Qp={};On&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function si(e){if(Fi[e])return Fi[e];if(!Hr[e])return e;var t=Hr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qp)return Fi[e]=t[n];return e}var Yp=si("animationend"),Jp=si("animationiteration"),qp=si("animationstart"),Xp=si("transitionend"),Zp=new Map,wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(e,t){Zp.set(e,t),Ir(t,[e])}for(var $i=0;$i<wd.length;$i++){var Bi=wd[$i],Nv=Bi.toLowerCase(),kv=Bi[0].toUpperCase()+Bi.slice(1);ur(Nv,"on"+kv)}ur(Yp,"onAnimationEnd");ur(Jp,"onAnimationIteration");ur(qp,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(Xp,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function bd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ny(r,t,void 0,e),e.currentTarget=null}function em(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==o&&s.isPropagationStopped())break e;bd(s,i,u),o=c}else for(l=0;l<r.length;l++){if(i=r[l],c=i.instance,u=i.currentTarget,i=i.listener,c!==o&&s.isPropagationStopped())break e;bd(s,i,u),o=c}}}if(Sl)throw e=Pa,Sl=!1,Pa=null,e}function Xe(e,t){var n=t[za];n===void 0&&(n=t[za]=new Set);var r=e+"__bubble";n.has(r)||(tm(t,e,2,!1),n.add(r))}function zi(e,t,n){var r=0;t&&(r|=4),tm(n,e,r,t)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function lo(e){if(!e[Qo]){e[Qo]=!0,ap.forEach(function(n){n!=="selectionchange"&&(Ev.has(n)||zi(n,!1,e),zi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qo]||(t[Qo]=!0,zi("selectionchange",!1,t))}}function tm(e,t,n,r){switch(Fp(t)){case 1:var s=$y;break;case 4:s=By;break;default:s=Rc}n=s.bind(null,t,n,e),s=void 0,!ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ui(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;i!==null;){if(l=vr(i),l===null)return;if(c=l.tag,c===5||c===6){r=o=l;continue e}i=i.parentNode}}r=r.return}kp(function(){var u=o,p=Ic(n),f=[];e:{var d=Zp.get(e);if(d!==void 0){var m=Tc,x=e;switch(e){case"keypress":if(ul(n)===0)break e;case"keydown":case"keyup":m=tv;break;case"focusin":x="focus",m=Ti;break;case"focusout":x="blur",m=Ti;break;case"beforeblur":case"afterblur":m=Ti;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sv;break;case Yp:case Jp:case qp:m=Hy;break;case Xp:m=lv;break;case"scroll":m=zy;break;case"wheel":m=av;break;case"copy":case"cut":case"paste":m=Qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=dd}var b=(t&4)!==0,N=!b&&e==="scroll",y=b?d!==null?d+"Capture":null:d;b=[];for(var g=u,w;g!==null;){w=g;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=eo(g,y),S!=null&&b.push(io(g,S,w)))),N)break;g=g.return}0<b.length&&(d=new m(d,x,null,n,p),f.push({event:d,listeners:b}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==Aa&&(x=n.relatedTarget||n.fromElement)&&(vr(x)||x[Ln]))break e;if((m||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?vr(x):null,x!==null&&(N=jr(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(b=cd,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=dd,S="onPointerLeave",y="onPointerEnter",g="pointer"),N=m==null?d:Kr(m),w=x==null?d:Kr(x),d=new b(S,g+"leave",m,n,p),d.target=N,d.relatedTarget=w,S=null,vr(p)===u&&(b=new b(y,g+"enter",x,n,p),b.target=w,b.relatedTarget=N,S=b),N=S,m&&x)t:{for(b=m,y=x,g=0,w=b;w;w=Br(w))g++;for(w=0,S=y;S;S=Br(S))w++;for(;0<g-w;)b=Br(b),g--;for(;0<w-g;)y=Br(y),w--;for(;g--;){if(b===y||y!==null&&b===y.alternate)break t;b=Br(b),y=Br(y)}b=null}else b=null;m!==null&&Sd(f,d,m,b,!1),x!==null&&N!==null&&Sd(f,N,x,b,!0)}}e:{if(d=u?Kr(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var P=hv;else if(md(d))if(Wp)P=xv;else{P=yv;var A=gv}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(P=vv);if(P&&(P=P(e,u))){Gp(f,P,n,p);break e}A&&A(e,d,u),e==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&Na(d,"number",d.value)}switch(A=u?Kr(u):window,e){case"focusin":(md(A)||A.contentEditable==="true")&&(Vr=A,Ta=u,Ws=null);break;case"focusout":Ws=Ta=Vr=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,xd(f,n,p);break;case"selectionchange":if(Sv)break;case"keydown":case"keyup":xd(f,n,p)}var $;if(Lc)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Wr?zp(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Bp&&n.locale!=="ko"&&(Wr||I!=="onCompositionStart"?I==="onCompositionEnd"&&Wr&&($=$p()):(Qn=p,Mc="value"in Qn?Qn.value:Qn.textContent,Wr=!0)),A=Dl(u,I),0<A.length&&(I=new ud(I,e,null,n,p),f.push({event:I,listeners:A}),$?I.data=$:($=Up(n),$!==null&&(I.data=$)))),($=uv?dv(e,n):fv(e,n))&&(u=Dl(u,"onBeforeInput"),0<u.length&&(p=new ud("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:u}),p.data=$))}em(f,t)})}function io(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=eo(e,n),o!=null&&r.unshift(io(e,o,s)),o=eo(e,t),o!=null&&r.push(io(e,o,s))),e=e.return}return r}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sd(e,t,n,r,s){for(var o=t._reactName,l=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,s?(c=eo(n,o),c!=null&&l.unshift(io(n,c,i))):s||(c=eo(n,o),c!=null&&l.push(io(n,c,i)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Cv=/\r\n?/g,Dv=/\u0000|\uFFFD/g;function Nd(e){return(typeof e=="string"?e:""+e).replace(Cv,`
`).replace(Dv,"")}function Yo(e,t,n){if(t=Nd(t),Nd(e)!==t&&n)throw Error(G(425))}function Al(){}var La=null,Fa=null;function $a(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ba=typeof setTimeout=="function"?setTimeout:void 0,Av=typeof clearTimeout=="function"?clearTimeout:void 0,kd=typeof Promise=="function"?Promise:void 0,Iv=typeof queueMicrotask=="function"?queueMicrotask:typeof kd<"u"?function(e){return kd.resolve(null).then(e).catch(jv)}:Ba;function jv(e){setTimeout(function(){throw e})}function Gi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ro(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ro(t)}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ed(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Cn="__reactFiber$"+xs,ao="__reactProps$"+xs,Ln="__reactContainer$"+xs,za="__reactEvents$"+xs,Pv="__reactListeners$"+xs,_v="__reactHandles$"+xs;function vr(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ln]||n[Cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ed(e);e!==null;){if(n=e[Cn])return n;e=Ed(e)}return t}e=n,n=e.parentNode}return null}function Co(e){return e=e[Cn]||e[Ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function oi(e){return e[ao]||null}var Ua=[],Qr=-1;function dr(e){return{current:e}}function Ze(e){0>Qr||(e.current=Ua[Qr],Ua[Qr]=null,Qr--)}function Qe(e,t){Qr++,Ua[Qr]=e.current,e.current=t}var ir={},At=dr(ir),Ft=dr(!1),Nr=ir;function as(e,t){var n=e.type.contextTypes;if(!n)return ir;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $t(e){return e=e.childContextTypes,e!=null}function Il(){Ze(Ft),Ze(At)}function Cd(e,t,n){if(At.current!==ir)throw Error(G(168));Qe(At,t),Qe(Ft,n)}function nm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(G(108,gy(e)||"Unknown",s));return lt({},n,r)}function jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ir,Nr=At.current,Qe(At,e),Qe(Ft,Ft.current),!0}function Dd(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=nm(e,t,Nr),r.__reactInternalMemoizedMergedChildContext=e,Ze(Ft),Ze(At),Qe(At,e)):Ze(Ft),Qe(Ft,n)}var jn=null,li=!1,Wi=!1;function rm(e){jn===null?jn=[e]:jn.push(e)}function Rv(e){li=!0,rm(e)}function fr(){if(!Wi&&jn!==null){Wi=!0;var e=0,t=Ge;try{var n=jn;for(Ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jn=null,li=!1}catch(s){throw jn!==null&&(jn=jn.slice(e+1)),Ap(jc,fr),s}finally{Ge=t,Wi=!1}}return null}var Yr=[],Jr=0,Pl=null,_l=0,Xt=[],Zt=0,kr=null,Pn=1,_n="";function hr(e,t){Yr[Jr++]=_l,Yr[Jr++]=Pl,Pl=e,_l=t}function sm(e,t,n){Xt[Zt++]=Pn,Xt[Zt++]=_n,Xt[Zt++]=kr,kr=e;var r=Pn;e=_n;var s=32-gn(r)-1;r&=~(1<<s),n+=1;var o=32-gn(t)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Pn=1<<32-gn(t)+s|n<<s|r,_n=o+e}else Pn=1<<o|n<<s|r,_n=e}function $c(e){e.return!==null&&(hr(e,1),sm(e,1,0))}function Bc(e){for(;e===Pl;)Pl=Yr[--Jr],Yr[Jr]=null,_l=Yr[--Jr],Yr[Jr]=null;for(;e===kr;)kr=Xt[--Zt],Xt[Zt]=null,_n=Xt[--Zt],Xt[Zt]=null,Pn=Xt[--Zt],Xt[Zt]=null}var Wt=null,Ut=null,rt=!1,mn=null;function om(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ad(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wt=e,Ut=Zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kr!==null?{id:Pn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wt=e,Ut=null,!0):!1;default:return!1}}function Ga(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wa(e){if(rt){var t=Ut;if(t){var n=t;if(!Ad(e,t)){if(Ga(e))throw Error(G(418));t=Zn(n.nextSibling);var r=Wt;t&&Ad(e,t)?om(r,n):(e.flags=e.flags&-4097|2,rt=!1,Wt=e)}}else{if(Ga(e))throw Error(G(418));e.flags=e.flags&-4097|2,rt=!1,Wt=e}}}function Id(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wt=e}function Jo(e){if(e!==Wt)return!1;if(!rt)return Id(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$a(e.type,e.memoizedProps)),t&&(t=Ut)){if(Ga(e))throw lm(),Error(G(418));for(;t;)om(e,t),t=Zn(t.nextSibling)}if(Id(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=Zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Wt?Zn(e.stateNode.nextSibling):null;return!0}function lm(){for(var e=Ut;e;)e=Zn(e.nextSibling)}function cs(){Ut=Wt=null,rt=!1}function zc(e){mn===null?mn=[e]:mn.push(e)}var Mv=Bn.ReactCurrentBatchConfig;function js(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var i=s.refs;l===null?delete i[o]:i[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jd(e){var t=e._init;return t(e._payload)}function im(e){function t(y,g){if(e){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=rr(y,g),y.index=0,y.sibling=null,y}function o(y,g,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function i(y,g,w,S){return g===null||g.tag!==6?(g=qi(w,y.mode,S),g.return=y,g):(g=s(g,w),g.return=y,g)}function c(y,g,w,S){var P=w.type;return P===Gr?p(y,g,w.props.children,S,w.key):g!==null&&(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wn&&jd(P)===g.type)?(S=s(g,w.props),S.ref=js(y,g,w),S.return=y,S):(S=yl(w.type,w.key,w.props,null,y.mode,S),S.ref=js(y,g,w),S.return=y,S)}function u(y,g,w,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Xi(w,y.mode,S),g.return=y,g):(g=s(g,w.children||[]),g.return=y,g)}function p(y,g,w,S,P){return g===null||g.tag!==7?(g=Sr(w,y.mode,S,P),g.return=y,g):(g=s(g,w),g.return=y,g)}function f(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=qi(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bo:return w=yl(g.type,g.key,g.props,null,y.mode,w),w.ref=js(y,null,g),w.return=y,w;case Ur:return g=Xi(g,y.mode,w),g.return=y,g;case Wn:var S=g._init;return f(y,S(g._payload),w)}if(Ls(g)||Es(g))return g=Sr(g,y.mode,w,null),g.return=y,g;qo(y,g)}return null}function d(y,g,w,S){var P=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:i(y,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bo:return w.key===P?c(y,g,w,S):null;case Ur:return w.key===P?u(y,g,w,S):null;case Wn:return P=w._init,d(y,g,P(w._payload),S)}if(Ls(w)||Es(w))return P!==null?null:p(y,g,w,S,null);qo(y,w)}return null}function m(y,g,w,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,i(g,y,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bo:return y=y.get(S.key===null?w:S.key)||null,c(g,y,S,P);case Ur:return y=y.get(S.key===null?w:S.key)||null,u(g,y,S,P);case Wn:var A=S._init;return m(y,g,w,A(S._payload),P)}if(Ls(S)||Es(S))return y=y.get(w)||null,p(g,y,S,P,null);qo(g,S)}return null}function x(y,g,w,S){for(var P=null,A=null,$=g,I=g=0,Ee=null;$!==null&&I<w.length;I++){$.index>I?(Ee=$,$=null):Ee=$.sibling;var V=d(y,$,w[I],S);if(V===null){$===null&&($=Ee);break}e&&$&&V.alternate===null&&t(y,$),g=o(V,g,I),A===null?P=V:A.sibling=V,A=V,$=Ee}if(I===w.length)return n(y,$),rt&&hr(y,I),P;if($===null){for(;I<w.length;I++)$=f(y,w[I],S),$!==null&&(g=o($,g,I),A===null?P=$:A.sibling=$,A=$);return rt&&hr(y,I),P}for($=r(y,$);I<w.length;I++)Ee=m($,y,I,w[I],S),Ee!==null&&(e&&Ee.alternate!==null&&$.delete(Ee.key===null?I:Ee.key),g=o(Ee,g,I),A===null?P=Ee:A.sibling=Ee,A=Ee);return e&&$.forEach(function(xe){return t(y,xe)}),rt&&hr(y,I),P}function b(y,g,w,S){var P=Es(w);if(typeof P!="function")throw Error(G(150));if(w=P.call(w),w==null)throw Error(G(151));for(var A=P=null,$=g,I=g=0,Ee=null,V=w.next();$!==null&&!V.done;I++,V=w.next()){$.index>I?(Ee=$,$=null):Ee=$.sibling;var xe=d(y,$,V.value,S);if(xe===null){$===null&&($=Ee);break}e&&$&&xe.alternate===null&&t(y,$),g=o(xe,g,I),A===null?P=xe:A.sibling=xe,A=xe,$=Ee}if(V.done)return n(y,$),rt&&hr(y,I),P;if($===null){for(;!V.done;I++,V=w.next())V=f(y,V.value,S),V!==null&&(g=o(V,g,I),A===null?P=V:A.sibling=V,A=V);return rt&&hr(y,I),P}for($=r(y,$);!V.done;I++,V=w.next())V=m($,y,I,V.value,S),V!==null&&(e&&V.alternate!==null&&$.delete(V.key===null?I:V.key),g=o(V,g,I),A===null?P=V:A.sibling=V,A=V);return e&&$.forEach(function(de){return t(y,de)}),rt&&hr(y,I),P}function N(y,g,w,S){if(typeof w=="object"&&w!==null&&w.type===Gr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bo:e:{for(var P=w.key,A=g;A!==null;){if(A.key===P){if(P=w.type,P===Gr){if(A.tag===7){n(y,A.sibling),g=s(A,w.props.children),g.return=y,y=g;break e}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wn&&jd(P)===A.type){n(y,A.sibling),g=s(A,w.props),g.ref=js(y,A,w),g.return=y,y=g;break e}n(y,A);break}else t(y,A);A=A.sibling}w.type===Gr?(g=Sr(w.props.children,y.mode,S,w.key),g.return=y,y=g):(S=yl(w.type,w.key,w.props,null,y.mode,S),S.ref=js(y,g,w),S.return=y,y=S)}return l(y);case Ur:e:{for(A=w.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(y,g.sibling),g=s(g,w.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=Xi(w,y.mode,S),g.return=y,y=g}return l(y);case Wn:return A=w._init,N(y,g,A(w._payload),S)}if(Ls(w))return x(y,g,w,S);if(Es(w))return b(y,g,w,S);qo(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,w),g.return=y,y=g):(n(y,g),g=qi(w,y.mode,S),g.return=y,y=g),l(y)):n(y,g)}return N}var us=im(!0),am=im(!1),Rl=dr(null),Ml=null,qr=null,Uc=null;function Gc(){Uc=qr=Ml=null}function Wc(e){var t=Rl.current;Ze(Rl),e._currentValue=t}function Va(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ss(e,t){Ml=e,Uc=qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lt=!0),e.firstContext=null)}function sn(e){var t=e._currentValue;if(Uc!==e)if(e={context:e,memoizedValue:t,next:null},qr===null){if(Ml===null)throw Error(G(308));qr=e,Ml.dependencies={lanes:0,firstContext:e}}else qr=qr.next=e;return t}var xr=null;function Vc(e){xr===null?xr=[e]:xr.push(e)}function cm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Vc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Fn(e,r)}function Fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vn=!1;function Hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function um(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Fn(e,n)}return s=r.interleaved,s===null?(t.next=t,Vc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Fn(e,n)}function dl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pc(e,n)}}function Pd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tl(e,t,n,r){var s=e.updateQueue;Vn=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,u=c.next;c.next=null,l===null?o=u:l.next=u,l=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==l&&(i===null?p.firstBaseUpdate=u:i.next=u,p.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;l=0,p=u=c=null,i=o;do{var d=i.lane,m=i.eventTime;if((r&d)===d){p!==null&&(p=p.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var x=e,b=i;switch(d=t,m=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){f=x.call(m,f,d);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,d=typeof x=="function"?x.call(m,f,d):x,d==null)break e;f=lt({},f,d);break e;case 2:Vn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[i]:d.push(i))}else m={eventTime:m,lane:d,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(u=p=m,c=f):p=p.next=m,l|=d;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;d=i,i=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(p===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Cr|=l,e.lanes=l,e.memoizedState=f}}function _d(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var Do={},An=dr(Do),co=dr(Do),uo=dr(Do);function wr(e){if(e===Do)throw Error(G(174));return e}function Kc(e,t){switch(Qe(uo,t),Qe(co,e),Qe(An,Do),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ea(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ea(t,e)}Ze(An),Qe(An,t)}function ds(){Ze(An),Ze(co),Ze(uo)}function dm(e){wr(uo.current);var t=wr(An.current),n=Ea(t,e.type);t!==n&&(Qe(co,e),Qe(An,n))}function Qc(e){co.current===e&&(Ze(An),Ze(co))}var st=dr(0);function Ol(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vi=[];function Yc(){for(var e=0;e<Vi.length;e++)Vi[e]._workInProgressVersionPrimary=null;Vi.length=0}var fl=Bn.ReactCurrentDispatcher,Hi=Bn.ReactCurrentBatchConfig,Er=0,ot=null,pt=null,ht=null,Ll=!1,Vs=!1,fo=0,Tv=0;function Et(){throw Error(G(321))}function Jc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vn(e[n],t[n]))return!1;return!0}function qc(e,t,n,r,s,o){if(Er=o,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fl.current=e===null||e.memoizedState===null?$v:Bv,e=n(r,s),Vs){o=0;do{if(Vs=!1,fo=0,25<=o)throw Error(G(301));o+=1,ht=pt=null,t.updateQueue=null,fl.current=zv,e=n(r,s)}while(Vs)}if(fl.current=Fl,t=pt!==null&&pt.next!==null,Er=0,ht=pt=ot=null,Ll=!1,t)throw Error(G(300));return e}function Xc(){var e=fo!==0;return fo=0,e}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?ot.memoizedState=ht=e:ht=ht.next=e,ht}function on(){if(pt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=ht===null?ot.memoizedState:ht.next;if(t!==null)ht=t,pt=e;else{if(e===null)throw Error(G(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},ht===null?ot.memoizedState=ht=e:ht=ht.next=e}return ht}function po(e,t){return typeof t=="function"?t(e):t}function Ki(e){var t=on(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=pt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var i=l=null,c=null,u=o;do{var p=u.lane;if((Er&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=f,l=r):c=c.next=f,ot.lanes|=p,Cr|=p}u=u.next}while(u!==null&&u!==o);c===null?l=r:c.next=i,vn(r,t.memoizedState)||(Lt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ot.lanes|=o,Cr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qi(e){var t=on(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);vn(o,t.memoizedState)||(Lt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fm(){}function pm(e,t){var n=ot,r=on(),s=t(),o=!vn(r.memoizedState,s);if(o&&(r.memoizedState=s,Lt=!0),r=r.queue,Zc(gm.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,mo(9,hm.bind(null,n,r,s,t),void 0,null),gt===null)throw Error(G(349));Er&30||mm(n,t,s)}return s}function mm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hm(e,t,n,r){t.value=n,t.getSnapshot=r,ym(t)&&vm(e)}function gm(e,t,n){return n(function(){ym(t)&&vm(e)})}function ym(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vn(e,n)}catch{return!0}}function vm(e){var t=Fn(e,1);t!==null&&yn(t,e,1,-1)}function Rd(e){var t=kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},t.queue=e,e=e.dispatch=Fv.bind(null,ot,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xm(){return on().memoizedState}function pl(e,t,n,r){var s=kn();ot.flags|=e,s.memoizedState=mo(1|t,n,void 0,r===void 0?null:r)}function ii(e,t,n,r){var s=on();r=r===void 0?null:r;var o=void 0;if(pt!==null){var l=pt.memoizedState;if(o=l.destroy,r!==null&&Jc(r,l.deps)){s.memoizedState=mo(t,n,o,r);return}}ot.flags|=e,s.memoizedState=mo(1|t,n,o,r)}function Md(e,t){return pl(8390656,8,e,t)}function Zc(e,t){return ii(2048,8,e,t)}function wm(e,t){return ii(4,2,e,t)}function bm(e,t){return ii(4,4,e,t)}function Sm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nm(e,t,n){return n=n!=null?n.concat([e]):null,ii(4,4,Sm.bind(null,t,e),n)}function eu(){}function km(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Em(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cm(e,t,n){return Er&21?(vn(n,t)||(n=Pp(),ot.lanes|=n,Cr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lt=!0),e.memoizedState=n)}function Ov(e,t){var n=Ge;Ge=n!==0&&4>n?n:4,e(!0);var r=Hi.transition;Hi.transition={};try{e(!1),t()}finally{Ge=n,Hi.transition=r}}function Dm(){return on().memoizedState}function Lv(e,t,n){var r=nr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Am(e))Im(t,n);else if(n=cm(e,t,n,r),n!==null){var s=Rt();yn(n,e,r,s),jm(n,t,r)}}function Fv(e,t,n){var r=nr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Am(e))Im(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,i=o(l,n);if(s.hasEagerState=!0,s.eagerState=i,vn(i,l)){var c=t.interleaved;c===null?(s.next=s,Vc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=cm(e,t,s,r),n!==null&&(s=Rt(),yn(n,e,r,s),jm(n,t,r))}}function Am(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function Im(e,t){Vs=Ll=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pc(e,n)}}var Fl={readContext:sn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},$v={readContext:sn,useCallback:function(e,t){return kn().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:Md,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pl(4194308,4,Sm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pl(4194308,4,e,t)},useInsertionEffect:function(e,t){return pl(4,2,e,t)},useMemo:function(e,t){var n=kn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Lv.bind(null,ot,e),[r.memoizedState,e]},useRef:function(e){var t=kn();return e={current:e},t.memoizedState=e},useState:Rd,useDebugValue:eu,useDeferredValue:function(e){return kn().memoizedState=e},useTransition:function(){var e=Rd(!1),t=e[0];return e=Ov.bind(null,e[1]),kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ot,s=kn();if(rt){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),gt===null)throw Error(G(349));Er&30||mm(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Md(gm.bind(null,r,o,e),[e]),r.flags|=2048,mo(9,hm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=kn(),t=gt.identifierPrefix;if(rt){var n=_n,r=Pn;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bv={readContext:sn,useCallback:km,useContext:sn,useEffect:Zc,useImperativeHandle:Nm,useInsertionEffect:wm,useLayoutEffect:bm,useMemo:Em,useReducer:Ki,useRef:xm,useState:function(){return Ki(po)},useDebugValue:eu,useDeferredValue:function(e){var t=on();return Cm(t,pt.memoizedState,e)},useTransition:function(){var e=Ki(po)[0],t=on().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:pm,useId:Dm,unstable_isNewReconciler:!1},zv={readContext:sn,useCallback:km,useContext:sn,useEffect:Zc,useImperativeHandle:Nm,useInsertionEffect:wm,useLayoutEffect:bm,useMemo:Em,useReducer:Qi,useRef:xm,useState:function(){return Qi(po)},useDebugValue:eu,useDeferredValue:function(e){var t=on();return pt===null?t.memoizedState=e:Cm(t,pt.memoizedState,e)},useTransition:function(){var e=Qi(po)[0],t=on().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:pm,useId:Dm,unstable_isNewReconciler:!1};function fn(e,t){if(e&&e.defaultProps){t=lt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ha(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:lt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return(e=e._reactInternals)?jr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rt(),s=nr(e),o=Rn(r,s);o.payload=t,n!=null&&(o.callback=n),t=er(e,o,s),t!==null&&(yn(t,e,s,r),dl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rt(),s=nr(e),o=Rn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=er(e,o,s),t!==null&&(yn(t,e,s,r),dl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),r=nr(e),s=Rn(n,r);s.tag=2,t!=null&&(s.callback=t),t=er(e,s,r),t!==null&&(yn(t,e,r,n),dl(t,e,r))}};function Td(e,t,n,r,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!oo(n,r)||!oo(s,o):!0}function Pm(e,t,n){var r=!1,s=ir,o=t.contextType;return typeof o=="object"&&o!==null?o=sn(o):(s=$t(t)?Nr:At.current,r=t.contextTypes,o=(r=r!=null)?as(e,s):ir),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Od(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Hc(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=sn(o):(o=$t(t)?Nr:At.current,s.context=as(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ha(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ai.enqueueReplaceState(s,s.state,null),Tl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fs(e,t){try{var n="",r=t;do n+=hy(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Yi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Uv=typeof WeakMap=="function"?WeakMap:Map;function _m(e,t,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bl||(Bl=!0,sc=r),Qa(e,t)},n}function Rm(e,t,n){n=Rn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Qa(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Qa(e,t),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Ld(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Uv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=n0.bind(null,e,t,n),t.then(e,e))}function Fd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $d(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rn(-1,1),t.tag=2,er(n,t,1))),n.lanes|=1),e)}var Gv=Bn.ReactCurrentOwner,Lt=!1;function Pt(e,t,n,r){t.child=e===null?am(t,null,n,r):us(t,e.child,n,r)}function Bd(e,t,n,r,s){n=n.render;var o=t.ref;return ss(t,s),r=qc(e,t,n,r,o,s),n=Xc(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$n(e,t,s)):(rt&&n&&$c(t),t.flags|=1,Pt(e,t,r,s),t.child)}function zd(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!au(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Mm(e,t,o,r,s)):(e=yl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:oo,n(l,r)&&e.ref===t.ref)return $n(e,t,s)}return t.flags|=1,e=rr(o,r),e.ref=t.ref,e.return=t,t.child=e}function Mm(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(oo(o,r)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,$n(e,t,s)}return Ya(e,t,n,r,s)}function Tm(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Zr,zt),zt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(Zr,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qe(Zr,zt),zt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Qe(Zr,zt),zt|=r;return Pt(e,t,s,n),t.child}function Om(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ya(e,t,n,r,s){var o=$t(n)?Nr:At.current;return o=as(t,o),ss(t,s),n=qc(e,t,n,r,o,s),r=Xc(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$n(e,t,s)):(rt&&r&&$c(t),t.flags|=1,Pt(e,t,n,s),t.child)}function Ud(e,t,n,r,s){if($t(n)){var o=!0;jl(t)}else o=!1;if(ss(t,s),t.stateNode===null)ml(e,t),Pm(t,n,r),Ka(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=sn(u):(u=$t(n)?Nr:At.current,u=as(t,u));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==r||c!==u)&&Od(t,l,r,u),Vn=!1;var d=t.memoizedState;l.state=d,Tl(t,r,l,s),c=t.memoizedState,i!==r||d!==c||Ft.current||Vn?(typeof p=="function"&&(Ha(t,n,p,r),c=t.memoizedState),(i=Vn||Td(t,n,i,r,d,c,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,um(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:fn(t.type,i),l.props=u,f=t.pendingProps,d=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=sn(c):(c=$t(n)?Nr:At.current,c=as(t,c));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==f||d!==c)&&Od(t,l,r,c),Vn=!1,d=t.memoizedState,l.state=d,Tl(t,r,l,s);var x=t.memoizedState;i!==f||d!==x||Ft.current||Vn?(typeof m=="function"&&(Ha(t,n,m,r),x=t.memoizedState),(u=Vn||Td(t,n,u,r,d,x,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ja(e,t,n,r,o,s)}function Ja(e,t,n,r,s,o){Om(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Dd(t,n,!1),$n(e,t,o);r=t.stateNode,Gv.current=t;var i=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=us(t,e.child,null,o),t.child=us(t,null,i,o)):Pt(e,t,i,o),t.memoizedState=r.state,s&&Dd(t,n,!0),t.child}function Lm(e){var t=e.stateNode;t.pendingContext?Cd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cd(e,t.context,!1),Kc(e,t.containerInfo)}function Gd(e,t,n,r,s){return cs(),zc(s),t.flags|=256,Pt(e,t,n,r),t.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function Xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fm(e,t,n){var r=t.pendingProps,s=st.current,o=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Qe(st,s&1),e===null)return Wa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=di(l,r,0,null),e=Sr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Xa(n),t.memoizedState=qa,e):tu(t,l));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return Wv(e,t,l,r,i,s,n);if(o){o=r.fallback,l=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=rr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?o=rr(i,o):(o=Sr(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Xa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=qa,r}return o=e.child,e=o.sibling,r=rr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tu(e,t){return t=di({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xo(e,t,n,r){return r!==null&&zc(r),us(t,e.child,null,n),e=tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wv(e,t,n,r,s,o,l){if(n)return t.flags&256?(t.flags&=-257,r=Yi(Error(G(422))),Xo(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=di({mode:"visible",children:r.children},s,0,null),o=Sr(o,s,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&us(t,e.child,null,l),t.child.memoizedState=Xa(l),t.memoizedState=qa,o);if(!(t.mode&1))return Xo(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(G(419)),r=Yi(o,r,void 0),Xo(e,t,l,r)}if(i=(l&e.childLanes)!==0,Lt||i){if(r=gt,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Fn(e,s),yn(r,e,s,-1))}return iu(),r=Yi(Error(G(421))),Xo(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=r0.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Ut=Zn(s.nextSibling),Wt=t,rt=!0,mn=null,e!==null&&(Xt[Zt++]=Pn,Xt[Zt++]=_n,Xt[Zt++]=kr,Pn=e.id,_n=e.overflow,kr=t),t=tu(t,r.children),t.flags|=4096,t)}function Wd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Va(e.return,t,n)}function Ji(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function $m(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Pt(e,t,r.children,n),r=st.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wd(e,n,t);else if(e.tag===19)Wd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qe(st,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ol(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ji(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ol(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ji(t,!0,n,null,o);break;case"together":Ji(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=rr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vv(e,t,n){switch(t.tag){case 3:Lm(t),cs();break;case 5:dm(t);break;case 1:$t(t.type)&&jl(t);break;case 4:Kc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Qe(Rl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qe(st,st.current&1),t.flags|=128,null):n&t.child.childLanes?Fm(e,t,n):(Qe(st,st.current&1),e=$n(e,t,n),e!==null?e.sibling:null);Qe(st,st.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $m(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qe(st,st.current),r)break;return null;case 22:case 23:return t.lanes=0,Tm(e,t,n)}return $n(e,t,n)}var Bm,Za,zm,Um;Bm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Za=function(){};zm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,wr(An.current);var o=null;switch(n){case"input":s=ba(e,s),r=ba(e,r),o=[];break;case"select":s=lt({},s,{value:void 0}),r=lt({},r,{value:void 0}),o=[];break;case"textarea":s=ka(e,s),r=ka(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Al)}Ca(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(l in i)i.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(l in i)!i.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&i[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xe("scroll",e),o||i===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Um=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ps(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hv(e,t,n){var r=t.pendingProps;switch(Bc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return $t(t.type)&&Il(),Ct(t),null;case 3:return r=t.stateNode,ds(),Ze(Ft),Ze(At),Yc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Jo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(ic(mn),mn=null))),Za(e,t),Ct(t),null;case 5:Qc(t);var s=wr(uo.current);if(n=t.type,e!==null&&t.stateNode!=null)zm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return Ct(t),null}if(e=wr(An.current),Jo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Cn]=t,r[ao]=o,e=(t.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<$s.length;s++)Xe($s[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":Zu(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":td(r,o),Xe("invalid",r)}Ca(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var i=o[l];l==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&Yo(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&Yo(r.textContent,i,e),s=["children",""+i]):Xs.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&Xe("scroll",r)}switch(n){case"input":zo(r),ed(r,o,!0);break;case"textarea":zo(r),nd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Al)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Cn]=t,e[ao]=r,Bm(e,t,!1,!1),t.stateNode=e;e:{switch(l=Da(n,r),n){case"dialog":Xe("cancel",e),Xe("close",e),s=r;break;case"iframe":case"object":case"embed":Xe("load",e),s=r;break;case"video":case"audio":for(s=0;s<$s.length;s++)Xe($s[s],e);s=r;break;case"source":Xe("error",e),s=r;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),s=r;break;case"details":Xe("toggle",e),s=r;break;case"input":Zu(e,r),s=ba(e,r),Xe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=lt({},r,{value:void 0}),Xe("invalid",e);break;case"textarea":td(e,r),s=ka(e,r),Xe("invalid",e);break;default:s=r}Ca(n,s),i=s;for(o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="style"?xp(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yp(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Zs(e,c):typeof c=="number"&&Zs(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xs.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Xe("scroll",e):c!=null&&Ec(e,o,c,l))}switch(n){case"input":zo(e),ed(e,r,!1);break;case"textarea":zo(e),nd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+lr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?es(e,!!r.multiple,o,!1):r.defaultValue!=null&&es(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)Um(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=wr(uo.current),wr(An.current),Jo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cn]=t,(o=r.nodeValue!==n)&&(e=Wt,e!==null))switch(e.tag){case 3:Yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=t,t.stateNode=r}return Ct(t),null;case 13:if(Ze(st),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&Ut!==null&&t.mode&1&&!(t.flags&128))lm(),cs(),t.flags|=98560,o=!1;else if(o=Jo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(G(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[Cn]=t}else cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),o=!1}else mn!==null&&(ic(mn),mn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?mt===0&&(mt=3):iu())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return ds(),Za(e,t),e===null&&lo(t.stateNode.containerInfo),Ct(t),null;case 10:return Wc(t.type._context),Ct(t),null;case 17:return $t(t.type)&&Il(),Ct(t),null;case 19:if(Ze(st),o=t.memoizedState,o===null)return Ct(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Ps(o,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ol(e),l!==null){for(t.flags|=128,Ps(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qe(st,st.current&1|2),t.child}e=e.sibling}o.tail!==null&&ct()>ps&&(t.flags|=128,r=!0,Ps(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ol(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ps(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!rt)return Ct(t),null}else 2*ct()-o.renderingStartTime>ps&&n!==1073741824&&(t.flags|=128,r=!0,Ps(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ct(),t.sibling=null,n=st.current,Qe(st,r?n&1|2:n&1),t):(Ct(t),null);case 22:case 23:return lu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zt&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function Kv(e,t){switch(Bc(t),t.tag){case 1:return $t(t.type)&&Il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ds(),Ze(Ft),Ze(At),Yc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qc(t),null;case 13:if(Ze(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(st),null;case 4:return ds(),null;case 10:return Wc(t.type._context),null;case 22:case 23:return lu(),null;case 24:return null;default:return null}}var Zo=!1,Dt=!1,Qv=typeof WeakSet=="function"?WeakSet:Set,le=null;function Xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){at(e,t,r)}}var Vd=!1;function Yv(e,t){if(La=El,e=Kp(),Fc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,i=-1,c=-1,u=0,p=0,f=e,d=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(i=l+s),f!==o||r!==0&&f.nodeType!==3||(c=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++u===s&&(i=l),d===o&&++p===r&&(c=l),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fa={focusedElem:e,selectionRange:n},El=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,N=x.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?b:fn(t.type,b),N);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(S){at(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return x=Vd,Vd=!1,x}function Hs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ec(t,n,o)}s=s.next}while(s!==r)}}function ci(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gm(e){var t=e.alternate;t!==null&&(e.alternate=null,Gm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cn],delete t[ao],delete t[za],delete t[Pv],delete t[_v])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wm(e){return e.tag===5||e.tag===3||e.tag===4}function Hd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Al));else if(r!==4&&(e=e.child,e!==null))for(nc(e,t,n),e=e.sibling;e!==null;)nc(e,t,n),e=e.sibling}function rc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rc(e,t,n),e=e.sibling;e!==null;)rc(e,t,n),e=e.sibling}var xt=null,pn=!1;function Gn(e,t,n){for(n=n.child;n!==null;)Vm(e,t,n),n=n.sibling}function Vm(e,t,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(ti,n)}catch{}switch(n.tag){case 5:Dt||Xr(n,t);case 6:var r=xt,s=pn;xt=null,Gn(e,t,n),xt=r,pn=s,xt!==null&&(pn?(e=xt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(pn?(e=xt,n=n.stateNode,e.nodeType===8?Gi(e.parentNode,n):e.nodeType===1&&Gi(e,n),ro(e)):Gi(xt,n.stateNode));break;case 4:r=xt,s=pn,xt=n.stateNode.containerInfo,pn=!0,Gn(e,t,n),xt=r,pn=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&ec(n,t,l),s=s.next}while(s!==r)}Gn(e,t,n);break;case 1:if(!Dt&&(Xr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){at(n,t,i)}Gn(e,t,n);break;case 21:Gn(e,t,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,Gn(e,t,n),Dt=r):Gn(e,t,n);break;default:Gn(e,t,n)}}function Kd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qv),t.forEach(function(r){var s=s0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function un(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:xt=i.stateNode,pn=!1;break e;case 3:xt=i.stateNode.containerInfo,pn=!0;break e;case 4:xt=i.stateNode.containerInfo,pn=!0;break e}i=i.return}if(xt===null)throw Error(G(160));Vm(o,l,s),xt=null,pn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){at(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hm(t,e),t=t.sibling}function Hm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(un(t,e),Nn(e),r&4){try{Hs(3,e,e.return),ci(3,e)}catch(b){at(e,e.return,b)}try{Hs(5,e,e.return)}catch(b){at(e,e.return,b)}}break;case 1:un(t,e),Nn(e),r&512&&n!==null&&Xr(n,n.return);break;case 5:if(un(t,e),Nn(e),r&512&&n!==null&&Xr(n,n.return),e.flags&32){var s=e.stateNode;try{Zs(s,"")}catch(b){at(e,e.return,b)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&mp(s,o),Da(i,l);var u=Da(i,o);for(l=0;l<c.length;l+=2){var p=c[l],f=c[l+1];p==="style"?xp(s,f):p==="dangerouslySetInnerHTML"?yp(s,f):p==="children"?Zs(s,f):Ec(s,p,f,u)}switch(i){case"input":Sa(s,o);break;case"textarea":hp(s,o);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?es(s,!!o.multiple,m,!1):d!==!!o.multiple&&(o.defaultValue!=null?es(s,!!o.multiple,o.defaultValue,!0):es(s,!!o.multiple,o.multiple?[]:"",!1))}s[ao]=o}catch(b){at(e,e.return,b)}}break;case 6:if(un(t,e),Nn(e),r&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(b){at(e,e.return,b)}}break;case 3:if(un(t,e),Nn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ro(t.containerInfo)}catch(b){at(e,e.return,b)}break;case 4:un(t,e),Nn(e);break;case 13:un(t,e),Nn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(su=ct())),r&4&&Kd(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||p,un(t,e),Dt=u):un(t,e),Nn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(le=e,p=e.child;p!==null;){for(f=le=p;le!==null;){switch(d=le,m=d.child,d.tag){case 0:case 11:case 14:case 15:Hs(4,d,d.return);break;case 1:Xr(d,d.return);var x=d.stateNode;if(typeof x.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){at(r,n,b)}}break;case 5:Xr(d,d.return);break;case 22:if(d.memoizedState!==null){Yd(f);continue}}m!==null?(m.return=d,le=m):Yd(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=vp("display",l))}catch(b){at(e,e.return,b)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){at(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:un(t,e),Nn(e),r&4&&Kd(e);break;case 21:break;default:un(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wm(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zs(s,""),r.flags&=-33);var o=Hd(e);rc(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,i=Hd(e);nc(e,i,l);break;default:throw Error(G(161))}}catch(c){at(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jv(e,t,n){le=e,Km(e)}function Km(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var s=le,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Zo;if(!l){var i=s.alternate,c=i!==null&&i.memoizedState!==null||Dt;i=Zo;var u=Dt;if(Zo=l,(Dt=c)&&!u)for(le=s;le!==null;)l=le,c=l.child,l.tag===22&&l.memoizedState!==null?Jd(s):c!==null?(c.return=l,le=c):Jd(s);for(;o!==null;)le=o,Km(o),o=o.sibling;le=s,Zo=i,Dt=u}Qd(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,le=o):Qd(e)}}function Qd(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||ci(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:fn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&_d(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_d(t,l,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&ro(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Dt||t.flags&512&&tc(t)}catch(d){at(t,t.return,d)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function Yd(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Jd(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ci(4,t)}catch(c){at(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){at(t,s,c)}}var o=t.return;try{tc(t)}catch(c){at(t,o,c)}break;case 5:var l=t.return;try{tc(t)}catch(c){at(t,l,c)}}}catch(c){at(t,t.return,c)}if(t===e){le=null;break}var i=t.sibling;if(i!==null){i.return=t.return,le=i;break}le=t.return}}var qv=Math.ceil,$l=Bn.ReactCurrentDispatcher,nu=Bn.ReactCurrentOwner,nn=Bn.ReactCurrentBatchConfig,Fe=0,gt=null,dt=null,bt=0,zt=0,Zr=dr(0),mt=0,ho=null,Cr=0,ui=0,ru=0,Ks=null,Ot=null,su=0,ps=1/0,In=null,Bl=!1,sc=null,tr=null,el=!1,Yn=null,zl=0,Qs=0,oc=null,hl=-1,gl=0;function Rt(){return Fe&6?ct():hl!==-1?hl:hl=ct()}function nr(e){return e.mode&1?Fe&2&&bt!==0?bt&-bt:Mv.transition!==null?(gl===0&&(gl=Pp()),gl):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:Fp(e.type)),e):1}function yn(e,t,n,r){if(50<Qs)throw Qs=0,oc=null,Error(G(185));ko(e,n,r),(!(Fe&2)||e!==gt)&&(e===gt&&(!(Fe&2)&&(ui|=n),mt===4&&Kn(e,bt)),Bt(e,r),n===1&&Fe===0&&!(t.mode&1)&&(ps=ct()+500,li&&fr()))}function Bt(e,t){var n=e.callbackNode;My(e,t);var r=kl(e,e===gt?bt:0);if(r===0)n!==null&&od(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&od(n),t===1)e.tag===0?Rv(qd.bind(null,e)):rm(qd.bind(null,e)),Iv(function(){!(Fe&6)&&fr()}),n=null;else{switch(_p(r)){case 1:n=jc;break;case 4:n=Ip;break;case 16:n=Nl;break;case 536870912:n=jp;break;default:n=Nl}n=th(n,Qm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qm(e,t){if(hl=-1,gl=0,Fe&6)throw Error(G(327));var n=e.callbackNode;if(os()&&e.callbackNode!==n)return null;var r=kl(e,e===gt?bt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ul(e,r);else{t=r;var s=Fe;Fe|=2;var o=Jm();(gt!==e||bt!==t)&&(In=null,ps=ct()+500,br(e,t));do try{e0();break}catch(i){Ym(e,i)}while(1);Gc(),$l.current=o,Fe=s,dt!==null?t=0:(gt=null,bt=0,t=mt)}if(t!==0){if(t===2&&(s=_a(e),s!==0&&(r=s,t=lc(e,s))),t===1)throw n=ho,br(e,0),Kn(e,r),Bt(e,ct()),n;if(t===6)Kn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Xv(s)&&(t=Ul(e,r),t===2&&(o=_a(e),o!==0&&(r=o,t=lc(e,o))),t===1))throw n=ho,br(e,0),Kn(e,r),Bt(e,ct()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:gr(e,Ot,In);break;case 3:if(Kn(e,r),(r&130023424)===r&&(t=su+500-ct(),10<t)){if(kl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ba(gr.bind(null,e,Ot,In),t);break}gr(e,Ot,In);break;case 4:if(Kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-gn(r);o=1<<l,l=t[l],l>s&&(s=l),r&=~o}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qv(r/1960))-r,10<r){e.timeoutHandle=Ba(gr.bind(null,e,Ot,In),r);break}gr(e,Ot,In);break;case 5:gr(e,Ot,In);break;default:throw Error(G(329))}}}return Bt(e,ct()),e.callbackNode===n?Qm.bind(null,e):null}function lc(e,t){var n=Ks;return e.current.memoizedState.isDehydrated&&(br(e,t).flags|=256),e=Ul(e,t),e!==2&&(t=Ot,Ot=n,t!==null&&ic(t)),e}function ic(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function Xv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!vn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t){for(t&=~ru,t&=~ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gn(t),r=1<<n;e[n]=-1,t&=~r}}function qd(e){if(Fe&6)throw Error(G(327));os();var t=kl(e,0);if(!(t&1))return Bt(e,ct()),null;var n=Ul(e,t);if(e.tag!==0&&n===2){var r=_a(e);r!==0&&(t=r,n=lc(e,r))}if(n===1)throw n=ho,br(e,0),Kn(e,t),Bt(e,ct()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gr(e,Ot,In),Bt(e,ct()),null}function ou(e,t){var n=Fe;Fe|=1;try{return e(t)}finally{Fe=n,Fe===0&&(ps=ct()+500,li&&fr())}}function Dr(e){Yn!==null&&Yn.tag===0&&!(Fe&6)&&os();var t=Fe;Fe|=1;var n=nn.transition,r=Ge;try{if(nn.transition=null,Ge=1,e)return e()}finally{Ge=r,nn.transition=n,Fe=t,!(Fe&6)&&fr()}}function lu(){zt=Zr.current,Ze(Zr)}function br(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Av(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Bc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Il();break;case 3:ds(),Ze(Ft),Ze(At),Yc();break;case 5:Qc(r);break;case 4:ds();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:Wc(r.type._context);break;case 22:case 23:lu()}n=n.return}if(gt=e,dt=e=rr(e.current,null),bt=zt=t,mt=0,ho=null,ru=ui=Cr=0,Ot=Ks=null,xr!==null){for(t=0;t<xr.length;t++)if(n=xr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}xr=null}return e}function Ym(e,t){do{var n=dt;try{if(Gc(),fl.current=Fl,Ll){for(var r=ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ll=!1}if(Er=0,ht=pt=ot=null,Vs=!1,fo=0,nu.current=null,n===null||n.return===null){mt=1,ho=t,dt=null;break}e:{var o=e,l=n.return,i=n,c=t;if(t=bt,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=i,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=Fd(l);if(m!==null){m.flags&=-257,$d(m,l,i,o,t),m.mode&1&&Ld(o,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var b=new Set;b.add(c),t.updateQueue=b}else x.add(c);break e}else{if(!(t&1)){Ld(o,u,t),iu();break e}c=Error(G(426))}}else if(rt&&i.mode&1){var N=Fd(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),$d(N,l,i,o,t),zc(fs(c,i));break e}}o=c=fs(c,i),mt!==4&&(mt=2),Ks===null?Ks=[o]:Ks.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=_m(o,c,t);Pd(o,y);break e;case 1:i=c;var g=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(tr===null||!tr.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=Rm(o,i,t);Pd(o,S);break e}}o=o.return}while(o!==null)}Xm(n)}catch(P){t=P,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function Jm(){var e=$l.current;return $l.current=Fl,e===null?Fl:e}function iu(){(mt===0||mt===3||mt===2)&&(mt=4),gt===null||!(Cr&268435455)&&!(ui&268435455)||Kn(gt,bt)}function Ul(e,t){var n=Fe;Fe|=2;var r=Jm();(gt!==e||bt!==t)&&(In=null,br(e,t));do try{Zv();break}catch(s){Ym(e,s)}while(1);if(Gc(),Fe=n,$l.current=r,dt!==null)throw Error(G(261));return gt=null,bt=0,mt}function Zv(){for(;dt!==null;)qm(dt)}function e0(){for(;dt!==null&&!Ey();)qm(dt)}function qm(e){var t=eh(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Xm(e):dt=t,nu.current=null}function Xm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kv(n,t),n!==null){n.flags&=32767,dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,dt=null;return}}else if(n=Hv(n,t,zt),n!==null){dt=n;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);mt===0&&(mt=5)}function gr(e,t,n){var r=Ge,s=nn.transition;try{nn.transition=null,Ge=1,t0(e,t,n,r)}finally{nn.transition=s,Ge=r}return null}function t0(e,t,n,r){do os();while(Yn!==null);if(Fe&6)throw Error(G(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ty(e,o),e===gt&&(dt=gt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||el||(el=!0,th(Nl,function(){return os(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nn.transition,nn.transition=null;var l=Ge;Ge=1;var i=Fe;Fe|=4,nu.current=null,Yv(e,n),Hm(n,e),bv(Fa),El=!!La,Fa=La=null,e.current=n,Jv(n),Cy(),Fe=i,Ge=l,nn.transition=o}else e.current=n;if(el&&(el=!1,Yn=e,zl=s),o=e.pendingLanes,o===0&&(tr=null),Iy(n.stateNode),Bt(e,ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bl)throw Bl=!1,e=sc,sc=null,e;return zl&1&&e.tag!==0&&os(),o=e.pendingLanes,o&1?e===oc?Qs++:(Qs=0,oc=e):Qs=0,fr(),null}function os(){if(Yn!==null){var e=_p(zl),t=nn.transition,n=Ge;try{if(nn.transition=null,Ge=16>e?16:e,Yn===null)var r=!1;else{if(e=Yn,Yn=null,zl=0,Fe&6)throw Error(G(331));var s=Fe;for(Fe|=4,le=e.current;le!==null;){var o=le,l=o.child;if(le.flags&16){var i=o.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(le=u;le!==null;){var p=le;switch(p.tag){case 0:case 11:case 15:Hs(8,p,o)}var f=p.child;if(f!==null)f.return=p,le=f;else for(;le!==null;){p=le;var d=p.sibling,m=p.return;if(Gm(p),p===u){le=null;break}if(d!==null){d.return=m,le=d;break}le=m}}}var x=o.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}le=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,le=l;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hs(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,le=y;break e}le=o.return}}var g=e.current;for(le=g;le!==null;){l=le;var w=l.child;if(l.subtreeFlags&2064&&w!==null)w.return=l,le=w;else e:for(l=g;le!==null;){if(i=le,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:ci(9,i)}}catch(P){at(i,i.return,P)}if(i===l){le=null;break e}var S=i.sibling;if(S!==null){S.return=i.return,le=S;break e}le=i.return}}if(Fe=s,fr(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(ti,e)}catch{}r=!0}return r}finally{Ge=n,nn.transition=t}}return!1}function Xd(e,t,n){t=fs(n,t),t=_m(e,t,1),e=er(e,t,1),t=Rt(),e!==null&&(ko(e,1,t),Bt(e,t))}function at(e,t,n){if(e.tag===3)Xd(e,e,n);else for(;t!==null;){if(t.tag===3){Xd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){e=fs(n,e),e=Rm(t,e,1),t=er(t,e,1),e=Rt(),t!==null&&(ko(t,1,e),Bt(t,e));break}}t=t.return}}function n0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,gt===e&&(bt&n)===n&&(mt===4||mt===3&&(bt&130023424)===bt&&500>ct()-su?br(e,0):ru|=n),Bt(e,t)}function Zm(e,t){t===0&&(e.mode&1?(t=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):t=1);var n=Rt();e=Fn(e,t),e!==null&&(ko(e,t,n),Bt(e,n))}function r0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zm(e,n)}function s0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),Zm(e,n)}var eh;eh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)Lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Lt=!1,Vv(e,t,n);Lt=!!(e.flags&131072)}else Lt=!1,rt&&t.flags&1048576&&sm(t,_l,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ml(e,t),e=t.pendingProps;var s=as(t,At.current);ss(t,n),s=qc(null,t,r,e,s,n);var o=Xc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$t(r)?(o=!0,jl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hc(t),s.updater=ai,t.stateNode=s,s._reactInternals=t,Ka(t,r,e,n),t=Ja(null,t,r,!0,o,n)):(t.tag=0,rt&&o&&$c(t),Pt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ml(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=l0(r),e=fn(r,e),s){case 0:t=Ya(null,t,r,e,n);break e;case 1:t=Ud(null,t,r,e,n);break e;case 11:t=Bd(null,t,r,e,n);break e;case 14:t=zd(null,t,r,fn(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:fn(r,s),Ya(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:fn(r,s),Ud(e,t,r,s,n);case 3:e:{if(Lm(t),e===null)throw Error(G(387));r=t.pendingProps,o=t.memoizedState,s=o.element,um(e,t),Tl(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=fs(Error(G(423)),t),t=Gd(e,t,r,n,s);break e}else if(r!==s){s=fs(Error(G(424)),t),t=Gd(e,t,r,n,s);break e}else for(Ut=Zn(t.stateNode.containerInfo.firstChild),Wt=t,rt=!0,mn=null,n=am(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cs(),r===s){t=$n(e,t,n);break e}Pt(e,t,r,n)}t=t.child}return t;case 5:return dm(t),e===null&&Wa(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,$a(r,s)?l=null:o!==null&&$a(r,o)&&(t.flags|=32),Om(e,t),Pt(e,t,l,n),t.child;case 6:return e===null&&Wa(t),null;case 13:return Fm(e,t,n);case 4:return Kc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=us(t,null,r,n):Pt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:fn(r,s),Bd(e,t,r,s,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,Qe(Rl,r._currentValue),r._currentValue=l,o!==null)if(vn(o.value,l)){if(o.children===s.children&&!Ft.current){t=$n(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){l=o.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Rn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Va(o.return,n,t),i.lanes|=n;break}c=c.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(G(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Va(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Pt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ss(t,n),s=sn(s),r=r(s),t.flags|=1,Pt(e,t,r,n),t.child;case 14:return r=t.type,s=fn(r,t.pendingProps),s=fn(r.type,s),zd(e,t,r,s,n);case 15:return Mm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:fn(r,s),ml(e,t),t.tag=1,$t(r)?(e=!0,jl(t)):e=!1,ss(t,n),Pm(t,r,s),Ka(t,r,s,n),Ja(null,t,r,!0,e,n);case 19:return $m(e,t,n);case 22:return Tm(e,t,n)}throw Error(G(156,t.tag))};function th(e,t){return Ap(e,t)}function o0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,r){return new o0(e,t,n,r)}function au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function l0(e){if(typeof e=="function")return au(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dc)return 11;if(e===Ac)return 14}return 2}function rr(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yl(e,t,n,r,s,o){var l=2;if(r=e,typeof e=="function")au(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Gr:return Sr(n.children,s,o,t);case Cc:l=8,s|=8;break;case ya:return e=en(12,n,t,s|2),e.elementType=ya,e.lanes=o,e;case va:return e=en(13,n,t,s),e.elementType=va,e.lanes=o,e;case xa:return e=en(19,n,t,s),e.elementType=xa,e.lanes=o,e;case dp:return di(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cp:l=10;break e;case up:l=9;break e;case Dc:l=11;break e;case Ac:l=14;break e;case Wn:l=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=en(l,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Sr(e,t,n,r){return e=en(7,e,r,t),e.lanes=n,e}function di(e,t,n,r){return e=en(22,e,r,t),e.elementType=dp,e.lanes=n,e.stateNode={isHidden:!1},e}function qi(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function Xi(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_i(0),this.expirationTimes=_i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cu(e,t,n,r,s,o,l,i,c){return e=new i0(e,t,n,i,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=en(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hc(o),e}function a0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ur,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nh(e){if(!e)return ir;e=e._reactInternals;e:{if(jr(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if($t(n))return nm(e,n,t)}return t}function rh(e,t,n,r,s,o,l,i,c){return e=cu(n,r,!0,e,s,o,l,i,c),e.context=nh(null),n=e.current,r=Rt(),s=nr(n),o=Rn(r,s),o.callback=t??null,er(n,o,s),e.current.lanes=s,ko(e,s,r),Bt(e,r),e}function fi(e,t,n,r){var s=t.current,o=Rt(),l=nr(s);return n=nh(n),t.context===null?t.context=n:t.pendingContext=n,t=Rn(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=er(s,t,l),e!==null&&(yn(e,s,l,o),dl(e,s,l)),l}function Gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uu(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function c0(){return null}var sh=typeof reportError=="function"?reportError:function(e){console.error(e)};function du(e){this._internalRoot=e}pi.prototype.render=du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));fi(e,t,null,null)};pi.prototype.unmount=du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){fi(null,e,null,null)}),t[Ln]=null}};function pi(e){this._internalRoot=e}pi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&Lp(e)}};function fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ef(){}function u0(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Gl(l);o.call(u)}}var l=rh(t,r,e,0,null,!1,!1,"",ef);return e._reactRootContainer=l,e[Ln]=l.current,lo(e.nodeType===8?e.parentNode:e),Dr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=Gl(c);i.call(u)}}var c=cu(e,0,!1,null,null,!1,!1,"",ef);return e._reactRootContainer=c,e[Ln]=c.current,lo(e.nodeType===8?e.parentNode:e),Dr(function(){fi(t,c,n,r)}),c}function hi(e,t,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var i=s;s=function(){var c=Gl(l);i.call(c)}}fi(t,l,e,s)}else l=u0(n,t,e,s,r);return Gl(l)}Rp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fs(t.pendingLanes);n!==0&&(Pc(t,n|1),Bt(t,ct()),!(Fe&6)&&(ps=ct()+500,fr()))}break;case 13:Dr(function(){var r=Fn(e,1);if(r!==null){var s=Rt();yn(r,e,1,s)}}),uu(e,1)}};_c=function(e){if(e.tag===13){var t=Fn(e,134217728);if(t!==null){var n=Rt();yn(t,e,134217728,n)}uu(e,134217728)}};Mp=function(e){if(e.tag===13){var t=nr(e),n=Fn(e,t);if(n!==null){var r=Rt();yn(n,e,t,r)}uu(e,t)}};Tp=function(){return Ge};Op=function(e,t){var n=Ge;try{return Ge=e,t()}finally{Ge=n}};Ia=function(e,t,n){switch(t){case"input":if(Sa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=oi(r);if(!s)throw Error(G(90));pp(r),Sa(r,s)}}}break;case"textarea":hp(e,n);break;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}};Sp=ou;Np=Dr;var d0={usingClientEntryPoint:!1,Events:[Co,Kr,oi,wp,bp,ou]},_s={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f0={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cp(e),e===null?null:e.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||c0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{ti=tl.inject(f0),Dn=tl}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d0;Qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fu(t))throw Error(G(200));return a0(e,t,null,n)};Qt.createRoot=function(e,t){if(!fu(e))throw Error(G(299));var n=!1,r="",s=sh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=cu(e,1,!1,null,null,n,!1,r,s),e[Ln]=t.current,lo(e.nodeType===8?e.parentNode:e),new du(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=Cp(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return Dr(e)};Qt.hydrate=function(e,t,n){if(!mi(t))throw Error(G(200));return hi(null,e,t,!0,n)};Qt.hydrateRoot=function(e,t,n){if(!fu(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=sh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=rh(t,null,e,1,n??null,s,!1,o,l),e[Ln]=t.current,lo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new pi(t)};Qt.render=function(e,t,n){if(!mi(t))throw Error(G(200));return hi(null,e,t,!1,n)};Qt.unmountComponentAtNode=function(e){if(!mi(e))throw Error(G(40));return e._reactRootContainer?(Dr(function(){hi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ln]=null})}),!0):!1};Qt.unstable_batchedUpdates=ou;Qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mi(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return hi(e,t,n,!1,r)};Qt.version="18.3.1-next-f1338f8080-20240426";function oh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oh)}catch(e){console.error(e)}}oh(),op.exports=Qt;var Ao=op.exports;const p0=Kf(Ao);var tf=Ao;ha.createRoot=tf.createRoot,ha.hydrateRoot=tf.hydrateRoot;const m0=()=>a.jsx("main",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-2xl w-full p-8 bg-white rounded-lg shadow-md",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4 text-center text-gray-900",children:"Welcome to BlacklineAI"}),a.jsx("p",{className:"text-lg text-gray-700 text-center mb-6",children:"This is your forensic tool for detecting deepfake and synthetic media."}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{className:"px-6 py-2 rounded transition btn-accent",children:"Get Started"})})]})});function jt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var h0=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),nf=h0,Zi=()=>Math.random().toString(36).substring(7).split("").join("."),g0={INIT:`@@redux/INIT${Zi()}`,REPLACE:`@@redux/REPLACE${Zi()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zi()}`},rf=g0;function y0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function lh(e,t,n){if(typeof e!="function")throw new Error(jt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(jt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(jt(1));return n(lh)(e,t)}let r=e,s=t,o=new Map,l=o,i=0,c=!1;function u(){l===o&&(l=new Map,o.forEach((N,y)=>{l.set(y,N)}))}function p(){if(c)throw new Error(jt(3));return s}function f(N){if(typeof N!="function")throw new Error(jt(4));if(c)throw new Error(jt(5));let y=!0;u();const g=i++;return l.set(g,N),function(){if(y){if(c)throw new Error(jt(6));y=!1,u(),l.delete(g),o=null}}}function d(N){if(!y0(N))throw new Error(jt(7));if(typeof N.type>"u")throw new Error(jt(8));if(typeof N.type!="string")throw new Error(jt(17));if(c)throw new Error(jt(9));try{c=!0,s=r(s,N)}finally{c=!1}return(o=l).forEach(g=>{g()}),N}function m(N){if(typeof N!="function")throw new Error(jt(10));r=N,d({type:rf.REPLACE})}function x(){const N=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(jt(11));function g(){const S=y;S.next&&S.next(p())}return g(),{unsubscribe:N(g)}},[nf](){return this}}}return d({type:rf.INIT}),{dispatch:d,subscribe:f,getState:p,replaceReducer:m,[nf]:x}}function sf(e,t){return function(...n){return t(e.apply(this,n))}}function of(e,t){if(typeof e=="function")return sf(e,t);if(typeof e!="object"||e===null)throw new Error(jt(16));const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=sf(s,t))}return n}function ih(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function v0(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(jt(15))};const l={getState:s.getState,dispatch:(c,...u)=>o(c,...u)},i=e.map(c=>c(l));return o=ih(...i)(s.dispatch),{...s,dispatch:o}}}var x0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=v;function w0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var b0=typeof Object.is=="function"?Object.is:w0,S0=Io.useSyncExternalStore,N0=Io.useRef,k0=Io.useEffect,E0=Io.useMemo,C0=Io.useDebugValue;x0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=N0(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=E0(function(){function c(m){if(!u){if(u=!0,p=m,m=r(m),s!==void 0&&l.hasValue){var x=l.value;if(s(x,m))return f=x}return f=m}if(x=f,b0(p,m))return x;var b=r(m);return s!==void 0&&s(x,b)?(p=m,x):(p=m,f=b)}var u=!1,p,f,d=n===void 0?null:n;return[function(){return c(t())},d===null?void 0:function(){return c(d())}]},[t,n,r,s]);var i=S0(e,o[0],o[1]);return k0(function(){l.hasValue=!0,l.value=i},[i]),C0(i),i};var D0=v.version.startsWith("19"),A0=Symbol.for(D0?"react.transitional.element":"react.element"),I0=Symbol.for("react.portal"),j0=Symbol.for("react.fragment"),P0=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler"),R0=Symbol.for("react.consumer"),M0=Symbol.for("react.context"),ah=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),O0=Symbol.for("react.suspense_list"),pu=Symbol.for("react.memo"),L0=Symbol.for("react.lazy"),F0=ah,$0=pu;function B0(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case A0:switch(e=e.type,e){case j0:case _0:case P0:case T0:case O0:return e;default:switch(e=e&&e.$$typeof,e){case M0:case ah:case L0:case pu:return e;case R0:return e;default:return t}}case I0:return t}}}function z0(e){return B0(e)===pu}function U0(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:o,areStatePropsEqual:l}){let i=!1,c,u,p,f,d;function m(g,w){return c=g,u=w,p=e(c,u),f=t(r,u),d=n(p,f,u),i=!0,d}function x(){return p=e(c,u),t.dependsOnOwnProps&&(f=t(r,u)),d=n(p,f,u),d}function b(){return e.dependsOnOwnProps&&(p=e(c,u)),t.dependsOnOwnProps&&(f=t(r,u)),d=n(p,f,u),d}function N(){const g=e(c,u),w=!l(g,p);return p=g,w&&(d=n(p,f,u)),d}function y(g,w){const S=!o(w,u),P=!s(g,c,w,u);return c=g,u=w,S&&P?x():S?b():P?N():d}return function(w,S){return i?y(w,S):m(w,S)}}function G0(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const o=t(e,s),l=n(e,s),i=r(e,s);return U0(o,l,i,e,s)}function W0(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...o)=>t(s(...o)))}return n}function ac(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function lf(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function ch(e,t){return function(r,{displayName:s}){const o=function(i,c){return o.dependsOnOwnProps?o.mapToProps(i,c):o.mapToProps(i,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(i,c){o.mapToProps=e,o.dependsOnOwnProps=lf(e);let u=o(i,c);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=lf(u),u=o(i,c)),u},o}}function mu(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function V0(e){return e&&typeof e=="object"?ac(t=>W0(e,t)):e?typeof e=="function"?ch(e):mu(e,"mapDispatchToProps"):ac(t=>({dispatch:t}))}function H0(e){return e?typeof e=="function"?ch(e):mu(e,"mapStateToProps"):ac(()=>({}))}function K0(e,t,n){return{...n,...e,...t}}function Q0(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let o=!1,l;return function(c,u,p){const f=e(c,u,p);return o?s(f,l)||(l=f):(o=!0,l=f),l}}}function Y0(e){return e?typeof e=="function"?Q0(e):mu(e,"mergeProps"):()=>K0}function J0(e){e()}function q0(){let e=null,t=null;return{clear(){e=null,t=null},notify(){J0(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var af={notify(){},get:()=>[]};function uh(e,t){let n,r=af,s=0,o=!1;function l(b){p();const N=r.subscribe(b);let y=!1;return()=>{y||(y=!0,N(),f())}}function i(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return o}function p(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=q0())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=af)}function d(){o||(o=!0,p())}function m(){o&&(o=!1,f())}const x={addNestedSub:l,notifyNestedSubs:i,handleChangeWrapper:c,isSubscribed:u,trySubscribe:d,tryUnsubscribe:m,getListeners:()=>r};return x}var X0=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z0=X0(),ex=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tx=ex(),nx=()=>Z0||tx?v.useLayoutEffect:v.useEffect,Wl=nx();function cf(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ea(e,t){if(cf(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!cf(e[n[s]],t[n[s]]))return!1;return!0}var rx={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sx={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ox={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dh={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lx={[F0]:ox,[$0]:dh};function uf(e){return z0(e)?dh:lx[e.$$typeof]||rx}var ix=Object.defineProperty,ax=Object.getOwnPropertyNames,df=Object.getOwnPropertySymbols,cx=Object.getOwnPropertyDescriptor,ux=Object.getPrototypeOf,ff=Object.prototype;function cc(e,t){if(typeof t!="string"){if(ff){const o=ux(t);o&&o!==ff&&cc(e,o)}let n=ax(t);df&&(n=n.concat(df(t)));const r=uf(e),s=uf(t);for(let o=0;o<n.length;++o){const l=n[o];if(!sx[l]&&!(s&&s[l])&&!(r&&r[l])){const i=cx(t,l);try{ix(e,l,i)}catch{}}}}return e}var ta=Symbol.for("react-redux-context"),na=typeof globalThis<"u"?globalThis:{};function dx(){if(!v.createContext)return{};const e=na[ta]??(na[ta]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var fh=dx(),fx=[null,null];function px(e,t,n){Wl(()=>e(...t),n)}function mx(e,t,n,r,s,o){e.current=r,n.current=!1,s.current&&(s.current=null,o())}function hx(e,t,n,r,s,o,l,i,c,u,p){if(!e)return()=>{};let f=!1,d=null;const m=()=>{if(f||!i.current)return;const b=t.getState();let N,y;try{N=r(b,s.current)}catch(g){y=g,d=g}y||(d=null),N===o.current?l.current||u():(o.current=N,c.current=N,l.current=!0,p())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}function gx(e,t){return e===t}function yx(e,t,n,{pure:r,areStatesEqual:s=gx,areOwnPropsEqual:o=ea,areStatePropsEqual:l=ea,areMergedPropsEqual:i=ea,forwardRef:c=!1,context:u=fh}={}){const p=u,f=H0(e),d=V0(t),m=Y0(n),x=!!e;return N=>{const y=N.displayName||N.name||"Component",g=`Connect(${y})`,w={shouldHandleStateChanges:x,displayName:g,wrappedComponentName:y,WrappedComponent:N,initMapStateToProps:f,initMapDispatchToProps:d,initMergeProps:m,areStatesEqual:s,areStatePropsEqual:l,areOwnPropsEqual:o,areMergedPropsEqual:i};function S($){const[I,Ee,V]=v.useMemo(()=>{const{reactReduxForwardedRef:F,...h}=$;return[$.context,F,h]},[$]),xe=v.useMemo(()=>{let F=p;return I!=null&&I.Consumer,F},[I,p]),de=v.useContext(xe),ke=!!$.store&&!!$.store.getState&&!!$.store.dispatch,Be=!!de&&!!de.store,K=ke?$.store:de.store,re=Be?de.getServerState:K.getState,Y=v.useMemo(()=>G0(K.dispatch,w),[K]),[_,O]=v.useMemo(()=>{if(!x)return fx;const F=uh(K,ke?void 0:de.subscription),h=F.notifyNestedSubs.bind(F);return[F,h]},[K,ke,de]),se=v.useMemo(()=>ke?de:{...de,subscription:_},[ke,de,_]),Ce=v.useRef(void 0),be=v.useRef(V),Re=v.useRef(void 0),ye=v.useRef(!1),it=v.useRef(!1),je=v.useRef(void 0);Wl(()=>(it.current=!0,()=>{it.current=!1}),[]);const He=v.useMemo(()=>()=>Re.current&&V===be.current?Re.current:Y(K.getState(),V),[K,V]),ut=v.useMemo(()=>h=>_?hx(x,K,_,Y,be,Ce,ye,it,Re,O,h):()=>{},[_]);px(mx,[be,Ce,ye,V,Re,O]);let Se;try{Se=v.useSyncExternalStore(ut,He,re?()=>Y(re(),V):He)}catch(F){throw je.current&&(F.message+=`
The error may be correlated with this previous error:
${je.current.stack}

`),F}Wl(()=>{je.current=void 0,Re.current=void 0,Ce.current=Se});const Nt=v.useMemo(()=>v.createElement(N,{...Se,ref:Ee}),[Ee,N,Se]);return v.useMemo(()=>x?v.createElement(xe.Provider,{value:se},Nt):Nt,[xe,Nt,se])}const A=v.memo(S);if(A.WrappedComponent=N,A.displayName=S.displayName=g,c){const I=v.forwardRef(function(V,xe){return v.createElement(A,{...V,reactReduxForwardedRef:xe})});return I.displayName=g,I.WrappedComponent=N,cc(I,N)}return cc(A,N)}}var ph=yx;function vx(e){const{children:t,context:n,serverState:r,store:s}=e,o=v.useMemo(()=>{const c=uh(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),l=v.useMemo(()=>s.getState(),[s]);Wl(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const i=n||fh;return v.createElement(i.Provider,{value:o},t)}var xx=vx,wx=!0,ra="Invariant failed";function bx(e,t){if(!e){if(wx)throw new Error(ra);var n=typeof t=="function"?t():t,r=n?"".concat(ra,": ").concat(n):ra;throw new Error(r)}}var hn=function(t){var n=t.top,r=t.right,s=t.bottom,o=t.left,l=r-o,i=s-n,c={top:n,right:r,bottom:s,left:o,width:l,height:i,x:o,y:n,center:{x:(r+o)/2,y:(s+n)/2}};return c},hu=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},pf=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Sx=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},sa={top:0,right:0,bottom:0,left:0},gu=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?sa:r,o=t.border,l=o===void 0?sa:o,i=t.padding,c=i===void 0?sa:i,u=hn(hu(n,s)),p=hn(pf(n,l)),f=hn(pf(p,c));return{marginBox:u,borderBox:hn(n),paddingBox:p,contentBox:f,margin:s,border:l,padding:c}},Jt=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&bx(!1),s},Nx=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Vl=function(t,n){var r=t.borderBox,s=t.border,o=t.margin,l=t.padding,i=Sx(r,n);return gu({borderBox:i,border:s,margin:o,padding:l})},Hl=function(t,n){return n===void 0&&(n=Nx()),Vl(t,n)},mh=function(t,n){var r={top:Jt(n.marginTop),right:Jt(n.marginRight),bottom:Jt(n.marginBottom),left:Jt(n.marginLeft)},s={top:Jt(n.paddingTop),right:Jt(n.paddingRight),bottom:Jt(n.paddingBottom),left:Jt(n.paddingLeft)},o={top:Jt(n.borderTopWidth),right:Jt(n.borderRightWidth),bottom:Jt(n.borderBottomWidth),left:Jt(n.borderLeftWidth)};return gu({borderBox:t,margin:r,padding:s,border:o})},hh=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return mh(n,r)},kx=function(t){var n=[],r=null,s=function(){for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];n=i,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};const go=kx;function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kl.apply(null,arguments)}function gh(e,t){}gh.bind(null,"warn");gh.bind(null,"error");function sr(){}function Ex(e,t){return{...e,...t}}function tn(e,t,n){const r=t.map(s=>{const o=Ex(n,s.options);return e.addEventListener(s.eventName,s.fn,o),function(){e.removeEventListener(s.eventName,s.fn,o)}});return function(){r.forEach(o=>{o()})}}const Cx="Invariant failed";class Ql extends Error{}Ql.prototype.toString=function(){return this.message};function Q(e,t){throw new Ql(Cx)}class Dx extends We.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=sr,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Ql&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=tn(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Ql){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Ax=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Yl=e=>e+1,Ix=e=>`
  You have lifted an item in position ${Yl(e.source.index)}
`,yh=(e,t)=>{const n=e.droppableId===t.droppableId,r=Yl(e.index),s=Yl(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},vh=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,jx=e=>{const t=e.destination;if(t)return yh(e.source,t);const n=e.combine;return n?vh(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},mf=e=>`
  The item has returned to its starting position
  of ${Yl(e.index)}
`,Px=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${mf(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${yh(e.source,t)}
    `:n?`
      You have dropped the item.
      ${vh(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${mf(e.source)}
  `},vl={dragHandleUsageInstructions:Ax,onDragStart:Ix,onDragUpdate:jx,onDragEnd:Px};function _x(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function xh(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!_x(e[n],t[n]))return!1;return!0}function Le(e,t){const n=v.useState(()=>({inputs:t,result:e()}))[0],r=v.useRef(!0),s=v.useRef(n),l=r.current||!!(t&&s.current.inputs&&xh(t,s.current.inputs))?s.current:{inputs:t,result:e()};return v.useEffect(()=>{r.current=!1,s.current=l},[l]),l.result}function ue(e,t){return Le(()=>e,t)}const vt={x:0,y:0},wt=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Gt=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),or=(e,t)=>e.x===t.x&&e.y===t.y,ws=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Ar=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},yo=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),hf=(e,t)=>Math.min(...t.map(n=>yo(e,n))),wh=e=>t=>({x:e(t.x),y:e(t.y)});var Rx=(e,t)=>{const n=hn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const jo=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),gf=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Mx={top:0,right:0,bottom:0,left:0},Tx=(e,t)=>t?jo(e,t.scroll.diff.displacement):e,Ox=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Lx=(e,t)=>t&&t.shouldClipSubject?Rx(t.pageMarginBox,e):hn(e);var ms=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=Tx(e.marginBox,r),o=Ox(s,n,t),l=Lx(o,r);return{page:e,withPlaceholder:t,active:l}},yu=(e,t)=>{e.frame||Q();const n=e.frame,r=Gt(t,n.scroll.initial),s=ws(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},l=ms({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:l}};function yt(e,t=xh){let n=null;function r(...s){if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;const o=e.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}const bh=yt(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Sh=yt(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),gi=yt(e=>Object.values(e)),Fx=yt(e=>Object.values(e));var bs=yt((e,t)=>Fx(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function vu(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function yi(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var vi=yt((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),$x=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!vu(s))return null;function l(m){const x={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...s,at:x}}const i=s.displaced.all,c=i.length?i[0]:null;if(e)return c?l(c):null;const u=vi(t,r);if(!c){if(!u.length)return null;const m=u[u.length-1];return l(m.descriptor.id)}const p=u.findIndex(m=>m.descriptor.id===c);p===-1&&Q();const f=p-1;if(f<0)return null;const d=u[f];return l(d.descriptor.id)},Ss=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Nh={point:vt,value:0},vo={invisible:{},visible:{},all:[]},Bx={displaced:vo,displacedBy:Nh,at:null};var rn=(e,t)=>n=>e<=n&&n<=t,kh=e=>{const t=rn(e.top,e.bottom),n=rn(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),l=n(r.left)||n(r.right);if(o&&l)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&l||u&&o}},zx=e=>{const t=rn(e.top,e.bottom),n=rn(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const xu={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Eh={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Ux=e=>t=>{const n=rn(t.top,t.bottom),r=rn(t.left,t.right);return s=>e===xu?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const Gx=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:vt;return jo(e,n)},Wx=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,Vx=(e,t,n)=>n(t)(e),wu=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const o=r?Gx(e,t):e;return Wx(o,t,s)&&Vx(o,n,s)},Hx=e=>wu({...e,isVisibleThroughFrameFn:kh}),Ch=e=>wu({...e,isVisibleThroughFrameFn:zx}),Kx=e=>wu({...e,isVisibleThroughFrameFn:Ux(e.destination.axis)}),Qx=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const o=s[e];return o?o.shouldAnimate:!0};function Yx(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return hn(hu(n,r))}function xo({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:o}){return e.reduce(function(i,c){const u=Yx(c,n),p=c.descriptor.id;if(i.all.push(p),!Hx({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return i.invisible[c.descriptor.id]=!0,i;const d=Qx(p,o,s),m={draggableId:p,shouldAnimate:d};return i.visible[p]=m,i},{all:[],visible:{},invisible:{}})}function Jx(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function yf({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=Jx(e,{inHomeList:t});return{displaced:vo,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Jl({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:o,index:l,forceShouldAnimate:i}){const c=Ss(e,n);if(l==null)return yf({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const u=t.find(x=>x.descriptor.index===l);if(!u)return yf({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const p=vi(e,t),f=t.indexOf(u),d=p.slice(f);return{displaced:xo({afterDragging:d,destination:n,displacedBy:s,last:o,viewport:r.frame,forceShouldAnimate:i}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function ar(e,t){return!!t.effected[e]}var qx=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,i=n[o].descriptor.index;return ar(o,s)?e?i:i-1:e?i+1:i},Xx=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,o=e?s+1:s-1,l=n[0].descriptor.index,i=n[n.length-1].descriptor.index,c=t?i:i+1;return o<l||o>c?null:o},Zx=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:o,previousImpact:l,viewport:i,afterCritical:c})=>{const u=l.at;if(u||Q(),u.type==="REORDER"){const f=Xx({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:o});return f==null?null:Jl({draggable:n,insideDestination:o,destination:s,viewport:i,last:l.displaced,displacedBy:l.displacedBy,index:f})}const p=qx({isMovingForward:e,destination:s,displaced:l.displaced,draggables:r,combine:u.combine,afterCritical:c});return p==null?null:Jl({draggable:n,insideDestination:o,destination:s,viewport:i,last:l.displaced,displacedBy:l.displacedBy,index:p})},ew=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return ar(n,t)?s?vt:ws(r.point):s?r.point:vt},tw=({afterCritical:e,impact:t,draggables:n})=>{const r=yi(t);r||Q();const s=r.draggableId,o=n[s].page.borderBox.center,l=ew({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return wt(o,l)};const Dh=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,nw=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,bu=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,vf=({axis:e,moveRelativeTo:t,isMoving:n})=>Ar(e.line,t.marginBox[e.end]+Dh(e,n),bu(e,t.marginBox,n)),xf=({axis:e,moveRelativeTo:t,isMoving:n})=>Ar(e.line,t.marginBox[e.start]-nw(e,n),bu(e,t.marginBox,n)),rw=({axis:e,moveInto:t,isMoving:n})=>Ar(e.line,t.contentBox[e.start]+Dh(e,n),bu(e,t.contentBox,n));var sw=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const o=bs(r.descriptor.id,n),l=t.page,i=r.axis;if(!o.length)return rw({axis:i,moveInto:r.page,isMoving:l});const{displaced:c,displacedBy:u}=e,p=c.all[0];if(p){const d=n[p];if(ar(p,s))return xf({axis:i,moveRelativeTo:d.page,isMoving:l});const m=Vl(d.page,u.point);return xf({axis:i,moveRelativeTo:m,isMoving:l})}const f=o[o.length-1];if(f.descriptor.id===t.descriptor.id)return l.borderBox.center;if(ar(f.descriptor.id,s)){const d=Vl(f.page,ws(s.displacedBy.point));return vf({axis:i,moveRelativeTo:d,isMoving:l})}return vf({axis:i,moveRelativeTo:f.page,isMoving:l})},uc=(e,t)=>{const n=e.frame;return n?wt(t,n.scroll.diff.displacement):t};const ow=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const o=t.page.borderBox.center,l=e.at;return!n||!l?o:l.type==="REORDER"?sw({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):tw({impact:e,draggables:r,afterCritical:s})};var xi=e=>{const t=ow(e),n=e.droppable;return n?uc(n,t):t},Ah=(e,t)=>{const n=Gt(t,e.scroll.initial),r=ws(n);return{frame:hn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function wf(e,t){return e.map(n=>t[n])}function lw(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var iw=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const o=Ah(t,wt(t.scroll.current,s)),l=n.frame?yu(n,wt(n.frame.scroll.current,s)):n,i=e.displaced,c=xo({afterDragging:wf(i.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:i,forceShouldAnimate:!1}),u=xo({afterDragging:wf(i.all,r),destination:l,displacedBy:e.displacedBy,viewport:t.frame,last:i,forceShouldAnimate:!1}),p={},f={},d=[i,c,u];return i.all.forEach(x=>{const b=lw(x,d);if(b){f[x]=b;return}p[x]=!0}),{...e,displaced:{all:i.all,invisible:p,visible:f}}},aw=(e,t)=>wt(e.scroll.diff.displacement,t),Su=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=aw(n,e),s=Gt(r,t.page.borderBox.center);return wt(t.client.borderBox.center,s)},Ih=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:o=!1})=>{const l=Gt(n,e.page.borderBox.center),c={target:jo(e.page.borderBox,l),destination:t,withDroppableDisplacement:s,viewport:r};return o?Kx(c):Ch(c)},cw=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:o,previousPageBorderBoxCenter:l,previousClientSelection:i,afterCritical:c})=>{if(!n.isEnabled)return null;const u=bs(n.descriptor.id,r),p=Ss(t,n),f=$x({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:s})||Zx({isMovingForward:e,isInHomeList:p,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:o,afterCritical:c});if(!f)return null;const d=xi({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:c});if(Ih({draggable:t,destination:n,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Su({pageBorderBoxCenter:d,draggable:t,viewport:o}),impact:f,scrollJumpRequest:null};const x=Gt(d,l),b=iw({impact:f,viewport:o,destination:n,draggables:r,maxScrollChange:x});return{clientSelection:i,impact:b,scrollJumpRequest:x}};const It=e=>{const t=e.subject.active;return t||Q(),t};var uw=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const o=n.subject.active;if(!o)return null;const l=n.axis,i=rn(o[l.start],o[l.end]),c=gi(r).filter(p=>p!==n).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>kh(s.frame)(It(p))).filter(p=>{const f=It(p);return e?o[l.crossAxisEnd]<f[l.crossAxisEnd]:f[l.crossAxisStart]<o[l.crossAxisStart]}).filter(p=>{const f=It(p),d=rn(f[l.start],f[l.end]);return i(f[l.start])||i(f[l.end])||d(o[l.start])||d(o[l.end])}).sort((p,f)=>{const d=It(p)[l.crossAxisStart],m=It(f)[l.crossAxisStart];return e?d-m:m-d}).filter((p,f,d)=>It(p)[l.crossAxisStart]===It(d[0])[l.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(p=>rn(It(p)[l.start],It(p)[l.end])(t[l.line]));return u.length===1?u[0]:u.length>1?u.sort((p,f)=>It(p)[l.start]-It(f)[l.start])[0]:c.sort((p,f)=>{const d=hf(t,gf(It(p))),m=hf(t,gf(It(f)));return d!==m?d-m:It(p)[l.start]-It(f)[l.start]})[0]};const bf=(e,t)=>{const n=e.page.borderBox.center;return ar(e.descriptor.id,t)?Gt(n,t.displacedBy.point):n},dw=(e,t)=>{const n=e.page.borderBox;return ar(e.descriptor.id,t)?jo(n,ws(t.displacedBy.point)):n};var fw=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(l=>Ch({target:dw(l,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((l,i)=>{const c=yo(e,uc(n,bf(l,s))),u=yo(e,uc(n,bf(i,s)));return c<u?-1:u<c?1:l.descriptor.index-i.descriptor.index})[0]||null,Po=yt(function(t,n){const r=n[t.line];return{value:r,point:Ar(t.line,r)}});const pw=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Ar(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=bs(e.descriptor.id,n).reduce((u,p)=>u+p.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:Ar(r.line,c)},jh=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Ph=(e,t,n)=>{const r=e.frame;Ss(t,e)&&Q(),e.subject.withPlaceholder&&Q();const s=Po(e.axis,t.displaceBy).point,o=pw(e,s,n),l={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const p=ms({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:e.frame});return{...e,subject:p}}const i=o?wt(r.scroll.max,o):r.scroll.max,c=jh(r,i),u=ms({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},mw=e=>{const t=e.subject.withPlaceholder;t||Q();const n=e.frame;if(!n){const l=ms({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:l}}const r=t.oldFrameMaxScroll;r||Q();const s=jh(n,r),o=ms({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:o,frame:s}};var hw=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:o,viewport:l,afterCritical:i})=>{if(!t){if(n.length)return null;const f={displaced:vo,displacedBy:Nh,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},d=xi({impact:f,draggable:r,droppable:o,draggables:s,afterCritical:i}),m=Ss(r,o)?o:Ph(o,r,s);return Ih({draggable:r,destination:m,newPageBorderBoxCenter:d,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],u=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?f:f+1})(),p=Po(o.axis,r.displaceBy);return Jl({draggable:r,insideDestination:n,destination:o,viewport:l,displacedBy:p,last:vo,index:u})},gw=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:o,viewport:l,afterCritical:i})=>{const c=uw({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:l});if(!c)return null;const u=bs(c.descriptor.id,s),p=fw({pageBorderBoxCenter:t,viewport:l,destination:c,insideDestination:u,afterCritical:i}),f=hw({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:p,insideDestination:u,viewport:l,afterCritical:i});if(!f)return null;const d=xi({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:i});return{clientSelection:Su({pageBorderBoxCenter:d,draggable:n,viewport:l}),impact:f,scrollJumpRequest:null}},Vt=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const yw=(e,t)=>{const n=Vt(e);return n?t[n]:null};var vw=({state:e,type:t})=>{const n=yw(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],o=n||s,l=o.axis.direction,i=l==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||l==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(i&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],p=e.current.page.borderBoxCenter,{draggables:f,droppables:d}=e.dimensions;return i?cw({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:u,destination:o,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):gw({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:u,isOver:o,draggables:f,droppables:d,viewport:e.viewport,afterCritical:e.afterCritical})};function yr(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function _h(e){const t=rn(e.top,e.bottom),n=rn(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function xw(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function ww({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(o=>{const l=o.axis,i=Ar(o.axis.line,e.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:yo(r,i)}}).sort((o,l)=>l.distance-o.distance);return s[0]?s[0].id:null}function bw({pageBorderBox:e,draggable:t,droppables:n}){const r=gi(n).filter(s=>{if(!s.isEnabled)return!1;const o=s.subject.active;if(!o||!xw(e,o))return!1;if(_h(o)(e.center))return!0;const l=s.axis,i=o.center[l.crossAxisLine],c=e[l.crossAxisStart],u=e[l.crossAxisEnd],p=rn(o[l.crossAxisStart],o[l.crossAxisEnd]),f=p(c),d=p(u);return!f&&!d?!0:f?c<i:u>i});return r.length?r.length===1?r[0].descriptor.id:ww({pageBorderBox:e,draggable:t,candidates:r}):null}const Rh=(e,t)=>hn(jo(e,t));var Sw=(e,t)=>{const n=e.frame;return n?Rh(t,n.scroll.diff.value):t};function Mh({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Nw({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var kw=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:o,afterCritical:l})=>{const i=n.axis,c=Po(n.axis,t.displaceBy),u=c.value,p=e[i.start],f=e[i.end],m=vi(t,r).find(b=>{const N=b.descriptor.id,y=b.page.borderBox.center[i.line],g=ar(N,l),w=Mh({displaced:s,id:N});return g?w?f<=y:p<y-u:w?f<=y+u:p<y})||null,x=Nw({draggable:t,closest:m,inHomeList:Ss(t,n)});return Jl({draggable:t,insideDestination:r,destination:n,viewport:o,last:s,displacedBy:c,index:x})};const Ew=4;var Cw=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const l=r.axis,i=Po(r.axis,e.displaceBy),c=i.value,u=t[l.start],p=t[l.end],d=vi(e,s).find(x=>{const b=x.descriptor.id,N=x.page.borderBox,g=N[l.size]/Ew,w=ar(b,o),S=Mh({displaced:n.displaced,id:b});return w?S?p>N[l.start]+g&&p<N[l.end]-g:u>N[l.start]-c+g&&u<N[l.end]-c-g:S?p>N[l.start]+c+g&&p<N[l.end]+c-g:u>N[l.start]+g&&u<N[l.end]-g});return d?{displacedBy:i,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:r.descriptor.id}}}:null},Th=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:o,afterCritical:l})=>{const i=Rh(t.page.borderBox,e),c=bw({pageBorderBox:i,draggable:t,droppables:r});if(!c)return Bx;const u=r[c],p=bs(u.descriptor.id,n),f=Sw(u,i);return Cw({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:s,destination:u,insideDestination:p,afterCritical:l})||kw({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:u,insideDestination:p,last:s.displaced,viewport:o,afterCritical:l})},Nu=(e,t)=>({...e,[t.descriptor.id]:t});const Dw=({previousImpact:e,impact:t,droppables:n})=>{const r=Vt(e),s=Vt(t);if(!r||r===s)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const l=mw(o);return Nu(n,l)};var Aw=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const o=Dw({previousImpact:r,impact:s,droppables:n}),l=Vt(s);if(!l)return o;const i=n[l];if(Ss(e,i)||i.subject.withPlaceholder)return o;const c=Ph(i,e,t);return Nu(o,c)},Ys=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:o})=>{const l=r||e.viewport,i=n||e.dimensions,c=t||e.current.client.selection,u=Gt(c,e.initial.client.selection),p={offset:u,selection:c,borderBoxCenter:wt(e.initial.client.borderBoxCenter,u)},f={selection:wt(p.selection,l.scroll.current),borderBoxCenter:wt(p.borderBoxCenter,l.scroll.current),offset:wt(p.offset,l.scroll.diff.value)},d={client:p,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:i,viewport:l,current:d};const m=i.draggables[e.critical.draggable.id],x=s||Th({pageOffset:f.offset,draggable:m,draggables:i.draggables,droppables:i.droppables,previousImpact:e.impact,viewport:l,afterCritical:e.afterCritical}),b=Aw({draggable:m,impact:x,previousImpact:e.impact,draggables:i.draggables,droppables:i.droppables});return{...e,current:d,dimensions:{draggables:i.draggables,droppables:b},impact:x,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function Iw(e,t){return e.map(n=>t[n])}var Oh=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const o=e.displaced,l=Iw(o.all,n),i=xo({afterDragging:l,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:o});return{...e,displaced:i}},Lh=({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:o})=>{const l=xi({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return Su({pageBorderBoxCenter:l,draggable:t,viewport:s})},Fh=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Q();const r=e.impact,s=n||e.viewport,o=t||e.dimensions,{draggables:l,droppables:i}=o,c=l[e.critical.draggable.id],u=Vt(r);u||Q();const p=i[u],f=Oh({impact:r,viewport:s,destination:p,draggables:l}),d=Lh({impact:f,draggable:c,droppable:p,draggables:l,viewport:s,afterCritical:e.afterCritical});return Ys({impact:f,clientSelection:d,state:e,dimensions:o,viewport:s})},jw=e=>({index:e.index,droppableId:e.droppableId}),$h=({draggable:e,home:t,draggables:n,viewport:r})=>{const s=Po(t.axis,e.displaceBy),o=bs(t.descriptor.id,n),l=o.indexOf(e);l===-1&&Q();const i=o.slice(l+1),c=i.reduce((d,m)=>(d[m.descriptor.id]=!0,d),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:xo({afterDragging:i,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:jw(e.descriptor)}},afterCritical:u}},Pw=(e,t)=>({draggables:e.draggables,droppables:Nu(e.droppables,t)}),_w=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Vl(e.client,t),s=Hl(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},Rw=e=>{const t=e.frame;return t||Q(),t},Mw=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const o=s.descriptor.droppableId,l=t[o],c=Rw(l).scroll.diff.value,u=wt(r,c);return _w({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},Tw=({state:e,published:t})=>{const n=t.modified.map(y=>{const g=e.dimensions.droppables[y.droppableId];return yu(g,y.scroll)}),r={...e.dimensions.droppables,...bh(n)},s=Sh(Mw({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...s};t.removals.forEach(y=>{delete o[y]});const l={droppables:r,draggables:o},i=Vt(e.impact),c=i?l.droppables[i]:null,u=l.draggables[e.critical.draggable.id],p=l.droppables[e.critical.droppable.id],{impact:f,afterCritical:d}=$h({draggable:u,home:p,draggables:o,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:f,x=Th({pageOffset:e.current.page.offset,draggable:l.draggables[e.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:m,viewport:e.viewport,afterCritical:d}),b={...e,phase:"DRAGGING",impact:x,onLiftImpact:f,dimensions:l,afterCritical:d,forceShouldAnimate:!1};return e.phase==="COLLECTING"?b:{...b,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const dc=e=>e.movementMode==="SNAP",oa=(e,t,n)=>{const r=Pw(e.dimensions,t);return!dc(e)||n?Ys({state:e,dimensions:r}):Fh({state:e,dimensions:r})};function la(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const Sf={phase:"IDLE",completed:null,shouldFlush:!1};var Ow=(e=Sf,t)=>{if(t.type==="FLUSH")return{...Sf,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Q();const{critical:n,clientSelection:r,viewport:s,dimensions:o,movementMode:l}=t.payload,i=o.draggables[n.draggable.id],c=o.droppables[n.droppable.id],u={selection:r,borderBoxCenter:i.client.borderBox.center,offset:vt},p={client:u,page:{selection:wt(u.selection,s.scroll.initial),borderBoxCenter:wt(u.selection,s.scroll.initial),offset:wt(u.selection,s.scroll.diff.value)}},f=gi(o.droppables).every(b=>!b.isFixedOnPage),{impact:d,afterCritical:m}=$h({draggable:i,home:c,draggables:o.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:p,current:p,isWindowScrollAllowed:f,impact:d,afterCritical:m,onLiftImpact:d,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Q(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Q(),Tw({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;yr(e)||Q();const{client:n}=t.payload;return or(n,e.current.client.selection)?e:Ys({state:e,clientSelection:n,impact:dc(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return la(e);yr(e)||Q();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const o=yu(s,r);return oa(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;yr(e)||Q();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||Q(),s.isEnabled===r&&Q();const o={...s,isEnabled:r};return oa(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;yr(e)||Q();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||Q(),s.isCombineEnabled===r&&Q();const o={...s,isCombineEnabled:r};return oa(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;yr(e)||Q(),e.isWindowScrollAllowed||Q();const n=t.payload.newScroll;if(or(e.viewport.scroll.current,n))return la(e);const r=Ah(e.viewport,n);return dc(e)?Fh({state:e,viewport:r}):Ys({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!yr(e))return e;const n=t.payload.maxScroll;if(or(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Q();const n=vw({state:e,type:t.type});return n?Ys({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Q(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Q(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Ue(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Lw=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),Fw=e=>({type:"LIFT",payload:e}),$w=e=>({type:"INITIAL_PUBLISH",payload:e}),Bw=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),zw=()=>({type:"COLLECTION_STARTING",payload:null}),Uw=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Gw=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Ww=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Bh=e=>({type:"MOVE",payload:e}),Vw=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Hw=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Kw=()=>({type:"MOVE_UP",payload:null}),Qw=()=>({type:"MOVE_DOWN",payload:null}),Yw=()=>({type:"MOVE_RIGHT",payload:null}),Jw=()=>({type:"MOVE_LEFT",payload:null}),ku=()=>({type:"FLUSH",payload:null}),qw=e=>({type:"DROP_ANIMATE",payload:e}),Eu=e=>({type:"DROP_COMPLETE",payload:e}),zh=e=>({type:"DROP",payload:e}),Xw=e=>({type:"DROP_PENDING",payload:e}),Uh=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Zw=e=>({getState:t,dispatch:n})=>r=>s=>{if(!Ue(s,"LIFT")){r(s);return}const{id:o,clientSelection:l,movementMode:i}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n(Eu({completed:c.completed})),t().phase!=="IDLE"&&Q(),n(ku()),n(Lw({draggableId:o,movementMode:i}));const p={draggableId:o,scrollOptions:{shouldPublishImmediately:i==="SNAP"}},{critical:f,dimensions:d,viewport:m}=e.startPublishing(p);n($w({critical:f,dimensions:d,clientSelection:l,movementMode:i,viewport:m}))},eb=e=>()=>t=>n=>{Ue(n,"INITIAL_PUBLISH")&&e.dragging(),Ue(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Ue(n,"FLUSH")||Ue(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Cu={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},wo={opacity:{drop:0,combining:.7},scale:{drop:.75}},Gh={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},mr=`${Gh.outOfTheWay}s ${Cu.outOfTheWay}`,Js={fluid:`opacity ${mr}`,snap:`transform ${mr}, opacity ${mr}`,drop:e=>{const t=`${e}s ${Cu.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${mr}`,placeholder:`height ${mr}, width ${mr}, margin ${mr}`},Nf=e=>or(e,vt)?void 0:`translate(${e.x}px, ${e.y}px)`,fc={moveTo:Nf,drop:(e,t)=>{const n=Nf(e);if(n)return t?`${n} scale(${wo.scale.drop})`:n}},{minDropTime:pc,maxDropTime:Wh}=Gh,tb=Wh-pc,kf=1500,nb=.6;var rb=({current:e,destination:t,reason:n})=>{const r=yo(e,t);if(r<=0)return pc;if(r>=kf)return Wh;const s=r/kf,o=pc+tb*s,l=n==="CANCEL"?o*nb:o;return Number(l.toFixed(2))},sb=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:o,droppables:l}=n,i=Vt(e),c=i?l[i]:null,u=l[t.descriptor.droppableId],p=Lh({impact:e,draggable:t,draggables:o,afterCritical:s,droppable:c||u,viewport:r});return Gt(p,t.client.borderBox.center)},ob=({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:Oh({draggables:e,impact:o,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:vo},didDropInsideDroppable:!0};const lb=({getState:e,dispatch:t})=>n=>r=>{if(!Ue(r,"DROP")){n(r);return}const s=e(),o=r.payload.reason;if(s.phase==="COLLECTING"){t(Xw({reason:o}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&Q(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||Q();const i=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:p,didDropInsideDroppable:f}=ob({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),d=f?vu(p):null,m=f?yi(p):null,x={index:i.draggable.index,droppableId:i.droppable.id},b={draggableId:u.descriptor.id,type:u.descriptor.type,source:x,reason:o,mode:s.movementMode,destination:d,combine:m},N=sb({impact:p,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),y={critical:s.critical,afterCritical:s.afterCritical,result:b,impact:p};if(!(!or(s.current.client.offset,N)||!!b.combine)){t(Eu({completed:y}));return}const w=rb({current:s.current.client.offset,destination:N,reason:o});t(qw({newHomeClientOffset:N,dropDuration:w,completed:y}))};var Vh=()=>({x:window.pageXOffset,y:window.pageYOffset});function ib(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function ab({onWindowScroll:e}){function t(){e(Vh())}const n=go(t),r=ib(n);let s=sr;function o(){return s!==sr}function l(){o()&&Q(),s=tn(window,[r])}function i(){o()||Q(),n.cancel(),s(),s=sr}return{start:l,stop:i,isActive:o}}const cb=e=>Ue(e,"DROP_COMPLETE")||Ue(e,"DROP_ANIMATE")||Ue(e,"FLUSH"),ub=e=>{const t=ab({onWindowScroll:n=>{e.dispatch(Vw({newScroll:n}))}});return n=>r=>{!t.isActive()&&Ue(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&cb(r)&&t.stop(),n(r)}};var db=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return s.wasCalled=()=>t,s},fb=()=>{const e=[],t=s=>{const o=e.findIndex(i=>i.timerId===s);o===-1&&Q();const[l]=e.splice(o,1);l.callback()};return{add:s=>{const o=setTimeout(()=>t(o)),l={timerId:o,callback:s};e.push(l)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const pb=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,mb=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,hb=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Rs=(e,t)=>{t()},nl=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ia(e,t,n,r){if(!e){n(r(t));return}const s=db(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}var gb=(e,t)=>{const n=fb();let r=null;const s=(f,d)=>{r&&Q(),Rs("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:d})})},o=(f,d)=>{r&&Q(),Rs("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(nl(f,d))})},l=(f,d)=>{r&&Q();const m=nl(f,d);r={mode:d,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{Rs("onDragStart",()=>ia(e().onDragStart,m,t,vl.onDragStart))})},i=(f,d)=>{const m=vu(d),x=yi(d);r||Q();const b=!hb(f,r.lastCritical);b&&(r.lastCritical=f);const N=!pb(r.lastLocation,m);N&&(r.lastLocation=m);const y=!mb(r.lastCombine,x);if(y&&(r.lastCombine=x),!b&&!N&&!y)return;const g={...nl(f,r.mode),combine:x,destination:m};n.add(()=>{Rs("onDragUpdate",()=>ia(e().onDragUpdate,g,t,vl.onDragUpdate))})},c=()=>{r||Q(),n.flush()},u=f=>{r||Q(),r=null,Rs("onDragEnd",()=>ia(e().onDragEnd,f,t,vl.onDragEnd))};return{beforeCapture:s,beforeStart:o,start:l,update:i,flush:c,drop:u,abort:()=>{if(!r)return;const f={...nl(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},yb=(e,t)=>{const n=gb(e,t);return r=>s=>o=>{if(Ue(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(Ue(o,"INITIAL_PUBLISH")){const i=o.payload.critical;n.beforeStart(i,o.payload.movementMode),s(o),n.start(i,o.payload.movementMode);return}if(Ue(o,"DROP_COMPLETE")){const i=o.payload.completed.result;n.flush(),s(o),n.drop(i);return}if(s(o),Ue(o,"FLUSH")){n.abort();return}const l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}};const vb=e=>t=>n=>{if(!Ue(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Q(),e.dispatch(Eu({completed:r.completed}))},xb=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return s=>o=>{if((Ue(o,"FLUSH")||Ue(o,"DROP_COMPLETE")||Ue(o,"DROP_ANIMATION_FINISHED"))&&r(),s(o),!Ue(o,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Uh())}};n=requestAnimationFrame(()=>{n=null,t=tn(window,[l])})}};var wb=e=>()=>t=>n=>{(Ue(n,"DROP_COMPLETE")||Ue(n,"FLUSH")||Ue(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},bb=e=>{let t=!1;return()=>n=>r=>{if(Ue(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Ue(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Ue(r,"DROP_COMPLETE")){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Sb=e=>Ue(e,"DROP_COMPLETE")||Ue(e,"DROP_ANIMATE")||Ue(e,"FLUSH");var Nb=e=>t=>n=>r=>{if(Sb(r)){e.stop(),n(r);return}if(Ue(r,"INITIAL_PUBLISH")){n(r);const s=t.getState();s.phase!=="DRAGGING"&&Q(),e.start(s);return}n(r),e.scroll(t.getState())};const kb=e=>t=>n=>{if(t(n),!Ue(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(zh({reason:r.reason})))},Eb=ih;var Cb=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:o})=>lh(Ow,Eb(v0(eb(n),wb(e),Zw(e),lb,vb,xb,kb,Nb(o),ub,bb(t),yb(r,s))));const aa=()=>({additions:{},removals:{},modified:{}});function Db({registry:e,callbacks:t}){let n=aa(),r=null;const s=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:p}=n,f=Object.keys(c).map(x=>e.draggable.getById(x).getDimension(vt)).sort((x,b)=>x.descriptor.index-b.descriptor.index),d=Object.keys(p).map(x=>{const N=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:N}}),m={additions:f,removals:Object.keys(u),modified:d};n=aa(),t.publish(m)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=aa())}}}var Hh=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=Gt({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},Kh=()=>{const e=document.documentElement;return e||Q(),e},Qh=()=>{const e=Kh();return Hh({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Ab=()=>{const e=Vh(),t=Qh(),n=e.y,r=e.x,s=Kh(),o=s.clientWidth,l=s.clientHeight,i=r+o,c=n+l;return{frame:hn({top:n,left:r,right:i,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:vt,displacement:vt}}}},Ib=({critical:e,scrollOptions:t,registry:n})=>{const r=Ab(),s=r.scroll.current,o=e.droppable,l=n.droppable.getAllByType(o.type).map(p=>p.callbacks.getDimensionAndWatchScroll(s,t)),i=n.draggable.getAllByType(e.draggable.type).map(p=>p.getDimension(s));return{dimensions:{draggables:Sh(i),droppables:bh(l)},critical:e,viewport:r}};function Ef(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var jb=(e,t)=>{let n=null;const r=Db({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(d,m)=>{e.droppable.exists(d)||Q(),n&&t.updateDroppableIsEnabled({id:d,isEnabled:m})},o=(d,m)=>{n&&(e.droppable.exists(d)||Q(),t.updateDroppableIsCombineEnabled({id:d,isCombineEnabled:m}))},l=(d,m)=>{n&&(e.droppable.exists(d)||Q(),t.updateDroppableScroll({id:d,newScroll:m}))},i=(d,m)=>{n&&e.droppable.getById(d).callbacks.scroll(m)},c=()=>{if(!n)return;r.stop();const d=n.critical.droppable;e.droppable.getAllByType(d.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=d=>{n||Q();const m=n.critical.draggable;d.type==="ADDITION"&&Ef(e,m,d.value)&&r.add(d.value),d.type==="REMOVAL"&&Ef(e,m,d.value)&&r.remove(d.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:o,scrollDroppable:i,updateDroppableScroll:l,startPublishing:d=>{n&&Q();const m=e.draggable.getById(d.draggableId),x=e.droppable.getById(m.descriptor.droppableId),b={draggable:m.descriptor,droppable:x.descriptor},N=e.subscribe(u);return n={critical:b,unsubscribe:N},Ib({critical:b,registry:e,scrollOptions:d.scrollOptions})},stopPublishing:c}},Yh=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Pb=e=>{window.scrollBy(e.x,e.y)};const _b=yt(e=>gi(e).filter(t=>!(!t.isEnabled||!t.frame))),Rb=(e,t)=>_b(t).find(r=>(r.frame||Q(),_h(r.frame.pageMarginBox)(e)))||null;var Mb=({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return Rb(e,n)};const bo={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Tb=(e,t,n=()=>bo)=>{const r=n(),s=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:o}},Jh=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Du=1,Ob=(e,t,n=()=>bo)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Du;const o=1-Jh({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),l=r.maxPixelScroll*r.ease(o);return Math.ceil(l)},Lb=(e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,l=t,i=o,u=Date.now()-l;if(u>=o)return e;if(u<s)return Du;const p=Jh({startOfRange:s,endOfRange:i,current:u}),f=e*r.ease(p);return Math.ceil(f)},Cf=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=Ob(e,t,s);return o===0?0:r?Math.max(Lb(o,n,s),Du):o},Df=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const l=Tb(e,r,o);return t[r.end]<t[r.start]?Cf({distanceToEdge:t[r.end],thresholds:l,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o}):-1*Cf({distanceToEdge:t[r.start],thresholds:l,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o})},Fb=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const $b=wh(e=>e===0?0:e);var qh=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const l={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},i=Df({container:t,distanceToEdges:l,dragStartTime:e,axis:xu,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),c=Df({container:t,distanceToEdges:l,dragStartTime:e,axis:Eh,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),u=$b({x:c,y:i});if(or(u,vt))return null;const p=Fb({container:t,subject:n,proposedScroll:u});return p?or(p,vt)?null:p:null};const Bb=wh(e=>e===0?0:e>0?1:-1),Au=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const s=wt(t,r),o={x:e(s.x,n.x),y:e(s.y,n.y)};return or(o,vt)?null:o}})(),Xh=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=Bb(n),o=Au({max:r,current:t,change:s});return!o||s.x!==0&&o.x===0||s.y!==0&&o.y===0},Iu=(e,t)=>Xh({current:e.scroll.current,max:e.scroll.max,change:t}),zb=(e,t)=>{if(!Iu(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Au({current:r,max:n,change:t})},ju=(e,t)=>{const n=e.frame;return n?Xh({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Ub=(e,t)=>{const n=e.frame;return!n||!ju(e,t)?null:Au({current:n.scroll.current,max:n.scroll.max,change:t})};var Gb=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const l=qh({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return l&&Iu(e,l)?l:null},Wb=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const l=e.frame;if(!l)return null;const i=qh({dragStartTime:r,container:l.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return i&&ju(e,i)?i:null},Af=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:o})=>{const l=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,d=Gb({dragStartTime:t,viewport:f,subject:c,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(d){r(d);return}}const u=Mb({center:l,destination:Vt(e.impact),droppables:e.dimensions.droppables});if(!u)return;const p=Wb({dragStartTime:t,droppable:u,subject:c,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:o});p&&s(u.descriptor.id,p)},Vb=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>bo})=>{const r=go(e),s=go(t);let o=null;const l=u=>{o||Q();const{shouldUseTimeDampening:p,dragStartTime:f}=o;Af({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:p,getAutoScrollerOptions:n})};return{start:u=>{o&&Q();const p=Date.now();let f=!1;const d=()=>{f=!0};Af({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:d,scrollDroppable:d,getAutoScrollerOptions:n}),o={dragStartTime:p,shouldUseTimeDampening:f},f&&l(u)},stop:()=>{o&&(r.cancel(),s.cancel(),o=null)},scroll:l}},Hb=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(i,c)=>{const u=wt(i.current.client.selection,c);e({client:u})},s=(i,c)=>{if(!ju(i,c))return c;const u=Ub(i,c);if(!u)return t(i.descriptor.id,c),null;const p=Gt(c,u);return t(i.descriptor.id,p),Gt(c,p)},o=(i,c,u)=>{if(!i||!Iu(c,u))return u;const p=zb(c,u);if(!p)return n(u),null;const f=Gt(u,p);return n(f),Gt(u,f)};return i=>{const c=i.scrollJumpRequest;if(!c)return;const u=Vt(i.impact);u||Q();const p=s(i.dimensions.droppables[u],c);if(!p)return;const f=i.viewport,d=o(i.isWindowScrollAllowed,f,p);d&&r(i,d)}},Kb=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=Vb({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=Hb({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&o(c)}},start:s.start,stop:s.stop}};const hs="data-rfd",gs=(()=>{const e=`${hs}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),mc=(()=>{const e=`${hs}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Qb=(()=>{const e=`${hs}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),If={contextId:`${hs}-scroll-container-context-id`},Yb=e=>t=>`[${t}="${e}"]`,Ms=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Jb="pointer-events: none;";var qb=e=>{const t=Yb(e),n=(()=>{const i=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(gs.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:i,dragging:Jb,dropAnimating:i}}})(),r=(()=>{const i=`
      transition: ${Js.outOfTheWay};
    `;return{selector:t(mc.contextId),styles:{dragging:i,dropAnimating:i,userCancel:i}}})(),s={selector:t(Qb.contextId),styles:{always:"overflow-anchor: none;"}},l=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ms(l,"always"),resting:Ms(l,"resting"),dragging:Ms(l,"dragging"),dropAnimating:Ms(l,"dropAnimating"),userCancel:Ms(l,"userCancel")}};const Ht=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,ca=()=>{const e=document.querySelector("head");return e||Q(),e},jf=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Xb(e,t){const n=Le(()=>qb(e),[e]),r=v.useRef(null),s=v.useRef(null),o=ue(yt(f=>{const d=s.current;d||Q(),d.textContent=f}),[]),l=ue(f=>{const d=r.current;d||Q(),d.textContent=f},[]);Ht(()=>{!r.current&&!s.current||Q();const f=jf(t),d=jf(t);return r.current=f,s.current=d,f.setAttribute(`${hs}-always`,e),d.setAttribute(`${hs}-dynamic`,e),ca().appendChild(f),ca().appendChild(d),l(n.always),o(n.resting),()=>{const m=x=>{const b=x.current;b||Q(),ca().removeChild(b),x.current=null};m(r),m(s)}},[t,l,o,n.always,n.resting,e]);const i=ue(()=>o(n.dragging),[o,n.dragging]),c=ue(f=>{if(f==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=ue(()=>{s.current&&o(n.resting)},[o,n.resting]);return Le(()=>({dragging:i,dropping:c,resting:u}),[i,c,u])}function Zh(e,t){return Array.from(e.querySelectorAll(t))}var eg=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function wi(e){return e instanceof eg(e).HTMLElement}function Zb(e,t){const n=`[${gs.contextId}="${e}"]`,r=Zh(document,n);if(!r.length)return null;const s=r.find(o=>o.getAttribute(gs.draggableId)===t);return!s||!wi(s)?null:s}function eS(e){const t=v.useRef({}),n=v.useRef(null),r=v.useRef(null),s=v.useRef(!1),o=ue(function(d,m){const x={id:d,focus:m};return t.current[d]=x,function(){const N=t.current;N[d]!==x&&delete N[d]}},[]),l=ue(function(d){const m=Zb(e,d);m&&m!==document.activeElement&&m.focus()},[e]),i=ue(function(d,m){n.current===d&&(n.current=m)},[]),c=ue(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const d=n.current;d&&l(d)}))},[l]),u=ue(function(d){n.current=null;const m=document.activeElement;m&&m.getAttribute(gs.draggableId)===d&&(n.current=d)},[]);return Ht(()=>(s.current=!0,function(){s.current=!1;const d=r.current;d&&cancelAnimationFrame(d)}),[]),Le(()=>({register:o,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:i}),[o,u,c,i])}function tS(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function r(f){t.length&&t.forEach(d=>d(f))}function s(f){return e.draggables[f]||null}function o(f){const d=s(f);return d||Q(),d}const l={register:f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,d)=>{const m=e.draggables[d.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[d.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const d=f.descriptor.id,m=s(d);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[d],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:o,findById:s,exists:f=>!!s(f),getAllByType:f=>Object.values(e.draggables).filter(d=>d.descriptor.type===f)};function i(f){return e.droppables[f]||null}function c(f){const d=i(f);return d||Q(),d}const u={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const d=i(f.descriptor.id);d&&f.uniqueId===d.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:i,exists:f=>!!i(f),getAllByType:f=>Object.values(e.droppables).filter(d=>d.descriptor.type===f)};function p(){e.draggables={},e.droppables={},t.length=0}return{draggable:l,droppable:u,subscribe:n,clean:p}}function nS(){const e=Le(tS,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var Pu=We.createContext(null),ql=()=>{const e=document.body;return e||Q(),e};const rS={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},sS=e=>`rfd-announcement-${e}`;function oS(e){const t=Le(()=>sS(e),[e]),n=v.useRef(null);return v.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Kl(o.style,rS),ql().appendChild(o),function(){setTimeout(function(){const c=ql();c.contains(o)&&c.removeChild(o),o===n.current&&(n.current=null)})}},[t]),ue(s=>{const o=n.current;if(o){o.textContent=s;return}},[])}const lS={separator:"::"};function _u(e,t=lS){const n=We.useId();return Le(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function iS({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function aS({contextId:e,text:t}){const n=_u("hidden-text",{separator:"-"}),r=Le(()=>iS({contextId:e,uniqueId:n}),[n,e]);return v.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",ql().appendChild(o),function(){const i=ql();i.contains(o)&&i.removeChild(o)}},[r,t]),r}var bi=We.createContext(null);function tg(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function cS(){let e=null;function t(){return!!e}function n(l){return l===e}function r(l){e&&Q();const i={abandon:l};return e=i,i}function s(){e||Q(),e=null}function o(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:o}}function So(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const uS=9,dS=13,Ru=27,ng=32,fS=33,pS=34,mS=35,hS=36,gS=37,yS=38,vS=39,xS=40,wS={[dS]:!0,[uS]:!0};var rg=e=>{wS[e.keyCode]&&e.preventDefault()};const Si=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),sg=0,Pf=5;function bS(e,t){return Math.abs(t.x-e.x)>=Pf||Math.abs(t.y-e.y)>=Pf}const _f={type:"IDLE"};function SS({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:o,clientX:l,clientY:i}=s;if(o!==sg)return;const c={x:l,y:i},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&Q();const p=u.point;if(!bS(p,c))return;s.preventDefault();const f=u.actions.fluidLift(c);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:s=>{const o=n();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===Ru){s.preventDefault(),e();return}rg(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const o=n();if(o.type==="IDLE"&&Q(),o.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Si,fn:e}]}function NS(e){const t=v.useRef(_f),n=v.useRef(sr),r=Le(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==sg||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const d=e.findClosestDraggableId(f);if(!d)return;const m=e.tryGetLock(d,l,{sourceEvent:f});if(!m)return;f.preventDefault();const x={x:f.clientX,y:f.clientY};n.current(),u(m,x)}}),[e]),s=Le(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const f=e.findClosestDraggableId(p);if(!f)return;const d=e.findOptionsForDraggable(f);d&&(d.shouldRespectForcePress||e.canGetLock(f)&&p.preventDefault())}}),[e]),o=ue(function(){const f={passive:!1,capture:!0};n.current=tn(window,[s,r],f)},[s,r]),l=ue(()=>{t.current.type!=="IDLE"&&(t.current=_f,n.current(),o())},[o]),i=ue(()=>{const p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),c=ue(function(){const f={capture:!0,passive:!1},d=SS({cancel:i,completed:l,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=tn(window,d,f)},[i,l]),u=ue(function(f,d){t.current.type!=="IDLE"&&Q(),t.current={type:"PENDING",point:d,actions:f},c()},[c]);Ht(function(){return o(),function(){n.current()}},[o])}function kS(){}const ES={[pS]:!0,[fS]:!0,[hS]:!0,[mS]:!0};function CS(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===Ru){s.preventDefault(),n();return}if(s.keyCode===ng){s.preventDefault(),r();return}if(s.keyCode===xS){s.preventDefault(),e.moveDown();return}if(s.keyCode===yS){s.preventDefault(),e.moveUp();return}if(s.keyCode===vS){s.preventDefault(),e.moveRight();return}if(s.keyCode===gS){s.preventDefault(),e.moveLeft();return}if(ES[s.keyCode]){s.preventDefault();return}rg(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Si,fn:n}]}function DS(e){const t=v.useRef(kS),n=Le(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==ng)return;const l=e.findClosestDraggableId(o);if(!l)return;const i=e.tryGetLock(l,p,{sourceEvent:o});if(!i)return;o.preventDefault();let c=!0;const u=i.snapLift();t.current();function p(){c||Q(),c=!1,t.current(),r()}t.current=tn(window,CS(u,p),{capture:!0,passive:!1})}}),[e]),r=ue(function(){const o={passive:!1,capture:!0};t.current=tn(window,[n],o)},[n]);Ht(function(){return r(),function(){t.current()}},[r])}const ua={type:"IDLE"},AS=120,IS=.15;function jS({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Ru&&n.preventDefault(),e()}},{eventName:Si,fn:e}]}function PS({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:o,clientY:l}=r.touches[0],i={x:o,y:l};r.preventDefault(),s.actions.move(i)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&Q();const o=r.touches[0];if(!o||!(o.force>=IS))return;const i=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){i&&e();return}if(i){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Si,fn:e}]}function _S(e){const t=v.useRef(ua),n=v.useRef(sr),r=ue(function(){return t.current},[]),s=ue(function(m){t.current=m},[]),o=Le(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const x=e.findClosestDraggableId(m);if(!x)return;const b=e.tryGetLock(x,i,{sourceEvent:m});if(!b)return;const N=m.touches[0],{clientX:y,clientY:g}=N,w={x:y,y:g};n.current(),f(b,w)}}),[e]),l=ue(function(){const m={capture:!0,passive:!1};n.current=tn(window,[o],m)},[o]),i=ue(()=>{const d=t.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),s(ua),n.current(),l())},[l,s]),c=ue(()=>{const d=t.current;i(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[i]),u=ue(function(){const m={capture:!0,passive:!1},x={cancel:c,completed:i,getPhase:r},b=tn(window,PS(x),m),N=tn(window,jS(x),m);n.current=function(){b(),N()}},[c,r,i]),p=ue(function(){const m=r();m.type!=="PENDING"&&Q();const x=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:x,hasMoved:!1})},[r,s]),f=ue(function(m,x){r().type!=="IDLE"&&Q();const b=setTimeout(p,AS);s({type:"PENDING",point:x,actions:m,longPressTimerId:b}),u()},[u,r,s,p]);Ht(function(){return l(),function(){n.current();const x=r();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),s(ua))}},[r,l,s]),Ht(function(){return tn(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const RS=["input","button","textarea","select","option","optgroup","video","audio"];function og(e,t){if(t==null)return!1;if(RS.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:og(e,t.parentElement)}function MS(e,t){const n=t.target;return wi(n)?og(e,n):!1}var TS=e=>hn(e.getBoundingClientRect()).center;function OS(e){return e instanceof eg(e).Element}const LS=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function lg(e,t){return e==null?null:e[LS](t)?e:lg(e.parentElement,t)}function FS(e,t){return e.closest?e.closest(t):lg(e,t)}function $S(e){return`[${gs.contextId}="${e}"]`}function BS(e,t){const n=t.target;if(!OS(n))return null;const r=$S(e),s=FS(n,r);return!s||!wi(s)?null:s}function zS(e,t){const n=BS(e,t);return n?n.getAttribute(gs.draggableId):null}function US(e,t){const n=`[${mc.contextId}="${e}"]`,s=Zh(document,n).find(o=>o.getAttribute(mc.id)===t);return!s||!wi(s)?null:s}function GS(e){e.preventDefault()}function rl({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function ig({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!Yh(t.getState(),r))}function WS({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:o,sourceEvent:l}){if(!ig({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=US(t,c.descriptor.id);if(!u||l&&!c.options.canDragInteractiveElements&&MS(u,l))return null;const p=e.claim(o||sr);let f="PRE_DRAG";function d(){return c.options.shouldRespectForcePress}function m(){return e.isActive(p)}function x(P,A){rl({expected:P,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(A())}const b=x.bind(null,"DRAGGING");function N(P){function A(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(A(),Q()),n.dispatch(Fw(P.liftActionArgs)),f="DRAGGING";function $(I,Ee={shouldBlockNextClick:!1}){if(P.cleanup(),Ee.shouldBlockNextClick){const V=tn(window,[{eventName:"click",fn:GS,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(V)}A(),n.dispatch(zh({reason:I}))}return{isActive:()=>rl({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:d,drop:I=>$("DROP",I),cancel:I=>$("CANCEL",I),...P.actions}}function y(P){const A=go(I=>{b(()=>Bh({client:I}))});return{...N({liftActionArgs:{id:s,clientSelection:P,movementMode:"FLUID"},cleanup:()=>A.cancel(),actions:{move:A}}),move:A}}function g(){const P={moveUp:()=>b(Kw),moveRight:()=>b(Yw),moveDown:()=>b(Qw),moveLeft:()=>b(Jw)};return N({liftActionArgs:{id:s,clientSelection:TS(u),movementMode:"SNAP"},cleanup:sr,actions:P})}function w(){rl({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>rl({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:d,fluidLift:y,snapLift:g,abort:w}}const VS=[NS,DS,_S];function HS({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const o=[...s?VS:[],...r||[]],l=v.useState(()=>cS())[0],i=ue(function(N,y){So(N)&&!So(y)&&l.tryAbandon()},[l]);Ht(function(){let N=t.getState();return t.subscribe(()=>{const g=t.getState();i(N,g),N=g})},[l,t,i]),Ht(()=>l.tryAbandon,[l.tryAbandon]);const c=ue(b=>ig({lockAPI:l,registry:n,store:t,draggableId:b}),[l,n,t]),u=ue((b,N,y)=>WS({lockAPI:l,registry:n,contextId:e,store:t,draggableId:b,forceSensorStop:N||null,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null}),[e,l,n,t]),p=ue(b=>zS(e,b),[e]),f=ue(b=>{const N=n.draggable.findById(b);return N?N.options:null},[n.draggable]),d=ue(function(){l.isClaimed()&&(l.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(ku()))},[l,t]),m=ue(()=>l.isClaimed(),[l]),x=Le(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:d,isLockClaimed:m}),[c,u,p,f,d,m]);for(let b=0;b<o.length;b++)o[b](x)}const KS=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Ao.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),QS=e=>({...bo,...e.autoScrollerOptions,durationDampening:{...bo.durationDampening,...e.autoScrollerOptions}});function Ts(e){return e.current||Q(),e.current}function YS(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:o}=e,l=v.useRef(null),i=tg(e),c=ue(()=>KS(i.current),[i]),u=ue(()=>QS(i.current),[i]),p=oS(t),f=aS({contextId:t,text:o}),d=Xb(t,s),m=ue(V=>{Ts(l).dispatch(V)},[]),x=Le(()=>of({publishWhileDragging:Bw,updateDroppableScroll:Uw,updateDroppableIsEnabled:Gw,updateDroppableIsCombineEnabled:Ww,collectionStarting:zw},m),[m]),b=nS(),N=Le(()=>jb(b,x),[b,x]),y=Le(()=>Kb({scrollWindow:Pb,scrollDroppable:N.scrollDroppable,getAutoScrollerOptions:u,...of({move:Bh},m)}),[N.scrollDroppable,m,u]),g=eS(t),w=Le(()=>Cb({announce:p,autoScroller:y,dimensionMarshal:N,focusMarshal:g,getResponders:c,styleMarshal:d}),[p,y,N,g,c,d]);l.current=w;const S=ue(()=>{const V=Ts(l);V.getState().phase!=="IDLE"&&V.dispatch(ku())},[]),P=ue(()=>{const V=Ts(l).getState();return V.phase==="DROP_ANIMATING"?!0:V.phase==="IDLE"?!1:V.isDragging},[]),A=Le(()=>({isDragging:P,tryAbort:S}),[P,S]);n(A);const $=ue(V=>Yh(Ts(l).getState(),V),[]),I=ue(()=>yr(Ts(l).getState()),[]),Ee=Le(()=>({marshal:N,focus:g,contextId:t,canLift:$,isMovementAllowed:I,dragHandleUsageInstructionsId:f,registry:b}),[t,N,f,g,$,I,b]);return HS({contextId:t,store:w,registry:b,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>S,[S]),We.createElement(bi.Provider,{value:Ee},We.createElement(xx,{context:Pu,store:w},e.children))}function JS(){return We.useId()}function qS(e){const t=JS(),n=e.dragHandleUsageInstructions||vl.dragHandleUsageInstructions;return We.createElement(Dx,null,r=>We.createElement(YS,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Rf={dragging:5e3,dropAnimating:4500},XS=(e,t)=>t?Js.drop(t.duration):e?Js.snap:Js.fluid,ZS=(e,t)=>{if(e)return t?wo.opacity.drop:wo.opacity.combining},e1=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function t1(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:o}=e,l=!!s,i=e1(e),c=!!o,u=c?fc.drop(r,l):fc.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:XS(i,o),transform:u,opacity:ZS(l,c),zIndex:c?Rf.dropAnimating:Rf.dragging,pointerEvents:"none"}}function n1(e){return{transform:fc.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function r1(e){return e.type==="DRAGGING"?t1(e):n1(e)}function s1(e,t,n=vt){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),o=mh(s,r),l=Hl(o,n),i={client:o,tagName:t.tagName.toLowerCase(),display:r.display},c={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:i,displaceBy:c,client:o,page:l}}function o1(e){const t=_u("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:i}=e,c=Le(()=>({canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:i}),[o,i,l]),u=ue(m=>{const x=s();return x||Q(),s1(n,x,m)},[n,s]),p=Le(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),f=v.useRef(p),d=v.useRef(!0);Ht(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),Ht(()=>{if(d.current){d.current=!1;return}const m=f.current;f.current=p,r.draggable.update(p,m)},[p,r.draggable])}var Mu=We.createContext(null);function Xl(e){const t=v.useContext(e);return t||Q(),t}function l1(e){e.preventDefault()}const i1=e=>{const t=v.useRef(null),n=ue((A=null)=>{t.current=A},[]),r=ue(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:o,registry:l}=Xl(bi),{type:i,droppableId:c}=Xl(Mu),u=Le(()=>({id:e.draggableId,index:e.index,type:i,droppableId:c}),[e.draggableId,e.index,i,c]),{children:p,draggableId:f,isEnabled:d,shouldRespectForcePress:m,canDragInteractiveElements:x,isClone:b,mapped:N,dropAnimationFinished:y}=e;if(!b){const A=Le(()=>({descriptor:u,registry:l,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:m,isEnabled:d}),[u,l,r,x,m,d]);o1(A)}const g=Le(()=>d?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:l1}:null,[s,o,f,d]),w=ue(A=>{N.type==="DRAGGING"&&N.dropping&&A.propertyName==="transform"&&Ao.flushSync(y)},[y,N]),S=Le(()=>{const A=r1(N),$=N.type==="DRAGGING"&&N.dropping?w:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:A,onTransitionEnd:$},dragHandleProps:g}},[s,g,f,N,w,n]),P=Le(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return We.createElement(We.Fragment,null,p(S,N.snapshot,P))};var ag=(e,t)=>e===t,cg=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const a1=e=>e.combine?e.combine.draggableId:null,c1=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function u1(){const e=yt((s,o)=>({x:s,y:o})),t=yt((s,o,l=null,i=null,c=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:l,combineWith:i,combineTargetFor:null})),n=yt((s,o,l,i,c=null,u=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:o,offset:s,dimension:l,forceShouldAnimate:p,snapshot:t(o,i,c,u,null)}}));return(s,o)=>{if(So(s)){if(s.critical.draggable.id!==o.draggableId)return null;const l=s.current.client.offset,i=s.dimensions.draggables[o.draggableId],c=Vt(s.impact),u=c1(s.impact),p=s.forceShouldAnimate;return n(e(l.x,l.y),s.movementMode,i,o.isClone,c,u,p)}if(s.phase==="DROP_ANIMATING"){const l=s.completed;if(l.result.draggableId!==o.draggableId)return null;const i=o.isClone,c=s.dimensions.draggables[o.draggableId],u=l.result,p=u.mode,f=cg(u),d=a1(u),x={duration:s.dropDuration,curve:Cu.drop,moveTo:s.newHomeClientOffset,opacity:d?wo.opacity.drop:null,scale:d?wo.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:x,draggingOver:f,combineWith:d,mode:p,forceShouldAnimate:null,snapshot:t(p,i,f,d,x)}}}return null}}function ug(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const d1={mapped:{type:"SECONDARY",offset:vt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ug(null)}};function f1(){const e=yt((l,i)=>({x:l,y:i})),t=yt(ug),n=yt((l,i=null,c)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:i,shouldAnimateDisplacement:c,snapshot:t(i)}})),r=l=>l?n(vt,l,!0):null,s=(l,i,c,u)=>{const p=c.displaced.visible[l],f=!!(u.inVirtualList&&u.effected[l]),d=yi(c),m=d&&d.draggableId===l?i:null;if(!p){if(!f)return r(m);if(c.displaced.invisible[l])return null;const N=ws(u.displacedBy.point),y=e(N.x,N.y);return n(y,m,!0)}if(f)return r(m);const x=c.displacedBy.point,b=e(x.x,x.y);return n(b,m,p.shouldAnimate)};return(l,i)=>{if(So(l))return l.critical.draggable.id===i.draggableId?null:s(i.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const c=l.completed;return c.result.draggableId===i.draggableId?null:s(i.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const p1=()=>{const e=u1(),t=f1();return(r,s)=>e(r,s)||t(r,s)||d1},m1={dropAnimationFinished:Uh},h1=ph(p1,m1,null,{context:Pu,areStatePropsEqual:ag})(i1);function dg(e){return Xl(Mu).isUsingCloneFor===e.draggableId&&!e.isClone?null:We.createElement(h1,e)}function g1(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return We.createElement(dg,Kl({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const fg=e=>t=>e===t,y1=fg("scroll"),v1=fg("auto"),Mf=(e,t)=>t(e.overflowX)||t(e.overflowY),x1=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Mf(n,y1)||Mf(n,v1)},w1=()=>!1,pg=e=>e==null?null:e===document.body?w1()?e:null:e===document.documentElement?null:x1(e)?e:pg(e.parentElement);var hc=e=>({x:e.scrollLeft,y:e.scrollTop});const mg=e=>e?window.getComputedStyle(e).position==="fixed"?!0:mg(e.parentElement):!1;var b1=e=>{const t=pg(e),n=mg(e);return{closestScrollable:t,isFixedOnPage:n}},S1=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:o,page:l,closest:i})=>{const c=(()=>{if(!i)return null;const{scrollSize:d,client:m}=i,x=Hh({scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:i.page.marginBox,frameClient:m,scrollSize:d,shouldClipSubject:i.shouldClipSubject,scroll:{initial:i.scroll,current:i.scroll,max:x,diff:{value:vt,displacement:vt}}}})(),u=s==="vertical"?xu:Eh,p=ms({page:l,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:o,page:l,frame:c,subject:p}};const N1=(e,t)=>{const n=hh(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,l=s+t.scrollWidth,c=hu({top:r,right:l,bottom:o,left:s},n.border);return gu({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var k1=({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:o,isCombineEnabled:l,shouldClipSubject:i})=>{const c=n.closestScrollable,u=N1(e,c),p=Hl(u,r),f=(()=>{if(!c)return null;const m=hh(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:Hl(m,r),scroll:hc(c),scrollSize:x,shouldClipSubject:i}})();return S1({descriptor:t,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:p,closest:f})};const E1={passive:!1},C1={passive:!0};var Tf=e=>e.shouldPublishImmediately?E1:C1;const sl=e=>e&&e.env.closestScrollable||null;function D1(e){const t=v.useRef(null),n=Xl(bi),r=_u("droppable"),{registry:s,marshal:o}=n,l=tg(e),i=Le(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(i),u=Le(()=>yt((S,P)=>{t.current||Q();const A={x:S,y:P};o.updateDroppableScroll(i.id,A)}),[i.id,o]),p=ue(()=>{const S=t.current;return!S||!S.env.closestScrollable?vt:hc(S.env.closestScrollable)},[]),f=ue(()=>{const S=p();u(S.x,S.y)},[p,u]),d=Le(()=>go(f),[f]),m=ue(()=>{const S=t.current,P=sl(S);if(S&&P||Q(),S.scrollOptions.shouldPublishImmediately){f();return}d()},[d,f]),x=ue((S,P)=>{t.current&&Q();const A=l.current,$=A.getDroppableRef();$||Q();const I=b1($),Ee={ref:$,descriptor:i,env:I,scrollOptions:P};t.current=Ee;const V=k1({ref:$,descriptor:i,env:I,windowScroll:S,direction:A.direction,isDropDisabled:A.isDropDisabled,isCombineEnabled:A.isCombineEnabled,shouldClipSubject:!A.ignoreContainerClipping}),xe=I.closestScrollable;return xe&&(xe.setAttribute(If.contextId,n.contextId),xe.addEventListener("scroll",m,Tf(Ee.scrollOptions))),V},[n.contextId,i,m,l]),b=ue(()=>{const S=t.current,P=sl(S);return S&&P||Q(),hc(P)},[]),N=ue(()=>{const S=t.current;S||Q();const P=sl(S);t.current=null,P&&(d.cancel(),P.removeAttribute(If.contextId),P.removeEventListener("scroll",m,Tf(S.scrollOptions)))},[m,d]),y=ue(S=>{const P=t.current;P||Q();const A=sl(P);A||Q(),A.scrollTop+=S.y,A.scrollLeft+=S.x},[]),g=Le(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:b,dragStopped:N,scroll:y}),[N,x,b,y]),w=Le(()=>({uniqueId:r,descriptor:i,callbacks:g}),[g,i,r]);Ht(()=>(c.current=w.descriptor,s.droppable.register(w),()=>{t.current&&N(),s.droppable.unregister(w)}),[g,i,N,w,o,s.droppable]),Ht(()=>{t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Ht(()=>{t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function da(){}const Of={width:0,height:0,margin:Mx},A1=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?Of:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},I1=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=A1({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Js.placeholder:null}},j1=e=>{const t=v.useRef(null),n=ue(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:o,contextId:l}=e,[i,c]=v.useState(e.animate==="open");v.useEffect(()=>i?r!=="open"?(n(),c(!1),da):t.current?da:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):da,[r,i,n]);const u=ue(f=>{f.propertyName==="height"&&(s(),r==="close"&&o())},[r,o,s]),p=I1({isAnimatingOpenOnMount:i,animate:e.animate,placeholder:e.placeholder});return We.createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":l,onTransitionEnd:u,ref:e.innerRef})};var P1=We.memo(j1);class _1 extends We.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const R1=e=>{const t=v.useContext(bi);t||Q();const{contextId:n,isMovementAllowed:r}=t,s=v.useRef(null),o=v.useRef(null),{children:l,droppableId:i,type:c,mode:u,direction:p,ignoreContainerClipping:f,isDropDisabled:d,isCombineEnabled:m,snapshot:x,useClone:b,updateViewportMaxScroll:N,getContainerForClone:y}=e,g=ue(()=>s.current,[]),w=ue((xe=null)=>{s.current=xe},[]);ue(()=>o.current,[]);const S=ue((xe=null)=>{o.current=xe},[]),P=ue(()=>{r()&&N({maxScroll:Qh()})},[r,N]);D1({droppableId:i,type:c,mode:u,direction:p,isDropDisabled:d,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:g});const A=Le(()=>We.createElement(_1,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:xe,data:de,animate:ke})=>We.createElement(P1,{placeholder:de,onClose:xe,innerRef:S,animate:ke,contextId:n,onTransitionEnd:P})),[n,P,e.placeholder,e.shouldAnimatePlaceholder,S]),$=Le(()=>({innerRef:w,placeholder:A,droppableProps:{"data-rfd-droppable-id":i,"data-rfd-droppable-context-id":n}}),[n,i,A,w]),I=b?b.dragging.draggableId:null,Ee=Le(()=>({droppableId:i,type:c,isUsingCloneFor:I}),[i,I,c]);function V(){if(!b)return null;const{dragging:xe,render:de}=b,ke=We.createElement(dg,{draggableId:xe.draggableId,index:xe.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Be,K)=>de(Be,K,xe));return p0.createPortal(ke,y())}return We.createElement(Mu.Provider,{value:Ee},l($,x),V())};function M1(){return document.body||Q(),document.body}const Lf={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:M1},hg=e=>{let t={...e},n;for(n in Lf)e[n]===void 0&&(t={...t,[n]:Lf[n]});return t},fa=(e,t)=>e===t.droppable.type,Ff=(e,t)=>t.draggables[e.draggable.id],T1=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=yt(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=yt((o,l,i,c,u,p)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===o){const x=p?{render:p,dragging:n(u.descriptor)}:null,b={isDraggingOver:i,draggingOverWith:i?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:x}}if(!l)return t;if(!c)return e;const m={isDraggingOver:i,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(o,l)=>{const i=hg(l),c=i.droppableId,u=i.type,p=!i.isDropDisabled,f=i.renderClone;if(So(o)){const d=o.critical;if(!fa(u,d))return t;const m=Ff(d,o.dimensions),x=Vt(o.impact)===c;return r(c,p,x,x,m,f)}if(o.phase==="DROP_ANIMATING"){const d=o.completed;if(!fa(u,d.critical))return t;const m=Ff(d.critical,o.dimensions);return r(c,p,cg(d.result)===c,Vt(d.impact)===c,m,f)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const d=o.completed;if(!fa(u,d.critical))return t;const m=Vt(d.impact)===c,x=!!(d.impact.at&&d.impact.at.type==="COMBINE"),b=d.critical.droppable.id===c;return m?x?e:t:b?e:t}return t}},O1={updateViewportMaxScroll:Hw},L1=ph(T1,O1,(e,t,n)=>({...hg(n),...e,...t}),{context:Pu,areStatePropsEqual:ag})(R1);const gg=({open:e,title:t="Confirm",message:n,confirmText:r="Delete",cancelText:s="Cancel",danger:o=!1,onConfirm:l,onCancel:i})=>e?a.jsx("div",{className:"cd-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"cd-title",onKeyDown:c=>{c.key==="Escape"&&(c.stopPropagation(),i())},children:a.jsxs("div",{className:"cd-panel",children:[a.jsx("h3",{id:"cd-title",className:"cd-title",children:t}),a.jsxs("form",{onSubmit:c=>{c.preventDefault(),l()},children:[a.jsx("div",{className:"cd-message",children:n}),a.jsxs("div",{className:"cd-actions",children:[a.jsxs("button",{type:"button",className:"cd-btn",onClick:i,children:[" ",s," "]}),a.jsx("button",{type:"submit",className:`cd-btn ${o?"cd-btn-danger":"cd-btn-primary"}`,autoFocus:!0,children:r})]})]})]})}):null;const yg="bl_auth_v1";let Mn=F1();const gc=new Set;function F1(){try{const e=localStorage.getItem(yg);if(!e)return{user:null,token:null,loading:!1,error:null};const t=JSON.parse(e);return{user:t.user||null,token:t.token||null,loading:!1,error:null}}catch{return{user:null,token:null,loading:!1,error:null}}}function $1(){try{localStorage.setItem(yg,JSON.stringify({user:Mn.user,token:Mn.token}))}catch{}}function Tn(e){Mn={...Mn,...e},$1(),gc.forEach(t=>t(Mn))}function Tu(e){return gc.add(e),e(Mn),()=>gc.delete(e)}function _t(){return Mn}const Zl="http://localhost:8000";async function vg(e,t){Tn({loading:!0,error:null});try{const n=new URLSearchParams;n.append("username",e),n.append("password",t),n.append("grant_type","password");const r=await fetch(`${Zl}/api/auth/login`,{method:"POST",body:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok)throw new Error(await r.text());const o=(await r.json()).access_token,l=await fetch(`${Zl}/api/auth/me`,{headers:{Authorization:`Bearer ${o}`}});if(!l.ok)throw new Error(await l.text());const i=await l.json();Tn({user:i.user,token:o,loading:!1,error:null})}catch(n){Tn({loading:!1,error:n.message||"Login failed"})}}async function xg(e,t,n){Tn({loading:!0,error:null});try{const r=await fetch(`${Zl}/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:n})});if(!r.ok)throw new Error(await r.text());const s=await r.json();Tn({user:s.user,token:s.token,loading:!1,error:null})}catch(r){Tn({loading:!1,error:r.message||"Signup failed"})}}function $f(){Tn({user:null,token:null})}async function B1(){if(Mn.token)try{const e=await fetch(`${Zl}/api/auth/me`,{headers:{Authorization:`Bearer ${Mn.token}`}});if(e.ok){const t=await e.json();Tn({user:t.user})}else(e.status===401||e.status===403)&&Tn({user:null,token:null})}catch{}}const Pr="http://localhost:8000";function _r(e){const t=_t().token,n={...e||{}};return t&&(n.Authorization=`Bearer ${t}`),n}async function z1(){const e=await fetch(`${Pr}/api/assets`,{headers:_r()});if(!e.ok)throw new Error(await e.text());return e.json()}async function U1(e,t="stub",n){const r=await fetch(`${Pr}/api/analyze/asset`,{method:"POST",headers:_r({"Content-Type":"application/json"}),body:JSON.stringify({asset_id:e,model:t,job_id:n||null})});if(!r.ok)throw new Error(await r.text());return r.json()}async function G1(e,t){const n=await fetch(`${Pr}/api/assets/upload-url`,{method:"POST",headers:_r({"Content-Type":"application/json"}),body:JSON.stringify({file_name:e,content_type:t||null})});if(!n.ok)throw new Error(await n.text());return n.json()}async function W1(e,t,n){const r=await fetch(`${Pr}/api/assets/confirm`,{method:"POST",headers:_r({"Content-Type":"application/json"}),body:JSON.stringify({key:e,original_name:t,mime:n||null})});if(!r.ok)throw new Error(await r.text());return r.json()}async function V1(e){const t=await fetch(`${Pr}/api/assets/${e}/playback-url`,{headers:_r()});if(!t.ok)throw new Error(await t.text());return(await t.json()).url}async function H1(){const e=await fetch(`${Pr}/api/pages`,{headers:_r()});if(e.status===401||e.status===403)return[];if(!e.ok)throw new Error(await e.text());const t=await e.json();return Array.isArray(t.pages)?t.pages:[]}async function Bf(e){const t=await fetch(`${Pr}/api/pages`,{method:"PUT",headers:_r({"Content-Type":"application/json"}),body:JSON.stringify({pages:e})});if(t.status===401||t.status===403)return e;if(!t.ok)throw new Error(await t.text());const n=await t.json();return Array.isArray(n.pages)?n.pages:e}const K1=({open:e,onClose:t,user:n,onLogin:r,onSignup:s,onSignOut:o})=>{var xe;const l=v.useRef(null);if(v.useEffect(()=>{if(!e)return;function de(Be){Be.key==="Escape"&&t()}function ke(Be){l.current&&!l.current.contains(Be.target)&&t()}return document.addEventListener("keydown",de),document.addEventListener("mousedown",ke),()=>{document.removeEventListener("keydown",de),document.removeEventListener("mousedown",ke)}},[e,t]),!e)return null;const i=typeof document<"u"?document.body:null;if(!i)return null;const[c,u]=v.useState(_t()),p=v.useRef(!!_t().user);v.useEffect(()=>{const de=Tu(u);return()=>{de()}},[]);const f=!c.user,[d,m]=v.useState("login"),[x,b]=v.useState({username:"",email:"",password:""}),[N,y]=v.useState(!1),[g,w]=v.useState(null);v.useEffect(()=>{if(c.user&&!p.current){const de=setTimeout(()=>{t()},400);return()=>clearTimeout(de)}},[c.user,t]);const[S,P]=v.useState(0),[A,$]=v.useState(0);v.useEffect(()=>{let de=!0;async function ke(){try{if(f)return;const Be=await z1();if(!de)return;P(Be.length);const K=Be.reduce((re,Y)=>re+(typeof Y.size_bytes=="number"?Y.size_bytes:0),0);$(K)}catch{}}return ke(),()=>{de=!1}},[f]);function I(de){if(!de)return"0 B";const ke=["B","KB","MB","GB","TB"];let Be=0,K=de;for(;K>=1024&&Be<ke.length-1;)K/=1024,Be++;return`${K.toFixed(K>=10||Be===0?0:1)} ${ke[Be]}`}const Ee=(xe=c.user)!=null&&xe.created_at?new Date(c.user.created_at*1e3):void 0;async function V(de){y(!0),w(null);try{if(!x.username||!x.password||de==="signup"&&!x.email){w("Please fill all required fields"),y(!1);return}de==="login"?await vg(x.username,x.password):await xg(x.username,x.email,x.password)}catch(ke){w(ke.message||"Failed")}finally{y(!1)}}return Ao.createPortal(a.jsx("div",{className:"profile-modal-overlay",role:"dialog","aria-modal":"true","aria-label":"Profile details",children:a.jsxs("div",{className:"profile-modal",ref:l,children:[a.jsxs("div",{className:"pm-header",children:[a.jsx("div",{className:"pm-avatar",children:(n.name||"G").charAt(0).toUpperCase()}),a.jsxs("div",{className:"pm-meta",children:[a.jsx("h2",{className:"pm-name",children:n.name||"Guest User"}),a.jsx("div",{className:"pm-email",children:n.email||"guest@example.com"}),a.jsx("div",{className:`pm-plan ${f?"guest":"premium"}`,children:n.plan||"Guest"})]}),a.jsx("button",{className:"pm-close","aria-label":"Close",onClick:t,children:"×"})]}),a.jsx("div",{className:"pm-body",children:f?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"pm-blurb",children:"Create an account to save analyses, sync across devices, and unlock advanced forensic insights."}),a.jsxs("div",{className:"auth-toggle",children:[a.jsx("button",{className:`pm-btn small ${d==="login"?"primary":""}`,onClick:()=>m("login"),children:"Login"}),a.jsx("button",{className:`pm-btn small ${d==="signup"?"primary":""}`,onClick:()=>m("signup"),children:"Sign up"})]}),a.jsxs("form",{className:"pm-auth-form",onSubmit:de=>{de.preventDefault(),V(d)},children:[a.jsxs("label",{className:"pm-field",children:["Username",a.jsx("input",{required:!0,value:x.username,onChange:de=>b(ke=>({...ke,username:de.target.value}))})]}),d==="signup"&&a.jsxs("label",{className:"pm-field",children:["Email",a.jsx("input",{required:!0,type:"email",value:x.email,onChange:de=>b(ke=>({...ke,email:de.target.value}))})]}),a.jsxs("label",{className:"pm-field",children:["Password",a.jsx("input",{required:!0,type:"password",value:x.password,onChange:de=>b(ke=>({...ke,password:de.target.value}))})]}),g&&a.jsx("div",{className:"pm-error",role:"alert",children:g}),c.error&&!g&&a.jsx("div",{className:"pm-error",role:"alert",children:c.error}),a.jsx("div",{className:"pm-actions-inline",children:a.jsx("button",{className:"pm-btn primary",disabled:N,children:N?d==="login"?"Logging in…":"Creating…":d==="login"?"Login":"Create Account"})})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"pm-stats-grid",children:[a.jsxs("div",{className:"pm-stat",children:[a.jsx("span",{className:"k",children:"Analyses"}),a.jsx("span",{className:"v",children:S})]}),a.jsxs("div",{className:"pm-stat",children:[a.jsx("span",{className:"k",children:"Storage Used"}),a.jsx("span",{className:"v",children:I(A)})]}),a.jsxs("div",{className:"pm-stat",children:[a.jsx("span",{className:"k",children:"Member Since"}),a.jsx("span",{className:"v",children:Ee?Ee.toLocaleDateString():"—"})]})]}),a.jsx("p",{className:"pm-blurb",children:"Manage your profile and see usage for your uploads and analyses."}),a.jsx("div",{className:"pm-actions-inline",children:a.jsx("button",{className:"pm-btn",onClick:o,children:"Sign out"})})]})})]})}),i)},zf=({open:e,onClose:t,user:n})=>{const r=v.useRef(null),[s,o]=v.useState(!1),[l,i]=v.useState(_t());if(v.useEffect(()=>{const u=Tu(i);return()=>{u()}},[]),v.useEffect(()=>{if(!e)return;const u=f=>{r.current&&!r.current.contains(f.target)&&t()},p=f=>{f.key==="Escape"&&t()};return document.addEventListener("mousedown",u),document.addEventListener("keydown",p),()=>{document.removeEventListener("mousedown",u),document.removeEventListener("keydown",p)}},[e,t]),!e&&!s)return null;const c=l.user?{name:l.user.username,email:l.user.email,plan:l.user.plan==="Guest"?"Guest":"Premium"}:n||{name:"Guest User",email:"guest@example.com",plan:"Guest"};return s?a.jsx(K1,{open:s,user:c,onClose:()=>o(!1),onLogin:(u,p,f)=>{u&&f&&vg(u,f)},onSignup:(u,p,f)=>{u&&p&&f&&xg(u,p,f)},onSignOut:()=>{$f(),o(!1)}}):a.jsxs("div",{className:"profile-popup",role:"dialog","aria-label":"Profile",ref:r,children:[a.jsxs("div",{className:"pp-row",children:[a.jsx("div",{className:"pp-avatar",children:c.name?c.name[0].toUpperCase():"G"}),a.jsxs("div",{className:"pp-info",children:[a.jsx("div",{className:"pp-name",children:c.name}),a.jsx("div",{className:"pp-email",children:c.email})]})]}),a.jsx("div",{className:"pp-badge-wrap",children:a.jsx("div",{className:`pp-badge ${c.plan==="Premium"?"premium":"guest"}`,children:c.plan})}),a.jsxs("div",{className:"pp-actions",children:[a.jsx("button",{className:"pp-btn",onClick:()=>{o(!0),t()},children:(l.user,"View Profile")}),l.user?a.jsx("button",{className:"pp-btn ghost",onClick:()=>{$f(),t()},children:"Sign out"}):a.jsx("button",{className:"pp-btn ghost",onClick:()=>{o(!0),t()},children:"Login"})]})]})};const xl=["📁","🗂️","🧪","🎬","🧠","🔍","📊"],wg=({isOpen:e,currentIcon:t,onClose:n,onSelect:r})=>e?a.jsx("div",{className:"ip-overlay",role:"dialog","aria-modal":"true",children:a.jsxs("div",{className:"ip-panel",children:[a.jsx("h3",{className:"ip-title",children:"Choose an icon"}),a.jsxs("div",{className:"ip-icons",children:[xl.map(s=>a.jsx("button",{className:`ip-icon-btn ${t===s?"selected":""}`,onClick:()=>r(s),"aria-label":`Select ${s}`,children:a.jsx("span",{className:"ip-emoji",children:s})},s)),a.jsx("button",{className:"ip-icon-btn none",onClick:()=>r(void 0),"aria-label":"No icon",children:a.jsx("span",{className:"ip-emoji",children:"∅"})})]}),a.jsx("div",{className:"ip-actions",children:a.jsx("button",{className:"ip-btn ip-btn-secondary",onClick:n,children:"Close"})})]})}):null;const yc="bl_theme",bg="bl_color_scheme",Q1="bl_dark";function Sg(){try{const e=localStorage.getItem(yc);if(e==="light"||e==="dark"||e==="system")return e;const t=localStorage.getItem(Q1);if(t==="1"||t==="0"){const n=t==="1"?"dark":"light";return localStorage.setItem(yc,n),n}}catch{}return"system"}function Y1(e){try{localStorage.setItem(yc,e)}catch{}}function J1(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function qs(e){const t=document.documentElement,n=e==="dark"||e==="system"&&J1();t.classList.toggle("dark",n)}function vc(e){const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>e();return"addEventListener"in t?t.addEventListener("change",n):"addListener"in t&&t.addListener(n),()=>{"removeEventListener"in t?t.removeEventListener("change",n):"removeListener"in t&&t.removeListener(n)}}function q1(){const e=Sg();qs(e);const t=Ng();kg(t);let n;return e==="system"&&(n=vc(()=>qs("system"))),{mode:e,dispose:n}}const ls={ocean:{label:"Ocean",rgb:[61,90,128]},emerald:{label:"Emerald",rgb:[16,185,129]},indigo:{label:"Indigo",rgb:[79,70,229]},violet:{label:"Violet",rgb:[139,92,246]},rose:{label:"Rose",rgb:[244,63,94]},amber:{label:"Amber",rgb:[245,158,11]},slate:{label:"Slate",rgb:[100,116,139]},sky:{label:"Sky",rgb:[14,165,233]}};function X1(){return Object.keys(ls).map(e=>({key:e,label:ls[e].label,rgb:ls[e].rgb}))}function Ng(){try{const e=localStorage.getItem(bg);if(e&&e in ls)return e}catch{}return"ocean"}function Z1(e){try{localStorage.setItem(bg,e)}catch{}}function kg(e){var r;const t=document.documentElement,n=((r=ls[e])==null?void 0:r.rgb)||ls.ocean.rgb;t.style.setProperty("--accent-rgb",`${n[0]}, ${n[1]}, ${n[2]}`)}const eN=({isOpen:e,onClose:t})=>{const[n,r]=v.useState("system"),[s,o]=v.useState("ocean"),[l,i]=v.useState();v.useEffect(()=>{if(!e)return;const p=Sg();r(p);const f=Ng();o(f);const d=p==="system"?vc(()=>qs("system")):void 0;return i(()=>d),()=>{d&&d()}},[e]);const c=p=>{if(r(p),Y1(p),qs(p),l&&(l(),i(void 0)),p==="system"){const f=vc(()=>qs("system"));i(()=>f)}},u=p=>{o(p),Z1(p),kg(p)};return e?a.jsx("div",{className:"sm-overlay",role:"dialog","aria-modal":"true",children:a.jsxs("div",{className:"sm-panel",children:[a.jsx("h3",{className:"sm-title",children:"Settings"}),a.jsxs("div",{className:"sm-section",children:[a.jsx("div",{className:"sm-row sm-justify-between",children:a.jsxs("div",{children:[a.jsx("div",{className:"sm-section-title",children:"Appearance"}),a.jsx("div",{className:"sm-section-desc",children:"Choose light or dark, or follow your system."})]})}),a.jsxs("div",{className:"sm-row sm-wrap",role:"radiogroup","aria-label":"Theme Mode",children:[a.jsxs("label",{className:"sm-radio-tile",children:[a.jsx("input",{type:"radio",name:"theme-mode",checked:n==="light",onChange:()=>c("light")}),a.jsx("span",{className:"sm-radio-label",children:"Light"})]}),a.jsxs("label",{className:"sm-radio-tile",children:[a.jsx("input",{type:"radio",name:"theme-mode",checked:n==="dark",onChange:()=>c("dark")}),a.jsx("span",{className:"sm-radio-label",children:"Dark"})]}),a.jsxs("label",{className:"sm-radio-tile",children:[a.jsx("input",{type:"radio",name:"theme-mode",checked:n==="system",onChange:()=>c("system")}),a.jsx("span",{className:"sm-radio-label",children:"System"})]})]})]}),a.jsxs("div",{className:"sm-section",children:[a.jsx("div",{className:"sm-row sm-justify-between",children:a.jsxs("div",{children:[a.jsx("div",{className:"sm-section-title",children:"Color scheme"}),a.jsx("div",{className:"sm-section-desc",children:"Pick an accent color used for highlights and buttons."})]})}),a.jsx("div",{className:"sm-schemes-grid",role:"list","aria-label":"Color schemes",children:X1().map(({key:p,label:f})=>a.jsxs("button",{role:"listitem",className:`sm-scheme sm-scheme-${p}${s===p?" selected":""}`,"data-selected":s===p?"true":"false",onClick:()=>u(p),title:f,children:[a.jsx("span",{className:"sm-swatch"}),a.jsx("span",{className:"sm-scheme-label",children:f})]},p))})]}),a.jsx("div",{className:"sm-actions",children:a.jsx("button",{className:"sm-btn",onClick:t,children:"Close"})})]})}):null},Uf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAItklEQVR4nO1daWxVRRT+aGmp1AiKQYUgoKiJrIIKsqO4hEQxIihqFeqGojRiDCJrxAVxC+oPES0UMBrRP0ZDggsxIsYIokTARhaRiEALKotQKIw5ycE0J3P77nt3Zu7c1/sl58/LmzNn7rl3Zs4yZ4AUKVKkSJEif1EMoBuAUQCmAlgM4CsA6wBsBbAHwCGmPfzbWv7PYm4zinkQrxRZohBAHwBTAHwG4F8AyhARr9UA5gIYniooGAUAhgJYBOAfgwrIRH8DeAfAEADN4n4IPqA9gGcA/OZQCSqASIY5LFOTwwUAFgA4GvJh7QCwAsCrACYAuBpAb+bTFkApU1v+rTf/ZwK3WcE8wvRFMr0JoDOaADoBWArgeIaHsgvAEgDjuY3J/stZhl0ZZCAZqwCcjzxEEYAKAAczLLgfALgRQHNH69ZA/lIPNCLXYQCzAbRAnoCmjs2NDPgXfmtLY5SxlGWobkTOTbzxSCya85t1ImCAGwDczdtcX1DAX+j3ATKfBDCfv/hEgebdNQGD+hPAnZ5vM5sBKAOwO2AMZMt0QEJwHYB9mkHUA3gNQCskB60BvM6yy/HUsnHpNe4AcEwjPLkzrkBycSWAbZpx1QG4HZ6iImC9+NDQV1EAoAeAiQAWAljFit7Pb/BBtjXW87b2fgBdYPZr+UgzPhrzo/AMswP28SYEvRDAPAA7c7TASXFXwdzaUhEwhc2CJ6gIsClGRuR7HhuHmYzIMERv8TSYw80Ajmj6mQQP1gw5Tf0FYHBEvqN5KlKGqYo3HSaMvME8Vqn42NaU6zULOAnYKyLfqbzfN60MKedTBozRXhql1MWx++qo2drSNDUoIt9HLCtC0nYA3Q18KUc0W2JndgpZqd8KAY4bWDP6ByyWton8WAMMrCn1GuPRhU8OL2oGRW92FLRgX5GKicjze66FzQ1FJq3iGs38vtwAX9dTlQqwl6JuiaWdQs9qGCyhWOO13WLA6COD71cPFHISQFcDxqO06Kttue6nadaNyw3wHeqBMhQTxdejoq9mPXkSFry3h0QnFBo1gXkeKEIx7THkhX5DE+QyGfnEu5pF8AxDvNd5oAjVgCh/Cwamrt0ao9QIumg+wbGGeBcYzrtSBuheQ2Mr00zxlIARGW8LxusNBpc6eqAAJWimobHRM/pJ8KZslkjowK6AhkxvhTn080ABShAlPZjCbZoUo0h5X88Jhpt4mjFp1yjPaJnB8RVyEkdD/pQYmBPowf8umI2DWdzkgQKUIHL5m0S5JkOywMTbSzm3LQ0Le4MHClCCKL/YJEo1+Wg5pRNVCSa0uJtGfw8UoASRXWQaVVEN0GJNNp+NJLGuHihACZpsYZy62Sar3K6BgsFOw4v5KbTyQAHK4i7yFAo0ucQ0O4TGLMvzakPUeqAE1YCiOhiDsFT0k1WMf5VoTCmftvCdB0pQTHUWT1WNF319EbZhiebchs1wpPQEqBjpG4vjlF6JI2Hd8j1FQ/Lv28SDHihCOYrwyZNioeL5Y0Sjjy0L2dsDRSimEZbH+qnoj04HZ8QM0egly0Je5oEiFBMFl2zilVwW9mWiEeXI2sQKDxShmOgNdjk9h3LTrBaN6MiwLbRu5ECPioHqWSZbGCb6+zpMow0WImhJcr/3tTjeHqIvipdkvROg7ZotNDWFdM5lBytTRM+yKGBbDxSgBFHWvS2cLfqqCdNIRght1wPxoYqDYiJZbKKF6I8McO8UIjNaVIxEsthEseiPnnVG7Hc4ZYEz5pUnNMDyWNuI/sixmhE7HC7qp7DSA2WsdDDOTrlMkRsduaPlYrc5RmVsZhlso7vo9+cwjdY4NAwb4nSuBOdaGWu5bxeQhiEZ4Vm7Tu6DO0yKQSFRz7ZEcZ2ESi+dKRrRAR1XaO/YlUJ9tXM4vpdF/9PDNBrr2P0usdyhQt53PLZPRP8U6siIPo4DVDp/z0lHX4dNP50O24UMFHoIZU3KjHTXlW+WOFAIlZB1iY6aMyPFuSY5UGq9S7ThMk62lLHLgcErMU7IQCVwc65dUgn3GGHpmHQ9p7C6hsxepMhsVmX5XCTKZcJECwp5OIZx0LP7Q8iRVfmREk3JiDjqDRZaUEgcJQVlKum+XJy2lQ6SrZuKQhYJGd7Khcm1mgTh0+AWhXmgkBIuad5QhpyKCRRqTpKaPrCTCUUWFOK6omi5ZoeX80sx1/KRtkw404JCiKcrFGiOtD0bheE5mtJDobLtDBYsUIbJpZE7RhOyjRyzr9S4q13V3B2dkPMfOtAz+kH0TcU7I+NSjW/pLthHT87KMK2Qvewvs417NL6zS5JQWkOiiMvv2azwQHVbHrK447JaWgM87x4WHVDisOntYbkmhGyTNnIAzvR2fr7o56CNuMssTe0OqvhsYkqcy1OJiolqOBAXtf4iuEawLG1rskTt/2ipSWrbmmMBszYcrg26hUDFSJRv+3iOJf9aa2Ie22wa1IM0HtjlWezJh3Osw7cKQEpD9ewiH52F3+k9zUJu3Qf4QpaJAhQnf17j7UwS7eU1s1OWRTCpVox1FHOJJvk2jdRkemdz8ZdKAB1jR+FFYqy3aGaOtS7dNBcHFFLuzwqbEVAbPV+oDsDTvDMcqJmCa/gSAacYoknMro25/q5yTNWaF/OogQrfxqzRlGC1yEIoTPfgIShPyIq9kQue8OBhqJgpq6QFF5jswUNRMRA5Xh+Dp3gg4FKwfKU69r95jQGN3P+XT1STpJs/KW3yRw8emrJE65J4aXEJe3HjuKRFWaIT7FpP9EXF/TSB/iTSFgOXnXmDlpxtIYNcSaBD7CZxnZPmBO3Y4WjibkLlYHpa4viEVWzoxjFmHz3BR/nsCEUymxyo1smUCNeqKoO0mzchkYrl5wuK+MzGQkupP40Fnhbw7Z+Ju7TeFQr5fMocLqUqK2xHIeL1OfMeFlMmfOJRyIltZXxkmzIpv+RYRK1Q2AH+rZr/U8ltyphHqoAUKVKkSIF8xX/IuxVXX/X46QAAAABJRU5ErkJggg==",Gf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF2ElEQVR4nO2dW4hVVRjHf2pa6ZRSdNMuEKljFymMGEtKLQiiSMsiCnssesmih6i8dCNNdEqIXlKD6ck0ECvLxsyu0MUKohuOY1H6IHaFNC/NiiXfRAzH2WefvS7f3nv94A/DPKzzrfU/+6zbt9aGRCKRSCSqzxigGzgEmCb1N7AKGBY7+CqyIIcRAzUrdvBVZEMBQxbHDr6K9BQw5LXYwVeN44DDBQz5IXYFqsbFBcyw6pNBQcIRtxc0xOry2JWoEk84MORuas6xDsta58CQ5xzGM5yS8ThwANgFzHFQ3jcODHnXQRw3S53shHMRJWFJg8boAtoKfBsPOjDk1wJ1Oh5Y0aDMTkpoRr96W+xYL3BgRr/GtfD5FwJfDVJmZxnN6Jddh3o059rSHIeGXJvjc4cA8+TnKatcdaY8k7Nh3gHOzChzKDAD2OzQkPXAlCbqczqwKWfZyyipGf36RTrJgUwCngV2OzRioL6TTnlsg8+/HtjTYrnLyvAzlaX+Dn+y/F1kiSSvDshnjpflmRUyqy9SZmfZnoxG2hvQBNNAdhT3o8Pylpdpb6IuejikIT8rqLBRLvvEBcPlyKeq6g5piB0J7VNQaaNUdu5yEYGZp6DiRqnuJQJ2JrtRQeWNMr0lbROFsQqGrEaR7ALmWUTmJgUNYZToVpTwkoLGMJG1GkWMlswOU1P1AieijGmB16GMEv0DXIVSlipoIBNYT6I8saHVpWtTQn2vPeGhQ0EjmYDaf5Q9FTXUcaL4NEqZEqgB+oDPZAtgOjARGCVql/8tBLYFiudP4CQU8kIAI9YAE3LEZM1a62AXMEv3oYwRsmzgq8I9wGUF+7Zej/F9jDJmeazs+8CpDmI8GXjbY5x5nlwv2KSASyQz/SNPldzieFhpn+StnmJ9RbJoJvkeCo+Q7MFbJMntZeDrALPyXuAUD/WxT8p2z7HbhMAdwKuSmXOnDHpGtrouNV+SyrZHWg7pK9hnZDE1QEffSIelTddLG9u2ziRvxp4PrcE/Lo44FNWbzQTqItO86NMxwb8fR+YssQ2xbZ1JjEf5//qUcHyu4Mun3pD5hMPm9yZDMjSdcMxMhmRrPOGwSyvJkAy1EQ77WcmQDJ1AOOw+eDJE0ZpQezIkWzMIR+rUm9BCwvFYMiRb2wjHl2UwZJ+CICf69+LIMrmJLNvWmaxSEOha/34c2b+IXc+VzQRqD/XPlmyKN4CfIj0lHR7NuCLST7M95va67JHMLnI552hJFb1Ljg53BziGsNPjBlWR6wKb0R+SGdMlB5uucbQNPSj2UMq5wI2y7+2jYltlx9IVtqz3PMVqd1KvA85GAbM9fts+cJjksKXKSQ4Dc3p/87y/PrVgn7HTY3yfoJCVHitspBNeJ8sdeYa2IUZT91PjVFIjO32LZOmjXVZt2+TvmZId80XdU0nrmmy9FMV01PCCgLEops1z526UaYdkcKpFw7KLCSx72ZpK6npevQ+4AWWMq/mNDnuAM1DCUM9p/qYk2iRtEZ2HFDSGUaIHNEwGDyhoCKNEBz1n7Q/KKLluNXYjGGXaHjiV6T9WK6i8UaqmdgJdUtchrsmh20KZMcTzrdOmItoV6ma54U1eUF937Q95D0rsBDNTAtk2Cspyh8HvVjBc7XFYXrT73xc7WAdaIVvAkyNexn8ecIxsbBX9fHsnflQ6WwzcXgl4ZaTXVXwrl9c0Wn+aVuAaDjUvdslrSlcTZ7SHAVfLy7xcGWFfwXppk+dGXizbk9HKz9fvwB05y53r0BD7spa88629ZTSjGVM2N/GaI9/JE+eQn9PkySqdGUczxY7HHyywND1Sbv50kd7Z6kRtiKTR/lU2M/qZL+8Y6ZaLa4rS48CQDx3Ecb7UydbtEWrMBgeGPB+7ElViiQND7oldiSox14Ehdn6RcMSUgmakF9w7ZmTBkVbQF3TVhR0FDLFX7SUUjbSeih18FVlQwBB77C7hmDGSjHYohxH75cbtlk+7JhKJRCJBSfgXc5EUFk20zSsAAAAASUVORK5CYII=",tN=({active:e,onNavigate:t,onAddPage:n,onDeletePage:r,onBulkDelete:s,onRenamePage:o,onReorder:l,onChangeIcon:i,pages:c})=>{var zn;const[u,p]=v.useState(null),[f,d]=v.useState(!1),[m,x]=v.useState(()=>localStorage.getItem("sidebar-collapsed")==="1"),[b,N]=v.useState([]),y=v.useRef(null),g=v.useRef(null),w=v.useRef(null),[S,P]=v.useState(null),[A,$]=v.useState(""),I=v.useRef(null),[Ee,V]=v.useState(!1),[xe,de]=v.useState(""),ke=v.useRef(null),[Be,K]=v.useState(""),[re,Y]=v.useState(!1),[_,O]=v.useState(null),[se,Ce]=v.useState(!1),be=(F,h)=>{de(F),ke.current=h,V(!0)};v.useEffect(()=>{const F=localStorage.getItem("sidebar-width");F&&document.documentElement.style.setProperty("--sidebar-width",F),m&&document.documentElement.style.setProperty("--sidebar-width","72px");let h;try{h=q1().dispose}catch{}return()=>{h&&h()}},[]),v.useEffect(()=>{const F=w.current;if(!F||m)return;let h=0,C=0,J=0;const L=oe=>{oe.preventDefault(),h=oe.clientX;const ae=getComputedStyle(document.documentElement).getPropertyValue("--sidebar-width")||"260px";C=parseInt(ae,10)||260,J=C,oe.target.setPointerCapture(oe.pointerId),g.current&&g.current.classList.add("resizing"),document.body.classList.add("sidebar-resizing-global"),document.addEventListener("pointermove",B),document.addEventListener("pointerup",X)},B=oe=>{oe.preventDefault();const ae=oe.clientX-h,ce=C+ae,fe=280,pe=420;let De=ce;De<fe&&(De=fe),De>pe&&(De=pe),J=De;const Pe=`${De}px`;document.documentElement.style.setProperty("--sidebar-width",Pe)},X=oe=>{try{oe.target.releasePointerCapture(oe.pointerId)}catch{}document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",X),g.current&&g.current.classList.remove("resizing"),document.body.classList.remove("sidebar-resizing-global");const ce=`${Math.max(280,Math.min(420,J))}px`;document.documentElement.style.setProperty("--sidebar-width",ce),localStorage.setItem("sidebar-width",ce)};return F.addEventListener("pointerdown",L),()=>F.removeEventListener("pointerdown",L)},[m]),v.useEffect(()=>{if(localStorage.setItem("sidebar-collapsed",m?"1":"0"),m)document.documentElement.style.setProperty("--sidebar-width","72px");else{const F=localStorage.getItem("sidebar-width")||"300px";document.documentElement.style.setProperty("--sidebar-width",F)}},[m]),v.useEffect(()=>{const F=h=>{const C=h.target,J=C.closest(".item-menu"),L=C.closest(".item-actions");!J&&!L&&p(null),g.current&&!g.current.contains(C)&&(S&&A.trim()&&o&&o(S,A.trim()),P(null))};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]),v.useEffect(()=>{S&&I.current&&(I.current.focus(),I.current.select())},[S]);const Re=(F,h)=>{F!=="dashboard"&&(P(F),$(h),p(null))},ye=()=>{if(!S)return;const F=A.trim();F&&o&&o(S,F),P(null)},it=()=>{P(null)},je=Be.trim().toLowerCase(),He=c.filter(F=>F.key!=="dashboard"),ut=F=>F.toLowerCase().match(/[a-z0-9]+/g)||[],Se=(F,h)=>h?ut(F).some(J=>J.startsWith(h)):!0,Nt=je?He.filter(F=>Se(F.label,je)||Se(F.key,je)):He;return a.jsxs("aside",{className:`sidebar${m?" collapsed":""}`,ref:g,children:[a.jsx("div",{className:"sidebar-resize-handle",ref:w,title:"Resize sidebar"}),a.jsxs("div",{className:"sidebar-header",children:[!m&&a.jsxs("span",{className:"logo",children:["Blackline Forensics ",a.jsx("span",{className:"for-figma",children:"AI"})]}),a.jsx("button",{className:"collapse-toggle","aria-label":m?"Expand sidebar":"Collapse sidebar",title:m?"Expand":"Collapse",onClick:()=>x(F=>!F),children:m?"›":"‹"})]}),null,a.jsx("nav",{className:"sidebar-nav",children:m?a.jsxs("div",{className:"collapsed-icon-list",children:[a.jsx("button",{className:`collapsed-icon-btn${e==="dashboard"?" active":""}`,title:"Dashboard","aria-label":"Dashboard",onClick:()=>t("dashboard"),children:a.jsx("span",{className:"sidebar-item-icon","aria-hidden":!0,children:"🏠"})},"__dashboard_fixed"),a.jsx("button",{className:"collapsed-icon-btn",title:"New analysis","aria-label":"New analysis",onClick:()=>{n&&n()},children:a.jsx("span",{className:"sidebar-item-icon","aria-hidden":!0,children:"+"})},"__newanalysis_compact"),Nt.map(F=>a.jsx("button",{className:`collapsed-icon-btn${e===F.key?" active":""}`,title:F.label,"aria-label":F.label,onClick:()=>t(F.key),children:a.jsx("span",{className:"sidebar-item-icon","aria-hidden":!0,children:F.icon||"📁"})},F.key))]}):je===""?a.jsxs(qS,{onDragEnd:F=>{const{source:h,destination:C}=F;if(!C)return;const J=Nt[h.index].key,L=C.index;l&&l(J,L)},children:[a.jsx("button",{className:`home-replace-button dashboard-button${e==="dashboard"?" active":""}`,"aria-label":"Open Dashboard",onClick:()=>t("dashboard"),children:a.jsxs("span",{className:"home-replace-inline dashboard-pill",children:[a.jsx("span",{className:"home-add-icon","aria-hidden":!0,children:"🏠"}),a.jsx("span",{className:"new-bubble",children:"DASHBOARD"})]})}),a.jsxs("button",{className:"home-replace-button",onClick:()=>{n&&n()},children:[a.jsx("span",{className:"home-add-icon","aria-hidden":!0,children:"+"}),a.jsx("span",{className:"new-bubble",children:"NEW ANALYSIS"})]}),a.jsx("div",{className:"sidebar-separator"}),a.jsx(L1,{droppableId:"sidebar-pages",children:F=>a.jsxs("div",{ref:F.innerRef,...F.droppableProps,children:[b.length>0&&a.jsxs("div",{className:"sidebar-bulk-bar",children:[a.jsxs("div",{className:"bulk-info",children:[b.length," selected"]}),a.jsxs("div",{className:"bulk-actions",children:[a.jsx("button",{className:"item-menu-btn",onClick:()=>{N([])},children:"Clear"}),a.jsx("button",{className:"item-menu-btn danger",onClick:()=>{be(`Delete ${b.length} page${b.length===1?"":"s"}? This action cannot be undone.`,()=>{s?s(b):r&&b.forEach(h=>r(h)),N([]),V(!1)})},children:"Delete"})]})]}),Nt.map((h,C)=>{const J=b.includes(h.key);return a.jsx(g1,{draggableId:h.key,index:C,children:(L,B)=>a.jsxs("div",{ref:L.innerRef,...L.draggableProps,className:`sidebar-item${e===h.key||u===h.key?" active":""} ${B.isDragging?"dragging":""}`,children:[a.jsxs("div",{className:"sidebar-link-left",onDoubleClick:X=>{X.stopPropagation(),Re(h.key,h.label)},children:[a.jsx("input",{type:"checkbox",className:"sidebar-checkbox","aria-label":`Select ${h.label}`,checked:J,onClick:X=>{const oe=X.target.checked,ae=X.shiftKey;N(ce=>{if(ae&&y.current){const fe=Nt,pe=fe.findIndex(Pe=>Pe.key===y.current),De=fe.findIndex(Pe=>Pe.key===h.key);if(pe!==-1&&De!==-1){const[Pe,$e]=pe<De?[pe,De]:[De,pe],Ie=fe.slice(Pe,$e+1).map(Ye=>Ye.key);return oe?Array.from(new Set([...ce,...Ie])):ce.filter(Ye=>!Ie.includes(Ye))}}return oe?Array.from(new Set([...ce,h.key])):ce.filter(fe=>fe!==h.key)}),y.current=h.key,X.stopPropagation()}}),S===h.key?a.jsx("input",{ref:I,className:"sidebar-rename-input",value:A,onChange:X=>$(X.target.value),onBlur:ye,"aria-label":`Rename ${h.label}`,placeholder:"Rename analysis",onKeyDown:X=>{X.key==="Enter"?(X.preventDefault(),ye()):X.key==="Escape"&&(X.preventDefault(),it())}}):a.jsx("button",{className:"sidebar-link sidebar-link-button","aria-label":`Open ${h.label}`,onClick:()=>t(h.key),children:h.key==="dashboard"?a.jsxs("span",{className:"home-replace-inline",children:[a.jsx("span",{className:"home-add-icon","aria-hidden":!0,children:"+"}),a.jsx("span",{className:"new-bubble",children:"NEW ANALYSIS"})]}):a.jsxs(a.Fragment,{children:[h.icon?a.jsx("span",{className:`sidebar-item-icon ${i?"clickable":""}`,"aria-hidden":!0,onClick:X=>{X.stopPropagation(),i&&(O(h.key),Y(!0))},title:"Change icon",children:h.icon}):a.jsx("span",{className:`sidebar-item-icon folder-emoji ${i?"clickable":""}`,"aria-hidden":!0,onClick:X=>{X.stopPropagation(),i&&(O(h.key),Y(!0))},title:"Change icon",children:"📁"}),a.jsx("span",{className:"sidebar-label",children:h.label})]})})]}),h.key!=="dashboard"&&a.jsxs("div",{className:"sidebar-actions-wrap",children:[a.jsx("span",{className:"action-grip",...L.dragHandleProps,title:"Drag to reorder","aria-hidden":!0,children:"≡"}),a.jsx("button",{className:"item-actions",title:"More",onClick:X=>{X.stopPropagation(),p(u===h.key?null:h.key)},children:"…"}),u===h.key&&a.jsxs("div",{className:"item-menu",onClick:X=>X.stopPropagation(),children:[a.jsx("button",{className:"item-menu-btn",onClick:()=>{Re(h.key,h.label)},children:"Rename"}),a.jsx("button",{className:"item-menu-btn danger",onClick:()=>{be(`Delete "${h.label}"? This action cannot be undone.`,()=>{r&&r(h.key),p(null),V(!1)})},children:"Delete"})]})]})]})},h.key)}),F.placeholder]})})]}):a.jsxs("div",{children:[a.jsx("button",{className:`home-replace-button dashboard-button${e==="dashboard"?" active":""}`,"aria-label":"Open Dashboard",onClick:()=>t("dashboard"),children:a.jsxs("span",{className:"home-replace-inline dashboard-pill",children:[a.jsx("span",{className:"home-add-icon","aria-hidden":!0,children:"🏠"}),a.jsx("span",{className:"new-bubble",children:"DASHBOARD"})]})}),a.jsxs("button",{className:"home-replace-button",onClick:()=>{n&&n()},children:[a.jsx("span",{className:"home-add-icon","aria-hidden":!0,children:"+"}),a.jsx("span",{className:"new-bubble",children:"NEW ANALYSIS"})]}),a.jsx("div",{className:"sidebar-separator"}),b.length>0&&a.jsxs("div",{className:"sidebar-bulk-bar",children:[a.jsxs("div",{className:"bulk-info",children:[b.length," selected"]}),a.jsxs("div",{className:"bulk-actions",children:[a.jsx("button",{className:"item-menu-btn",onClick:()=>{N([])},children:"Clear"}),a.jsx("button",{className:"item-menu-btn danger",onClick:()=>{be(`Delete ${b.length} page${b.length===1?"":"s"}? This action cannot be undone.`,()=>{s?s(b):r&&b.forEach(F=>r(F)),N([]),V(!1)})},children:"Delete"})]})]}),Nt.length===0&&a.jsx("div",{className:"no-results",children:"No results"}),Nt.map(F=>{const h=b.includes(F.key);return a.jsxs("div",{className:`sidebar-item${e===F.key||u===F.key?" active":""}`,children:[a.jsxs("div",{className:"sidebar-link-left",onDoubleClick:C=>{C.stopPropagation(),Re(F.key,F.label)},children:[a.jsx("input",{type:"checkbox",className:"sidebar-checkbox","aria-label":`Select ${F.label}`,checked:h,onClick:C=>{const J=C.target.checked,L=C.shiftKey;N(B=>{if(L&&y.current){const X=Nt,oe=X.findIndex(ce=>ce.key===y.current),ae=X.findIndex(ce=>ce.key===F.key);if(oe!==-1&&ae!==-1){const[ce,fe]=oe<ae?[oe,ae]:[ae,oe],pe=X.slice(ce,fe+1).map(De=>De.key);return J?Array.from(new Set([...B,...pe])):B.filter(De=>!pe.includes(De))}}return J?Array.from(new Set([...B,F.key])):B.filter(X=>X!==F.key)}),y.current=F.key,C.stopPropagation()}}),S===F.key?a.jsx("input",{ref:I,className:"sidebar-rename-input",value:A,onChange:C=>$(C.target.value),onBlur:ye,"aria-label":`Rename ${F.label}`,placeholder:"Rename analysis",onKeyDown:C=>{C.key==="Enter"?(C.preventDefault(),ye()):C.key==="Escape"&&(C.preventDefault(),it())}}):a.jsxs("button",{className:"sidebar-link sidebar-link-button","aria-label":`Open ${F.label}`,onClick:()=>t(F.key),children:[F.icon?a.jsx("span",{className:"sidebar-item-icon","aria-hidden":!0,children:F.icon}):a.jsx("span",{className:"sidebar-item-icon folder-emoji","aria-hidden":!0,children:"📁"}),a.jsx("span",{className:"sidebar-label",children:F.label})]})]}),F.key!=="dashboard"&&a.jsxs("div",{className:"sidebar-actions-wrap",children:[a.jsx("button",{className:"item-actions",title:"More",onClick:C=>{C.stopPropagation(),p(u===F.key?null:F.key)},children:"…"}),u===F.key&&a.jsxs("div",{className:"item-menu",onClick:C=>C.stopPropagation(),children:[a.jsx("button",{className:"item-menu-btn",onClick:()=>{Re(F.key,F.label)},children:"Rename"}),a.jsx("button",{className:"item-menu-btn danger",onClick:()=>{be(`Delete "${F.label}"? This action cannot be undone.`,()=>{r&&r(F.key),p(null),V(!1)})},children:"Delete"})]})]})]},F.key)})]})}),!m&&a.jsxs("div",{className:"sidebar-search-wrap",children:[a.jsx("input",{className:"sidebar-search",placeholder:"Search for...","aria-label":"Search pages",value:Be,onChange:F=>K(F.target.value),onKeyDown:F=>{F.key==="Escape"&&K("")}}),je!==""&&a.jsx("button",{className:"search-clear","aria-label":"Clear search",onClick:()=>K(""),children:"×"})]}),m?a.jsxs("div",{className:"sidebar-footer collapsed-footer",children:[a.jsxs("div",{className:"profile-container",children:[a.jsxs("button",{className:"profile-btn",title:"Profile","aria-label":"Profile",onClick:()=>d(F=>!F),"aria-haspopup":"dialog",children:[a.jsx("img",{src:Uf,alt:"","aria-hidden":!0,width:"16",height:"16"}),a.jsx("span",{className:"visually-hidden",children:"Open profile"})]}),a.jsx(zf,{open:f,onClose:()=>d(!1),user:{name:"Guest User",email:"guest@example.com",plan:"Guest"}})]}),a.jsx("button",{className:"settings-btn",title:"Settings","aria-label":"Settings",onClick:()=>Ce(!0),children:a.jsx("img",{src:Gf,alt:"","aria-hidden":!0,width:"16",height:"16"})})]}):a.jsxs("div",{className:"sidebar-footer",children:[a.jsxs("div",{className:"profile-container",children:[a.jsxs("button",{className:"profile-btn",title:"Profile","aria-label":"Profile",onClick:()=>d(F=>!F),"aria-haspopup":"dialog",children:[a.jsx("img",{src:Uf,alt:"","aria-hidden":!0,width:"16",height:"16"}),a.jsx("span",{className:"visually-hidden",children:"Open profile"})]}),a.jsx(zf,{open:f,onClose:()=>d(!1),user:{name:"Guest User",email:"guest@example.com",plan:"Guest"}})]}),a.jsx("button",{className:"settings-btn",title:"Settings","aria-label":"Settings",onClick:()=>Ce(!0),children:a.jsx("img",{src:Gf,alt:"","aria-hidden":!0,width:"16",height:"16"})})]}),a.jsx(gg,{open:Ee,title:"Confirm deletion",message:xe,confirmText:"Delete",cancelText:"Cancel",danger:!0,onConfirm:()=>{ke.current&&ke.current()},onCancel:()=>V(!1)}),re&&_&&a.jsx(wg,{isOpen:re,currentIcon:(zn=c.find(F=>F.key===_))==null?void 0:zn.icon,onClose:()=>{Y(!1),O(null)},onSelect:F=>{i&&_&&i(_,F),Y(!1),O(null)}}),se&&a.jsx(eN,{isOpen:se,onClose:()=>Ce(!1)})]})};const Eg="bl_analysis_summaries_v1";function Ni(){try{const e=localStorage.getItem(Eg);if(!e)return[];const t=JSON.parse(e);if(Array.isArray(t))return t}catch{}return[]}function Cg(e){try{localStorage.setItem(Eg,JSON.stringify(e))}catch{}}function En(e){const t=Ni(),n=t.findIndex(r=>r.id===e.id&&r.pageKey===e.pageKey);n>=0?t[n]=e:t.push(e),Cg(t)}function qt(e){const t=Ni();return e?t.filter(n=>n.pageKey===e):t}function dn(){return Ni()}function Dg(e,t){if(!e.length)return;const n=new Set(e),s=Ni().filter(o=>!!(!n.has(o.id)||t&&o.pageKey!==t));Cg(s)}const nN=({pages:e})=>{const t=e.filter(n=>n.key!=="dashboard");return a.jsx("div",{className:"page-content",children:a.jsx("div",{className:"dashboard-page-cards",children:a.jsx("div",{className:"file-analysis-pages",children:t.map(n=>a.jsxs("div",{className:"file-page-card",onClick:()=>{try{window.dispatchEvent(new CustomEvent("bl:navigate",{detail:{page:n.key}}))}catch{}},role:"button",tabIndex:0,children:[a.jsx("div",{className:"file-page-card-title",children:n.label}),a.jsxs("div",{className:"file-page-card-body",children:[a.jsxs("div",{className:"file-page-count",children:[qt(n.key).length," analyses"]}),a.jsx("div",{className:"file-page-cta",children:"Open"})]})]},n.key))})})})};const rN="bl_uploads_db",cr="files";let ol=null;function Ou(){return ol||(ol=new Promise((e,t)=>{const n=indexedDB.open(rN,1);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(cr)||r.createObjectStore(cr)},n.onerror=()=>t(n.error||new Error("IndexedDB open error")),n.onsuccess=()=>e(n.result)}),ol)}async function pa(e,t){try{const n=await Ou();await new Promise((r,s)=>{const o=n.transaction(cr,"readwrite");o.onabort=()=>s(o.error||new Error("tx aborted")),o.onerror=()=>s(o.error||new Error("tx error")),o.oncomplete=()=>r(),o.objectStore(cr).put(t,e)})}catch(n){console.warn("[uploadPersistence] persistFile failed",n)}}async function sN(e){try{const t=await Ou();return await new Promise((n,r)=>{const s=t.transaction(cr,"readonly");s.onabort=()=>r(s.error||new Error("tx abort")),s.onerror=()=>r(s.error||new Error("tx error"));const o=s.objectStore(cr).get(e);o.onsuccess=()=>n(o.result),o.onerror=()=>r(o.error||new Error("get error"))})}catch{return}}async function Ag(e){try{const t=await Ou();await new Promise((n,r)=>{const s=t.transaction(cr,"readwrite");s.onabort=()=>r(s.error||new Error("tx abort")),s.onerror=()=>r(s.error||new Error("tx error")),s.oncomplete=()=>n(),s.objectStore(cr).delete(e)})}catch{}}const Wf=".jpg,.jpeg,.png,.gif,.mp4,.avi",ma="http://localhost:8000",Vf="bl_uploadItems_",Hf="v3",zr={},oN=({pageKey:e})=>{var F;const[t,n]=v.useState(!1),[r,s]=v.useState([]),[o,l]=v.useState(null),[i,c]=v.useState("fusion_blend"),u=v.useRef(null),p=v.useRef(null),f=v.useRef(null),d=v.useRef({}),m=v.useRef({}),[x,b]=v.useState(0),[N,y]=v.useState(null),g=v.useRef(null),[w,S]=v.useState(null),P=v.useRef({}),[A,$]=v.useState(!1);async function I(h,C=96){return new Promise((J,L)=>{try{const B=new Image;B.onload=()=>{try{const ae=Math.max(1,B.naturalWidth||B.width||320),ce=Math.max(1,B.naturalHeight||B.height||240),fe=C/ce,pe=Math.max(1,Math.round(ae*fe)),De=Math.max(1,Math.round(ce*fe)),Pe=document.createElement("canvas");Pe.width=pe,Pe.height=De;const $e=Pe.getContext("2d");if(!$e)return L(new Error("thumb-failed"));$e.drawImage(B,0,0,pe,De);const Ie=Pe.toDataURL("image/jpeg",.82);J(Ie)}catch(ae){L(ae)}},B.onerror=()=>L(new Error("thumb-failed"));const X=URL.createObjectURL(h),oe=()=>{try{URL.revokeObjectURL(X)}catch{}};B.addEventListener("load",oe,{once:!0}),B.addEventListener("error",oe,{once:!0}),B.src=X}catch(B){L(B)}})}async function Ee(h,C=.2){return new Promise((J,L)=>{try{const B=document.createElement("video");B.preload="metadata",B.muted=!0,B.playsInline=!0;const X=URL.createObjectURL(h),oe=()=>{try{URL.revokeObjectURL(X)}catch{}},ae=ce=>{oe(),L(ce||new Error("thumb-failed"))};B.onerror=()=>ae(),B.onloadedmetadata=()=>{try{const ce=Number.isFinite(B.duration)&&B.duration>0?B.duration:1,fe=Math.min(Math.max(0,C),Math.max(.01,ce-.01));B.currentTime=fe}catch(ce){ae(ce)}},B.onseeked=()=>{try{const ce=Math.max(1,B.videoWidth||320),fe=Math.max(1,B.videoHeight||240),De=96/fe,Pe=Math.max(1,Math.round(ce*De)),$e=Math.max(1,Math.round(fe*De)),Ie=document.createElement("canvas");Ie.width=Pe,Ie.height=$e;const Ye=Ie.getContext("2d");if(!Ye)return ae();Ye.drawImage(B,0,0,Pe,$e);const et=Ie.toDataURL("image/jpeg",.82);oe(),J(et)}catch(ce){ae(ce)}},B.src=X}catch(B){L(B)}})}function V(h,C){var J;!C||!((J=C.type)!=null&&J.startsWith("video/"))||P.current[h]||(P.current[h]=!0,Ee(C).then(L=>{s(B=>B.map(X=>X.id!==h||(d.current[h]||X.file)!==C||X.preview?X:{...X,preview:L}))}).catch(()=>{}).finally(()=>{P.current[h]=!1}))}v.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=null)},[]),v.useEffect(()=>{const h=window.setInterval(()=>b(C=>C+1),500);return()=>window.clearInterval(h)},[]),v.useEffect(()=>{try{const h=localStorage.getItem("bl_lastModel");c(h||"fusion_blend")}catch{c("fusion_blend")}},[]),v.useEffect(()=>{let h=!0;return(async()=>{try{const C=await fetch(`${ma}/api/dl/info`,{cache:"no-cache"});if(!C.ok)return;const J=await C.json(),L=!!(J&&J.weights&&J.weights.fusion_lr);h&&$(L)}catch{}})(),()=>{h=!1}},[]),v.useEffect(()=>{try{localStorage.setItem("bl_lastModel",i)}catch{}},[i]),v.useEffect(()=>()=>{try{Object.values(m.current||{}).forEach(C=>{try{C()}catch{}}),m.current={}}catch{}},[]);function xe(h,C){if(!C||m.current[h])return;let J=!1;const L=()=>{J=!0};m.current[h]=L,(async()=>{for(;!J;){try{const X=await fetch(`${ma}/api/progress/${C}`,{cache:"no-cache"});if(X.ok){const oe=await X.json(),ae=Math.max(0,Math.min(100,typeof oe.percent=="number"?oe.percent:0)),ce=oe.stage||"",fe=typeof oe.message=="string"?oe.message:"";if(s(pe=>pe.map(De=>{if(De.id!==h)return De;let Pe=De.status;De.status!=="done"&&De.status!=="error"&&De.status!=="canceled"&&(ce==="done"?Pe="done":ce==="processing"||ce==="analyzing"||ce==="running"?Pe="analyzing":Pe=De.status);let $e=De.analyzeStartAt;return!$e&&Pe==="analyzing"&&($e=Date.now()),(Pe==="done"||Pe==="error"||Pe==="canceled")&&($e=void 0),{...De,status:Pe,progress:Math.max(De.progress,Math.round(ae)),stage:ce,stageMsg:fe||De.stageMsg,analyzeStartAt:$e}})),ce==="done"){L();try{delete m.current[h]}catch{}break}}}catch{}await new Promise(X=>setTimeout(X,800))}})(),setTimeout(L,10*60*1e3)}v.useEffect(()=>{r.forEach(h=>{(h.status==="analyzing"||h.status==="uploading")&&h.jobId&&xe(h.id,h.jobId)})},[r]),v.useEffect(()=>{function h(C){try{const L=C.detail;if(!L)return;const B=e||"global";if(L.pageKey!==B)return;const X=new Set(L.ids);s(oe=>(oe.forEach(ae=>{if(X.has(ae.id)&&ae.preview&&ae.preview.startsWith("blob:"))try{URL.revokeObjectURL(ae.preview)}catch{}}),L.ids.forEach(ae=>{delete d.current[ae]}),oe.filter(ae=>!X.has(ae.id))))}catch{}}return window.addEventListener("bl:uploads-removed",h),()=>{window.removeEventListener("bl:uploads-removed",h)}},[e]);function de(h){if(!h||typeof h!="string")return null;const C=h.toLowerCase();return C.includes("fusion-lr")?"fusion_lr":C.includes("fusion-blend")?"fusion_blend":C.includes("stub")||C.includes("hash")?"stub":null}const ke=e?`${Vf}${e}_${Hf}`:`${Vf}__global_${Hf}`;v.useEffect(()=>{(async()=>{try{const h=localStorage.getItem(ke),C=h?JSON.parse(h):[];if(!Array.isArray(C))return;const J=await Promise.all(C.map(async L=>{var fe,pe;const B=e?`${e}::${L.id}`:L.id,X=zr[B]||await sN(B);X&&(zr[B]=X);const oe=L.preview||null,ae=oe&&typeof oe=="string"&&oe.startsWith("blob:")?null:oe,ce=de((pe=(fe=L==null?void 0:L.result)==null?void 0:fe.summary)==null?void 0:pe.deepfake_method);return{id:L.id,file:X||void 0,name:L.fileName,mime:L.fileType,preview:ae,status:L.status,progress:L.progress||0,stage:L.stage,stageMsg:L.stageMsg||null,result:L.result||null,analyzeStartAt:L.analyzeStartAt||void 0,jobId:L.jobId||void 0,error:L.error||null,usedModel:L.usedModel||ce||null}}));d.current=J.reduce((L,B)=>(B.file&&(L[B.id]=B.file),L),{}),s(J)}catch{}})()},[e,ke]),v.useEffect(()=>{try{const h=r.map(C=>({id:C.id,fileName:C.file?C.file.name:"",fileType:C.file?C.file.type:"",preview:C.preview,status:C.status,progress:C.progress,stage:C.stage,stageMsg:C.stageMsg||null,analyzeStartAt:C.analyzeStartAt||void 0,jobId:C.jobId||void 0,result:C.result||null,error:C.error||null,usedModel:C.usedModel||null}));localStorage.setItem(ke,JSON.stringify(h))}catch{}},[r,ke]),v.useEffect(()=>{r.forEach(h=>{const C=d.current[h.id]||h.file;!h.preview&&C&&((h.mime||"").startsWith("video/")?V(h.id,C):(h.mime||"").startsWith("image/")&&I(C).then(J=>{s(L=>L.map(B=>B.id===h.id?{...B,preview:J}:B))}).catch(()=>{}))})},[r]);async function Be(h){if(!h||h.length===0)return;l(null);const C=[],J=f.current;if(J){const L=h[0];d.current[J]=L,s(X=>X.map(oe=>{if(oe.id!==J)return oe;if(oe.preview&&oe.preview.startsWith("blob:"))try{URL.revokeObjectURL(oe.preview)}catch{}return{...oe,file:L,name:L.name,mime:L.type,preview:null,status:"idle",progress:0,result:null,error:null}}));const B=e?`${e}::${J}`:J;if(zr[B]=L,pa(B,L),f.current=null,L.type.startsWith("video/")&&V(J,L),L.type.startsWith("image/"))try{const X=await I(L);s(oe=>oe.map(ae=>ae.id===J?{...ae,preview:X}:ae))}catch{}return}for(let L=0;L<h.length;L++){const B=h[L],X=null,oe=`${Date.now()}_${L}_${B.name}`;d.current[oe]=B;const ae=e?`${e}::${oe}`:oe;zr[ae]=B,pa(ae,B),C.push({id:oe,file:B,name:B.name,mime:B.type,preview:X,status:"idle",progress:0,result:null,error:null}),B.type.startsWith("video/")&&V(oe,B),B.type.startsWith("image/")&&I(B).then(ce=>{s(fe=>fe.map(pe=>pe.id===oe?{...pe,preview:ce}:pe))}).catch(()=>{})}s(L=>[...L,...C])}const K=h=>{h.preventDefault(),n(!1),Be(h.dataTransfer.files)},re=()=>{var h;return(h=u.current)==null?void 0:h.click()};function Y(h){try{window.dispatchEvent(new CustomEvent("bl:navigate",{detail:{page:h}}))}catch{}}const _=h=>{var C;f.current=h,(C=p.current)==null||C.click()},O=h=>{const C=r.findIndex(B=>B.id===h),J=C>=0?r[C]:void 0,L=J?d.current[h]||J.file:void 0;J&&(g.current&&(window.clearTimeout(g.current),g.current=null),y({item:J,file:L,index:C}),s(B=>{if(J.preview&&J.preview.startsWith("blob:"))try{URL.revokeObjectURL(J.preview)}catch{}delete d.current[h];const X=e?`${e}::${h}`:h;delete zr[X],Ag(X);try{Dg([h],e||"global")}catch{}return B.filter(oe=>oe.id!==h)}),g.current=window.setTimeout(()=>{y(null),g.current=null},7e3))};function se(){var B,X,oe;if(!N)return;const{item:h,file:C,index:J}=N;if(C){d.current[h.id]=C;const ae=e?`${e}::${h.id}`:h.id;zr[ae]=C;try{pa(ae,C)}catch{}}const L={...h,file:C||h.file,preview:null,status:h.status};s(ae=>{const ce=[...ae],fe=Math.min(Math.max(J,0),ce.length);return ce.splice(fe,0,L),ce}),C&&C.type.startsWith("video/")&&V(h.id,C),C&&C.type.startsWith("image/")&&I(C).then(ae=>{s(ce=>ce.map(fe=>fe.id===h.id?{...fe,preview:ae}:fe))}).catch(()=>{});try{if((B=h.result)!=null&&B.summary){const ae=e||"global",ce=(C==null?void 0:C.name)||h.name||((oe=(X=h.result)==null?void 0:X.asset)==null?void 0:oe.fileName)||"File",fe=(C==null?void 0:C.type)||h.mime;En({id:h.id,pageKey:ae,fileName:ce,mime:fe,analyzedAt:Date.now(),summary:h.result.summary,raw:h.result})}}catch{}y(null),g.current&&(window.clearTimeout(g.current),g.current=null)}async function Ce(h){var B,X,oe,ae;s(ce=>ce.map(fe=>fe.id===h?{...fe,status:"uploading",progress:0,stage:"uploading",stageMsg:"Uploading file",error:null,result:null,analyzeStartAt:void 0,usedModel:i}:fe));const C=r.find(ce=>ce.id===h);if(!C)return;const J=d.current[h]||C.file;if(!J){s(ce=>ce.map(fe=>fe.id===h?{...fe,status:"error",error:"File not attached. Use Replace to reattach the file."}:fe));return}const L=`${h}-${Math.random().toString(36).slice(2,8)}`;try{if(_t().token){s(et=>et.map(tt=>tt.id===h?{...tt,jobId:L,usedModel:i}:tt)),xe(h,L);const{key:fe,upload_url:pe,headers:De}=await G1(J.name,J.type||"application/octet-stream"),Pe=new Headers(De||{});Pe.get("Content-Type")||Pe.set("Content-Type",J.type||"application/octet-stream");const $e=await fetch(pe,{method:"PUT",headers:Pe,body:J});if(!$e.ok)throw new Error(`Upload failed: ${$e.status}`);const Ie=await W1(fe,J.name,J.type||void 0);s(et=>et.map(tt=>tt.id===h?{...tt,status:"analyzing",progress:Math.max(tt.progress,100),stage:"processing",stageMsg:"Processing on server",analyzeStartAt:tt.analyzeStartAt||Date.now(),usedModel:tt.usedModel||i}:tt));const Ye=await U1(Ie.id,i,L);s(et=>et.map(tt=>tt.id===h?{...tt,status:"done",progress:100,stage:"done",stageMsg:"Completed",result:Ye,error:null,xhr:void 0,analyzeStartAt:void 0,usedModel:tt.usedModel||i}:tt));try{(X=(B=m.current)[h])==null||X.call(B),delete m.current[h]}catch{}try{S({id:h,name:J.name}),setTimeout(()=>S(null),6e3)}catch{}try{En({id:h,pageKey:e||"global",fileName:J.name,mime:J.type,analyzedAt:Date.now(),summary:Ye.summary||{},raw:Ye})}catch{}}else{const fe=new FormData;fe.append("file",J),fe.append("model",i),fe.append("job_id",L);const pe=new XMLHttpRequest;pe.timeout=10*60*1e3,s(De=>De.map(Pe=>Pe.id===h?{...Pe,xhr:pe,jobId:L,analyzeStartAt:void 0}:Pe)),xe(h,L),await new Promise((De,Pe)=>{pe.upload.onprogress=$e=>{if($e.lengthComputable){const Ie=Math.round($e.loaded/$e.total*100);s(Ye=>Ye.map(et=>et.id===h?{...et,progress:Ie}:et)),Ie>=100&&s(Ye=>Ye.map(et=>et.id===h?{...et,status:"analyzing",stage:"processing",stageMsg:"Processing on server",analyzeStartAt:et.analyzeStartAt||Date.now()}:et))}},pe.upload.onload=()=>{s($e=>$e.map(Ie=>Ie.id===h?{...Ie,status:"analyzing",progress:100,stage:"processing",stageMsg:"Processing on server",analyzeStartAt:Ie.analyzeStartAt||Date.now(),usedModel:Ie.usedModel||i}:Ie))},pe.onloadstart=()=>s($e=>$e.map(Ie=>Ie.id===h?{...Ie,status:"uploading"}:Ie)),pe.onreadystatechange=()=>{(pe.readyState===2||pe.readyState===3)&&s($e=>$e.map(Ie=>Ie.id===h?{...Ie,status:"analyzing",stage:"processing",stageMsg:"Processing on server",analyzeStartAt:Ie.analyzeStartAt||Date.now()}:Ie))},pe.ontimeout=()=>Pe(new Error("Request timed out. The server is taking too long to process the file.")),pe.onerror=()=>Pe(new Error("Network error")),pe.onabort=()=>Pe(new Error("canceled")),pe.onload=()=>{var $e,Ie;try{if(pe.status>=200&&pe.status<300){const Ye=JSON.parse(pe.responseText);s(et=>et.map(tt=>tt.id===h?{...tt,status:"done",progress:100,stage:"done",stageMsg:"Completed",result:Ye,error:null,xhr:void 0,analyzeStartAt:void 0,usedModel:tt.usedModel||i}:tt));try{(Ie=($e=m.current)[h])==null||Ie.call($e),delete m.current[h]}catch{}try{S({id:h,name:J.name}),setTimeout(()=>S(null),6e3)}catch{}try{En({id:h,pageKey:e||"global",fileName:J.name,mime:J.type,analyzedAt:Date.now(),summary:Ye.summary||{},raw:Ye})}catch{}De()}else Pe(new Error(`Server ${pe.status}: ${pe.responseText}`))}catch(Ye){Pe(new Error(Ye.message||"Invalid JSON response"))}},pe.open("POST",`${ma}/api/analyze`),pe.send(fe)})}}catch(ce){try{(ae=(oe=m.current)[h])==null||ae.call(oe),delete m.current[h]}catch{}s(fe=>fe.map(pe=>pe.id===h?{...pe,status:"error",error:ce.message||String(ce),xhr:void 0,analyzeStartAt:void 0}:pe))}}function be(h){var C,J;try{const L=r.find(B=>B.id===h);if(L!=null&&L.xhr)try{L.xhr.abort()}catch{}}catch{}try{(J=(C=m.current)[h])==null||J.call(C),delete m.current[h]}catch{}s(L=>L.map(B=>B.id===h?{...B,status:"canceled",stage:"canceled",stageMsg:"Canceled by user",xhr:void 0,analyzeStartAt:void 0}:B))}async function Re(){l(null);const h=r.filter(C=>C.status==="idle"||C.status==="error");for(const C of h)await Ce(C.id)}const[ye,it]=v.useState({});function je(h){it(C=>({...C,[h]:!C[h]}))}const He=r.filter(h=>h.status==="analyzing"||h.status==="done"||h.status==="error").map(h=>h.id),ut=He.length>0&&He.every(h=>!!ye[h]),Se=()=>{it(h=>{const C={...h},J=!ut;return He.forEach(L=>{C[L]=J}),C})};function Nt(h){return h==null?0:Math.min(100,Math.max(0,Math.round(h)))}function zn(h){if(!h||h<0)return"0:00";const C=Math.floor(h/1e3),J=Math.floor(C/60),L=C%60;return`${J}:${L.toString().padStart(2,"0")}`}return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`upload-card ${t?"drag-over":""}`,children:a.jsxs("div",{className:"upload-drop",onDragOver:h=>{h.preventDefault(),n(!0)},onDragLeave:()=>n(!1),onDrop:K,children:[a.jsxs("div",{className:"upload-header",children:[a.jsx("div",{className:"upload-header-text",children:a.jsx("h3",{children:"Upload Media for Analysis"})}),a.jsxs("div",{className:"upload-header-actions",children:[a.jsxs("div",{className:"btn-toggle",role:"group","aria-label":"Select analysis model",children:[a.jsx("button",{className:`btn ${i==="stub"?"selected":""}`,onClick:()=>c("stub"),title:"Hash baseline",children:"Hash Stub"}),a.jsx("button",{className:`btn ${i==="fusion_blend"?"selected":""}`,onClick:()=>c("fusion_blend"),title:"Deep Learning (blend)",children:"Fusion-Blend"}),a.jsx("button",{className:`btn ${i==="fusion_lr"?"selected":""}`,onClick:()=>c("fusion_lr"),title:A?"Deep Learning (logistic regression)":"LR weights not found",disabled:!A,children:"Fusion-LR"})]}),a.jsx("button",{className:"btn",onClick:re,children:"Upload More"}),a.jsx("button",{className:"btn ghost",onClick:Se,disabled:He.length===0,title:ut?"Hide details for all items":"Show details for all items",children:ut?"Hide All Details":"Show All Details"}),a.jsx("button",{className:"btn primary",onClick:Re,disabled:r.length===0,children:"Analyze All"})]})]}),r.length===0?a.jsxs("div",{className:"empty-hint",role:"button",tabIndex:0,onClick:re,onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),re())},"aria-label":"No files yet. Activate to select files to upload.",children:["No files yet. Use ",a.jsx("strong",{children:"Upload More"})," or drag & drop."]}):a.jsx("div",{className:"items-list",children:a.jsx("div",{className:"items-scroll",role:"list","aria-label":"Uploaded files list",children:r.map(h=>{var C,J,L,B;return a.jsxs("div",{className:"item-row",role:"listitem",children:[h.preview?a.jsx("img",{className:"thumb",src:h.preview,alt:h.file?h.file.name:h.name||"Uploaded file"}):a.jsx("div",{className:"thumb placeholder","aria-hidden":!0}),a.jsxs("div",{className:"item-main",children:[a.jsx("div",{className:"file-name",children:h.file?h.file.name:h.name||"File"}),(h.status==="uploading"||h.status==="analyzing")&&a.jsxs("div",{className:`status-line progress-p${Math.round(Nt(h.progress)/5)*5}`,"aria-live":"polite",children:[a.jsx("div",{className:"bar",role:"progressbar","aria-label":"Analysis progress",children:a.jsx("div",{className:"bar-fill"})}),a.jsxs("div",{className:"status-text",children:[a.jsx("span",{className:"muted",children:h.status==="uploading"?"Uploading":"Analyzing"}),a.jsx("span",{className:"sep",children:"·"}),a.jsxs("span",{className:"muted",children:[Nt(h.progress),"%"]}),h.stageMsg?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sep",children:"·"}),a.jsx("span",{className:"muted",children:h.stageMsg})]}):null,h.analyzeStartAt?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sep",children:"·"}),a.jsx("span",{className:"muted",children:zn(Date.now()-h.analyzeStartAt)})]}):null]})]}),a.jsxs("div",{className:"file-actions with-status",children:[a.jsx("button",{className:"btn",onClick:()=>_(h.id),disabled:h.status==="uploading"||h.status==="analyzing",children:"Replace"}),a.jsx("button",{className:"btn ghost",onClick:()=>O(h.id),disabled:h.status==="uploading"||h.status==="analyzing",children:"Remove"}),h.status==="done"?a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"btn",onClick:()=>Ce(h.id),children:"Re-run"}),a.jsx("button",{className:"btn primary",onClick:()=>{try{sessionStorage.setItem("bl_reports_focus",JSON.stringify({id:h.id,pageKey:e||"global",ts:Date.now()}))}catch{}Y("reports")},children:"View Report"})]}):a.jsx("button",{className:"btn primary",onClick:()=>Ce(h.id),disabled:h.status==="uploading"||h.status==="analyzing"||!(d.current[h.id]||h.file),title:d.current[h.id]||h.file?void 0:"File not attached. Click Replace to reattach.",children:h.status==="uploading"?`Uploading ${h.progress}%`:h.status==="analyzing"?"Analyzing…":"Analyze"}),(h.status==="uploading"||h.status==="analyzing")&&a.jsx("button",{className:"btn ghost",onClick:()=>be(h.id),title:"Cancel this analysis",children:"Cancel"}),(h.status==="analyzing"||h.status==="done"||h.status==="error")&&a.jsx("button",{className:"btn ghost details-toggle",onClick:()=>je(h.id),"aria-controls":`steps-${h.id}`,children:ye[h.id]?"Hide Details":"Show Details"}),(h.status==="analyzing"||h.status==="done")&&a.jsxs("span",{className:"status-badge push-right","aria-label":"Upload complete and model used",children:[a.jsx("span",{className:"dot"})," Upload Complete",h.usedModel?(()=>{const X=h.usedModel==="stub"?"hash-stub":h.usedModel==="fusion_lr"?"fusion-lr":"fusion-blend";return a.jsx("span",{className:`model-badge ${X} with-gap`,children:X})})():null]})]}),ye[h.id]&&a.jsx("div",{className:"progress-details",id:`steps-${h.id}`,children:a.jsxs("div",{className:"progress-steps compact",children:[a.jsxs("div",{className:`step ${h.status==="analyzing"||h.status==="done"?"active":""} ${h.status==="done"?"done":""}`,children:[a.jsx("span",{className:`icon ${h.status==="done"?"check":"pending"}`,"aria-hidden":"true"}),a.jsxs("div",{className:"step-text",children:[a.jsx("div",{className:"title",children:"Frame Analysis Running"}),a.jsx("div",{className:"desc",children:"Extracting and scanning frames"})]})]}),a.jsx("div",{className:`divider ${h.status==="done"?"active":""}`}),a.jsxs("div",{className:`step ${h.status==="done"?"done":""}`,children:[a.jsx("span",{className:`icon ${h.status==="done"?"check":"pending"}`,"aria-hidden":"true"}),a.jsxs("div",{className:"step-text",children:[a.jsx("div",{className:"title",children:"Forensics Check Passed"}),a.jsx("div",{className:"desc",children:"Metadata and A/V consistency verified"})]})]}),a.jsx("div",{className:`divider ${h.status==="done"?"active":""}`}),a.jsxs("div",{className:`step ${h.status==="done"?(((C=h.result)==null?void 0:C.summary.deepfake_likelihood)??0)>.5?"alert":"done":""}`,children:[a.jsx("span",{className:`icon ${(((J=h.result)==null?void 0:J.summary.deepfake_likelihood)??0)>.5?"alert":h.status==="done"?"check":"pending"}`,"aria-hidden":"true"}),a.jsxs("div",{className:"step-text",children:[a.jsx("div",{className:"title",children:(((L=h.result)==null?void 0:L.summary.deepfake_likelihood)??0)>.5?"Manipulation Detected":"No Manipulation Detected"}),a.jsx("div",{className:"desc",children:(((B=h.result)==null?void 0:B.summary.deepfake_likelihood)??0)>.5?"Suspicious regions or techniques identified":"No suspicious regions identified"})]})]}),a.jsx("div",{className:`divider ${h.status==="done"?"active":""}`}),a.jsxs("div",{className:`step ${h.status==="done"?"done":""}`,children:[a.jsx("span",{className:`icon ${h.status==="done"?"check":"pending"}`,"aria-hidden":"true"}),a.jsxs("div",{className:"step-text",children:[a.jsx("div",{className:"title",children:"Report Ready"}),a.jsx("div",{className:"desc",children:"Download detailed forensic analysis report"})]})]})]})}),h.error&&a.jsx("div",{className:"error-box",children:h.error})]})]},h.id)})})}),o&&a.jsx("div",{className:"error-box",children:o}),a.jsx("label",{htmlFor:"file-input",className:"label-hidden",children:"Upload file(s)"}),a.jsx("input",{id:"file-input",className:"upload-hidden",ref:u,type:"file",accept:Wf,multiple:!0,onChange:h=>Be(h.target.files)}),a.jsx("label",{htmlFor:"file-replace",className:"label-hidden",children:"Replace file"}),a.jsx("input",{id:"file-replace",className:"upload-hidden",ref:p,type:"file",accept:Wf,onChange:h=>Be(h.target.files)})]})}),N?a.jsxs("div",{className:"toast",role:"status","aria-live":"polite",children:[a.jsxs("span",{children:["Removed ",((F=N.item.file)==null?void 0:F.name)||N.item.name||"file","."]}),a.jsx("button",{className:"btn link",onClick:se,children:"Undo"})]}):null,w?a.jsxs("div",{className:"toast",role:"status","aria-live":"polite",children:[a.jsxs("span",{children:["Analysis complete for ",w.name,"."]}),a.jsx("button",{className:"btn link",onClick:()=>{try{sessionStorage.setItem("bl_reports_focus",JSON.stringify({id:w.id,pageKey:e||"global",ts:Date.now()}))}catch{}S(null),Y("reports")},children:"View Report"})]}):null]})},lN=({label:e,onNavigate:t,currentPage:n})=>a.jsx("div",{className:"file-analysis-container",children:a.jsx("div",{className:"file-analysis-inner",children:a.jsx("div",{className:"file-analysis-content",children:a.jsx(oN,{pageKey:n})})})}),nt="http://localhost:8000",iN=({values:e,width:t=260,height:n=64,color:r="var(--accent)"})=>{if(!e.length)return a.jsx("div",{className:"sparkline-space"});const s=t,o=n,l=Math.max(1e-4,Math.max(...e)),i=e.map((c,u)=>{const p=u/Math.max(1,e.length-1)*(s-4)+2,f=o-4-c/l*(o-8);return`${p.toFixed(1)},${f.toFixed(1)}`}).join(" ");return a.jsx("svg",{className:"sparkline",width:s,height:o,viewBox:`0 0 ${s} ${o}`,"aria-label":"Trend sparkline",children:a.jsx("polyline",{fill:"none",stroke:r,strokeWidth:"2",points:i})})},aN=({bins:e,max:t})=>{const n=t??Math.max(1,...e);return a.jsxs("div",{className:"bar-chart",role:"img","aria-label":"Likelihood distribution",children:[e.map((r,s)=>{const o=Math.max(0,Math.min(100,Math.round(r/n*100))),l="h"+Math.round(o/5)*5;return a.jsxs("div",{className:"bar-item",title:`${s*10}-${(s+1)*10}%: ${r}`,children:[a.jsx("div",{className:"bar-col",children:a.jsx("div",{className:`bar ${l}`})}),a.jsx("div",{className:"bar-x",children:s*10})]},s)}),a.jsx("div",{className:"bar-x end",children:"100"})]})},cN=({data:e,size:t=160})=>{const n=e.reduce((u,p)=>u+p.value,0)||1,r=t/2-10,s=t/2,o=t/2,l=2*Math.PI*r;let i=0;const c=["#3D5A80","#10B981","#4F46E5","#8B5CF6","#F43F5E","#F59E0B","#64748B","#0EA5E9"];return a.jsxs("div",{className:"donut-wrap",children:[a.jsxs("svg",{className:"donut",width:t,height:t,viewBox:`0 0 ${t} ${t}`,role:"img","aria-label":"Models used",children:[a.jsx("circle",{cx:s,cy:o,r,fill:"none",stroke:"#e5e7eb",strokeWidth:"14"}),e.map((u,p)=>{const f=u.value/n*l,d=`${f} ${l-f}`,m=l-i,x=c[p%c.length];return i+=f,a.jsx("circle",{cx:s,cy:o,r,fill:"none",stroke:x,strokeWidth:"14",strokeDasharray:d,strokeDashoffset:m},u.label)})]}),a.jsx("div",{className:"donut-legend",children:e.map((u,p)=>a.jsxs("div",{className:"legend-row",children:[a.jsx("span",{className:`legend-dot color-${p%8}`}),u.label,a.jsx("span",{className:"legend-val",children:u.value})]},u.label))})]})},uN=({filePage:e})=>{const[t,n]=v.useState(e||"file1"),[r,s]=v.useState([]),[o,l]=v.useState({key:"analyzedAt",dir:"desc"}),[i,c]=v.useState(null),[u,p]=v.useState([]),[f,d]=v.useState(!1),[m,x]=v.useState(null),[b,N]=v.useState(null),[y,g]=v.useState(null),w=v.useRef(null),S=v.useRef(null),P=v.useRef(null),[A,$]=v.useState(0),[I,Ee]=v.useState(null),[V,xe]=v.useState(void 0),[de,ke]=v.useState(!1),[Be,K]=v.useState(null),[re,Y]=v.useState(null),[_,O]=v.useState(null),[se,Ce]=v.useState(!1),be=v.useRef(null),[Re,ye]=v.useState(!0),[it,je]=v.useState(null),[He,ut]=v.useState(null),[Se,Nt]=v.useState(!1),[zn,F]=v.useState(10),[h,C]=v.useState(!1),[J,L]=v.useState(null),[B,X]=v.useState(null),[oe,ae]=v.useState(null),[ce,fe]=v.useState(!1),pe=v.useRef(null),[De,Pe]=v.useState(!0),[$e,Ie]=v.useState(null),[Ye,et]=v.useState(null),[tt,Ig]=v.useState(!1),[Lu,jg]=v.useState(10),[_o,Ro]=v.useState(!1),[Fu,Mo]=v.useState(null),[$u,To]=v.useState(null),[Bu,Rr]=v.useState(null),[Pg,Oo]=v.useState(!1),Ns=v.useRef(null),[Lo,_g]=v.useState(!0),[ki,xn]=v.useState(null),[Fo,Ei]=v.useState(null),[zu,Rg]=v.useState(!1),[Uu,Mg]=v.useState(10);v.useState(void 0);const Mr=We.useCallback((k,q=!1)=>{const W=w.current;if(!W)return;const ne=Math.max(0,k);try{if(Number.isFinite(W.duration)&&W.duration>0)W.currentTime=Math.min(ne,W.duration-.05);else{const he=()=>{W.currentTime=Math.min(ne,Math.max(0,(W.duration||ne)-.05)),q?W.play():W.pause(),W.removeEventListener("loadedmetadata",he)};W.addEventListener("loadedmetadata",he)}q?W.play():W.pause()}catch{}},[]);v.useEffect(()=>{const k=t?qt(t):dn();s(k),p([])},[t]),v.useEffect(()=>{if(!r.length)return;let k=null;try{const W=sessionStorage.getItem("bl_reports_focus");W&&(k=JSON.parse(W))}catch{}if(!k||!k.id||k.pageKey&&e&&k.pageKey!==e)return;const q=r.find(W=>W.id===k.id);q&&(c(q),setTimeout(()=>{try{let W=null;try{const ne=window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape:he=>he.replace(/"/g,'\\"');W=document.querySelector(`.analysis-table .tbody .tr[data-id="${ne(q.id)}"]`)}catch{}W||(W=Array.from(document.querySelectorAll(".analysis-table .tbody .tr")).find(he=>he.dataset&&he.dataset.id===q.id)||null),W&&(W.scrollIntoView({behavior:"smooth",block:"center"}),W.classList.add("flash"),window.setTimeout(()=>W&&W.classList.remove("flash"),1500))}catch{}try{sessionStorage.removeItem("bl_reports_focus")}catch{}},50))},[r,e]),v.useEffect(()=>{if(!i)return;const k=W=>{W.key==="Escape"&&c(null)},q=W=>{const ne=P.current;if(!ne||!ne.contains(W.target))return;const he=ne.querySelector(".analysis-detail");he&&he.contains(W.target)||W.target.closest(".analysis-table .tr")||c(null)};return document.addEventListener("keydown",k),document.addEventListener("mousedown",q),()=>{document.removeEventListener("keydown",k),document.removeEventListener("mousedown",q)}},[i]),v.useEffect(()=>{$(0),Ee(null),je(null),Ie(null),ut(null),et(null),Ei(null),xn(null)},[i]),v.useEffect(()=>{let k=!1;return(async()=>{var q;try{const W=(q=i==null?void 0:i.raw)==null?void 0:q.asset,ne=W==null?void 0:W.stored_path,he=W==null?void 0:W.asset_id;if(!i){k||xe(void 0);return}let ge=null;if(he!=null){const ve=Number(he);Number.isFinite(ve)&&String(ve)===String(he).trim()&&(ge=ve)}if(ge!==null){const ve=await V1(ge),Ae=(()=>{try{if(!ve||/^https?:\/\//i.test(ve))return ve;const z=String(nt).replace(/\/$/,"");return ve.startsWith("/")?`${z}${ve}`:`${z}/${ve}`}catch{return ve}})();k||xe(Ae);return}if(ne){const ve=`${String(nt).replace(/\/$/,"")}/assets/${String(ne).replace(/^\/+/,"")}`;k||xe(ve);return}k||xe(void 0)}catch{k||xe(void 0)}})(),()=>{k=!0}},[i==null?void 0:i.id,i==null?void 0:i.analyzedAt]);const Gu=r.length>0&&u.length===r.length;function Tg(k){p(q=>q.includes(k)?q.filter(W=>W!==k):[...q,k])}function Og(k,q,W){k.stopPropagation();const ne=u.includes(q);if(k.shiftKey&&S.current!==null&&!ne){const ge=Math.min(S.current,W),ve=Math.max(S.current,W),Ae=r.slice(ge,ve+1).map(z=>z.id);p(z=>Array.from(new Set([...z,...Ae])))}else Tg(q);S.current=W}function Lg(){p(Gu?[]:r.map(k=>k.id))}function Fg(){u.length&&d(!0)}function Wu(k){if(!k.length)return;const q=new Set(k),W=r.filter(ge=>q.has(ge.id));try{const ge=e?`bl_uploadItems_${e}_v3`:"bl_uploadItems__global_v3",ve=localStorage.getItem(ge);if(ve)try{const Ae=JSON.parse(ve);if(Array.isArray(Ae)){const z=Ae.filter(ln=>!q.has(ln.id));localStorage.setItem(ge,JSON.stringify(z))}}catch{}k.forEach(Ae=>{const z=e?`${e}::${Ae}`:Ae;try{Ag(z)}catch{}})}catch{}Dg(k,e);try{const ge=new CustomEvent("bl:uploads-removed",{detail:{pageKey:e||"global",ids:k}});window.dispatchEvent(ge)}catch{}const ne=e?qt(e):dn();ne.sort((ge,ve)=>ve.analyzedAt-ge.analyzedAt),s(ne),p(ge=>ge.filter(ve=>!q.has(ve))),i&&q.has(i.id)&&c(null),d(!1),x(null),y&&window.clearTimeout(y),N(W);const he=window.setTimeout(()=>{N(null),g(null)},7e3);g(he)}function Ci(){d(!1),x(null)}function $g(){if(!b)return;b.forEach(q=>En(q));const k=e?qt(e):dn();k.sort((q,W)=>W.analyzedAt-q.analyzedAt),s(k),N(null),y&&(window.clearTimeout(y),g(null))}const Vu=f||!!m;v.useEffect(()=>{if(!Vu)return;const k=q=>{q.key==="Escape"?(q.preventDefault(),Ci()):q.key==="Enter"&&(q.preventDefault(),Wu(m||u))};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[Vu,m,u]);function Bg(k,q){q&&q.stopPropagation(),x([k.id])}const Un=We.useMemo(()=>{if(!r.length)return null;const k=r.length,q=r.reduce((Ae,z)=>Ae+(z.summary.deepfake_likelihood||0),0)/k,W=r.reduce((Ae,z)=>Math.max(Ae,z.summary.deepfake_likelihood||0),0),ne=r.filter(Ae=>(Ae.summary.deepfake_likelihood||0)>.5).length,he=new Array(10).fill(0);r.forEach(Ae=>{const z=Math.max(0,Math.min(.9999,Ae.summary.deepfake_likelihood||0)),ln=Math.floor(z*10);he[ln]+=1});const ge={};r.forEach(Ae=>{const z=Ae.summary.deepfake_method||"unknown";ge[z]=(ge[z]||0)+1});const ve=[...r].sort((Ae,z)=>Ae.analyzedAt-z.analyzedAt).map(Ae=>Ae.summary.deepfake_likelihood||0);return{total:k,avgLikelihood:q,maxLikelihood:W,suspicious:ne,hist:he,modelMap:ge,series:ve}},[r]);v.useEffect(()=>{r.length&&s(k=>{const q=[...k],W=o.dir==="asc"?1:-1;return q.sort((ne,he)=>{function ge(Ae,z){return Ae===z?0:Ae<z?-1:1}let ve=0;switch(o.key){case"file":ve=ne.fileName.localeCompare(he.fileName);break;case"duration":ve=ge(ne.summary.duration_s||0,he.summary.duration_s||0);break;case"likelihood":ve=ge(ne.summary.deepfake_likelihood||0,he.summary.deepfake_likelihood||0);break;case"label":ve=(ne.summary.deepfake_label||"").localeCompare(he.summary.deepfake_label||"");break;case"analyzedAt":ve=ge(ne.analyzedAt,he.analyzedAt);break;default:ve=0}return ve*W}),q})},[o.key,o.dir]),v.useEffect(()=>{r.length&&l(k=>({...k}))},[r.length]);function wn(k){l(q=>q.key===k?{key:k,dir:q.dir==="asc"?"desc":"asc"}:{key:k,dir:k==="analyzedAt"?"desc":"asc"})}const Tr=We.useMemo(()=>{var Ae;if(He&&He.length)return He;if(!i)return[];const k=i,q=z=>{var te,Je;if(!z)return{uris:null,frames:null};const ln=Array.isArray(z.ela_uris)?z.ela_uris:null,pr=Array.isArray(z.ela_frames)?z.ela_frames:null,bn=Array.isArray((te=z.ela)==null?void 0:te.uris)?z.ela.uris:null,Fr=Array.isArray((Je=z.ela)==null?void 0:Je.frames)?z.ela.frames:null;return{uris:ln||bn,frames:pr||Fr}},W=q(k==null?void 0:k.summary),ne=q((Ae=k==null?void 0:k.raw)==null?void 0:Ae.summary);let he=[];W.frames&&W.frames.length?he=W.frames:W.uris&&W.uris.length?he=W.uris.map(z=>({uri:z})):ne.frames&&ne.frames.length?he=ne.frames:ne.uris&&ne.uris.length&&(he=ne.uris.map(z=>({uri:z})));const ge=new Set;return(he||[]).filter(z=>!!z&&typeof z.uri=="string"&&z.uri.length>0).filter(z=>ge.has(z.uri)?!1:(ge.add(z.uri),!0))},[i==null?void 0:i.id,i==null?void 0:i.analyzedAt,He]),Or=We.useMemo(()=>{var Ae;if(Ye&&Ye.length)return Ye;if(!i)return[];const k=i,q=z=>{var te,Je;if(!z)return{uris:null,frames:null};const ln=Array.isArray(z.lbp_uris)?z.lbp_uris:null,pr=Array.isArray(z.lbp_frames)?z.lbp_frames:null,bn=Array.isArray((te=z.lbp)==null?void 0:te.uris)?z.lbp.uris:null,Fr=Array.isArray((Je=z.lbp)==null?void 0:Je.frames)?z.lbp.frames:null;return{uris:ln||bn,frames:pr||Fr}},W=q(k==null?void 0:k.summary),ne=q((Ae=k==null?void 0:k.raw)==null?void 0:Ae.summary);let he=[];W.frames&&W.frames.length?he=W.frames:W.uris&&W.uris.length?he=W.uris.map(z=>({uri:z})):ne.frames&&ne.frames.length?he=ne.frames:ne.uris&&ne.uris.length&&(he=ne.uris.map(z=>({uri:z})));const ge=new Set;return(he||[]).filter(z=>!!z&&typeof z.uri=="string"&&z.uri.length>0).filter(z=>ge.has(z.uri)?!1:(ge.add(z.uri),!0))},[i==null?void 0:i.id,i==null?void 0:i.analyzedAt,Ye]),Lr=We.useMemo(()=>{var Ae;if(Fo&&Fo.length)return Fo;if(!i)return[];const k=i,q=z=>{var bn;if(!z)return{frames:null};const ln=Array.isArray(z.noise_frames)?z.noise_frames:null,pr=Array.isArray((bn=z.noise)==null?void 0:bn.frames)?z.noise.frames:null;return{frames:ln||pr}},W=q(k==null?void 0:k.summary),ne=q((Ae=k==null?void 0:k.raw)==null?void 0:Ae.summary);let he=[];W.frames&&W.frames.length?he=W.frames:ne.frames&&ne.frames.length&&(he=ne.frames);const ge=new Set;return(he||[]).filter(z=>!!z&&typeof z.uri=="string"&&z.uri.length>0).filter(z=>ge.has(z.uri)?!1:(ge.add(z.uri),!0))},[i==null?void 0:i.id,i==null?void 0:i.analyzedAt,Fo]);return v.useEffect(()=>{if(!Re||!Tr.length||!Tr.filter(ne=>typeof ne.time_s=="number"&&Number.isFinite(ne.time_s)).length)return;let q=0,W=1/0;Tr.forEach((ne,he)=>{const ge=ne.time_s;if(typeof ge=="number"&&Number.isFinite(ge)){const ve=Math.abs(ge-(A||0));ve<W&&(W=ve,q=he)}}),it!==q&&je(q)},[A,Re,Tr]),v.useEffect(()=>{if(!De||!Or.length||!Or.filter(ne=>typeof ne.time_s=="number"&&Number.isFinite(ne.time_s)).length)return;let q=0,W=1/0;Or.forEach((ne,he)=>{const ge=ne.time_s;if(typeof ge=="number"&&Number.isFinite(ge)){const ve=Math.abs(ge-(A||0));ve<W&&(W=ve,q=he)}}),$e!==q&&Ie(q)},[A,De,Or]),v.useEffect(()=>{if(!Lo||!Lr.length||!Lr.filter(ne=>typeof ne.time_s=="number"&&Number.isFinite(ne.time_s)).length)return;let q=0,W=1/0;Lr.forEach((ne,he)=>{const ge=ne.time_s;if(typeof ge=="number"&&Number.isFinite(ge)){const ve=Math.abs(ge-(A||0));ve<W&&(W=ve,q=he)}}),ki!==q&&xn(q)},[A,Lo,Lr]),a.jsxs("div",{className:"reports-page",children:[a.jsxs("div",{className:"reports-inner",children:[a.jsxs("div",{className:"reports-header",children:[a.jsx("div",{children:a.jsx("h2",{children:"Reports"})}),a.jsxs("div",{className:"reports-actions",children:[a.jsx("button",{className:"btn",onClick:()=>{try{const k=t?qt(t):dn();if(!k.length)return;const q=Object.keys(k[0]).filter(Ae=>Ae!=="raw"),W=k.map(Ae=>{const z={...Ae};return z.summary=JSON.stringify(z.summary||{}),z.analyzedAt=new Date(z.analyzedAt).toISOString(),delete z.raw,z}),ne=[q.join(",")].concat(W.map(Ae=>q.map(z=>'"'+String(Ae[z]||"").replace(/"/g,'""')+'"').join(","))).join(`
`),he=new Blob([ne],{type:"text/csv"}),ge=URL.createObjectURL(he),ve=document.createElement("a");ve.href=ge,ve.download=`${t||"analyses"}_export.csv`,document.body.appendChild(ve),ve.click(),ve.remove(),URL.revokeObjectURL(ge)}catch(k){console.error(k)}},children:"Export CSV"}),a.jsx("button",{className:"btn ghost",onClick:()=>{try{const k=t?qt(t):dn();if(!k.length)return;const q=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),W=URL.createObjectURL(q),ne=document.createElement("a");ne.href=W,ne.download=`${t||"analyses"}_export.json`,document.body.appendChild(ne),ne.click(),ne.remove(),URL.revokeObjectURL(W)}catch(k){console.error(k)}},children:"Export JSON"})]})]}),Un&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"report-stats",children:[a.jsxs("div",{className:"stat",children:[a.jsx("div",{className:"label",children:"Analyses"}),a.jsx("div",{className:"value",children:Un.total})]}),a.jsxs("div",{className:"stat",children:[a.jsx("div",{className:"label",children:"Avg Likelihood"}),a.jsxs("div",{className:"value",children:[(Un.avgLikelihood*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"stat",children:[a.jsx("div",{className:"label",children:"Max Likelihood"}),a.jsxs("div",{className:"value",children:[(Un.maxLikelihood*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"stat",children:[a.jsx("div",{className:"label",children:"Flagged (>50%)"}),a.jsx("div",{className:"value",children:Un.suspicious})]})]}),a.jsxs("div",{className:"viz-grid",children:[a.jsxs("div",{className:"viz-card",children:[a.jsx("div",{className:"viz-title",children:"Likelihood Trend"}),a.jsx(iN,{values:Un.series})]}),a.jsxs("div",{className:"viz-card",children:[a.jsx("div",{className:"viz-title",children:"Likelihood Distribution"}),a.jsx(aN,{bins:Un.hist})]}),a.jsxs("div",{className:"viz-card",children:[a.jsx("div",{className:"viz-title",children:"Models Used"}),a.jsx(cN,{data:Object.entries(Un.modelMap).map(([k,q])=>({label:k,value:q}))})]})]})]}),!r.length&&a.jsx("div",{className:"no-analyses",children:"No analyses yet for this page. Run an analysis to populate this report."}),r.length>0&&a.jsxs("div",{className:"analysis-table-wrapper",ref:P,children:[u.length>0&&a.jsxs("div",{className:"selection-bar floating",children:[a.jsxs("div",{className:"sel-count",children:[u.length," selected"]}),a.jsx("button",{className:"btn danger",onClick:Fg,children:"Delete Selected"}),a.jsx("button",{className:"btn ghost",onClick:()=>p([]),children:"Clear"})]}),a.jsxs("div",{className:"analysis-table",role:"table","aria-label":"Analysis summaries",children:[a.jsx("div",{className:"thead",role:"rowgroup",children:a.jsxs("div",{className:"tr",role:"row",children:[a.jsx("div",{className:"th sel",role:"columnheader",children:a.jsx("input",{type:"checkbox","aria-label":"Select all",checked:Gu,onChange:Lg})}),a.jsxs("div",{className:`th sortable ${o.key==="file"?"sorted "+o.dir:""}`,role:"columnheader",...o.key==="file"?{"aria-sort":o.dir==="asc"?"ascending":"descending"}:{},onClick:()=>wn("file"),tabIndex:0,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),wn("file"))},children:["File ",a.jsx("span",{className:"sort-indicator","aria-hidden":"true",children:o.key==="file"?o.dir==="asc"?"▲":"▼":"↕"})]}),a.jsxs("div",{className:`th sortable ${o.key==="duration"?"sorted "+o.dir:""}`,role:"columnheader",...o.key==="duration"?{"aria-sort":o.dir==="asc"?"ascending":"descending"}:{},onClick:()=>wn("duration"),tabIndex:0,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),wn("duration"))},children:["Duration ",a.jsx("span",{className:"sort-indicator","aria-hidden":"true",children:o.key==="duration"?o.dir==="asc"?"▲":"▼":"↕"})]}),a.jsxs("div",{className:`th sortable ${o.key==="likelihood"?"sorted "+o.dir:""}`,role:"columnheader",...o.key==="likelihood"?{"aria-sort":o.dir==="asc"?"ascending":"descending"}:{},onClick:()=>wn("likelihood"),tabIndex:0,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),wn("likelihood"))},children:["Deepfake Likelihood ",a.jsx("span",{className:"sort-indicator","aria-hidden":"true",children:o.key==="likelihood"?o.dir==="asc"?"▲":"▼":"↕"})]}),a.jsxs("div",{className:`th sortable ${o.key==="label"?"sorted "+o.dir:""}`,role:"columnheader",...o.key==="label"?{"aria-sort":o.dir==="asc"?"ascending":"descending"}:{},onClick:()=>wn("label"),tabIndex:0,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),wn("label"))},children:["Label ",a.jsx("span",{className:"sort-indicator","aria-hidden":"true",children:o.key==="label"?o.dir==="asc"?"▲":"▼":"↕"})]}),a.jsxs("div",{className:`th sortable ${o.key==="analyzedAt"?"sorted "+o.dir:""}`,role:"columnheader",...o.key==="analyzedAt"?{"aria-sort":o.dir==="asc"?"ascending":"descending"}:{},onClick:()=>wn("analyzedAt"),tabIndex:0,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),wn("analyzedAt"))},children:["Analyzed ",a.jsx("span",{className:"sort-indicator","aria-hidden":"true",children:o.key==="analyzedAt"?o.dir==="asc"?"▲":"▼":"↕"})]})]})}),a.jsx("div",{className:"tbody",role:"rowgroup",children:r.map((k,q)=>{var Fr;const W=k.summary.deepfake_likelihood||0,ne=Math.max(0,Math.min(100,Math.round(W*100))),he=ne.toFixed(1)+"%",ge=W>.5,Ae="p"+Math.round(ne/5)*5,z=(i==null?void 0:i.id)===k.id&&i.analyzedAt===k.analyzedAt,ln=u.includes(k.id),pr=z||ln,bn=(()=>{const te=(k.summary.deepfake_method||"").toLowerCase();return te?te.includes("fusion-lr")?"fusion-lr":te.includes("fusion-blend")?"fusion-blend":te.includes("stub")||te.includes("hash")?"hash-stub":null:null})();return a.jsxs(We.Fragment,{children:[a.jsxs("div",{className:`tr ${ge?"flagged":""} ${z?"active":""} ${pr?"has-action":""}`,role:"row","data-id":k.id,onClick:te=>{const Je=te.target;Je.closest(".sel input")||Je.closest(".row-delete")||c(z?null:k)},children:[a.jsx("div",{className:"td sel",role:"cell",children:a.jsx("input",{type:"checkbox","aria-label":`Select ${k.fileName}`,checked:u.includes(k.id),readOnly:!0,onClick:te=>Og(te,k.id,q)})}),a.jsx("div",{className:"td filename",role:"cell",title:k.fileName,children:k.fileName}),a.jsx("div",{className:"td",role:"cell",children:k.summary.duration_s?k.summary.duration_s.toFixed(2)+"s":"—"}),a.jsxs("div",{className:"td likelihood-cell",role:"cell",children:[a.jsxs("div",{className:`likelihood-meter ${ge?"alert":""} ${Ae}`,children:[" ",a.jsx("div",{className:"fill"})," "]}),a.jsx("span",{className:`pct-text ${ge?"alert":""}`,children:he})]}),a.jsx("div",{className:"td",role:"cell",children:k.summary.deepfake_label||"—"}),a.jsxs("div",{className:"td analyzed-cell",role:"cell",children:[bn?a.jsx("span",{className:`model-badge ${bn}`,children:bn}):null,a.jsx("span",{className:"analyzed-text",children:new Date(k.analyzedAt).toLocaleString()}),a.jsx("button",{className:"row-delete","aria-label":`Delete ${k.fileName}`,title:"Delete",onClick:te=>Bg(k,te),children:"×"})]})]}),z&&i&&a.jsx("div",{className:"tr detail-row",role:"row",children:a.jsx("div",{className:"td detail-cell",role:"cell",children:a.jsxs("div",{className:"analysis-detail embedded",role:"region","aria-label":"Detailed analysis",children:[a.jsxs("div",{className:"detail-head",children:[a.jsx("h3",{className:"detail-title",children:i.fileName}),a.jsx("button",{className:"detail-close",onClick:()=>c(null),"aria-label":"Close details",children:"×"})]}),a.jsxs("div",{className:"detail-grid",children:[a.jsxs("div",{children:[a.jsx("span",{className:"k",children:"Resolution"}),a.jsx("span",{className:"v",children:i.summary.width&&i.summary.height?`${i.summary.width}x${i.summary.height}`:"—"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"k",children:"FPS"}),a.jsx("span",{className:"v",children:i.summary.fps??"—"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"k",children:"Format Valid"}),a.jsx("span",{className:"v",children:String(i.summary.format_valid)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"k",children:"Decode Valid"}),a.jsx("span",{className:"v",children:String(i.summary.decode_valid)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"k",children:"Deepfake %"}),a.jsxs("span",{className:"v",children:[((i.summary.deepfake_likelihood||0)*100).toFixed(2),"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"k",children:"Label"}),a.jsx("span",{className:"v",children:i.summary.deepfake_label||"—"})]})]}),(Fr=i.summary)!=null&&Fr.overlay_uri?a.jsxs("details",{className:"overlay-block",open:!0,children:[a.jsx("summary",{children:"Overlay"}),a.jsx("div",{className:"overlay-preview",children:a.jsx("img",{src:`${String(nt).replace(/\/$/,"")}/static/${String(i.summary.overlay_uri||"").replace(/^\/+/,"")}`,alt:"Model overlay"})})]}):null,(()=>{var cn,j,ie,we,ee,U,M;const te=(cn=i==null?void 0:i.raw)==null?void 0:cn.asset,Je=te==null?void 0:te.stored_path,Ke=(ie=(j=i==null?void 0:i.raw)==null?void 0:j.summary)==null?void 0:ie.frame_scores,kt=(ee=(we=i==null?void 0:i.raw)==null?void 0:we.summary)==null?void 0:ee.frame_fps;if(!(!!V||Ke&&Ke.length>0))return null;const an=56,Sn=i.summary.duration_s??(typeof kt=="number"&&((M=(U=i==null?void 0:i.raw)==null?void 0:U.summary)!=null&&M.frame_total)?i.raw.summary.frame_total/Math.max(1,kt):void 0),Ve=I&&I>0?I:Sn;return a.jsxs("details",{className:"overlay-block",open:!0,children:[a.jsx("summary",{children:"Source video & Frame likelihoods"}),a.jsxs("div",{className:"overlay-content",children:[V&&a.jsx("div",{className:"overlay-preview resizable",children:a.jsx("video",{ref:w,src:V,controls:!0,preload:"metadata",playsInline:!0,className:"video-fluid",onLoadedMetadata:D=>{try{const Z=D.currentTarget.duration;Number.isFinite(Z)&&Z>0&&Ee(Z)}catch{}},onTimeUpdate:D=>{try{$(D.currentTarget.currentTime||0)}catch{}}},(Je||"")+":"+((i==null?void 0:i.id)||""))}),V&&typeof Ve=="number"&&Ve>0&&a.jsx("div",{className:"frame-scrubber",role:"region","aria-label":"Frame scrubber",children:(()=>{var H,Ne,ze;const D=(Ne=(H=i==null?void 0:i.raw)==null?void 0:H.summary)==null?void 0:Ne.frame_fps,Z=(ze=i==null?void 0:i.summary)==null?void 0:ze.fps,E=typeof D=="number"&&D>0?D:typeof Z=="number"&&Z>0?Z:void 0,R=E?1/E:.01;let T=Array.isArray(Ke)&&Ke.length>0?Ke.map(me=>{const Me=me.time_s!=null?me.time_s:E?me.index/Math.max(1,E):void 0,Oe=Me!=null?Math.max(0,Math.min(100,Math.round(Me/Ve*100))):0,ft=Math.max(0,Math.min(100,Math.round(me.prob*100))),_e=me.prob>=.5,qe=`ft-p${Oe}`;return{t:Me,leftPct:Oe,pctClass:qe,probPct:ft,alert:_e,idx:me.index}}):[];if(!T.length){const me=[],Me=(_e,qe,ks)=>{typeof qe=="number"&&Number.isFinite(qe)&&qe>=0&&qe<=Ve&&me.push({t:qe,source:_e,idx:ks})};Tr.forEach((_e,qe)=>Me("ela",_e.time_s!=null?_e.time_s:E&&typeof _e.index=="number"?_e.index/Math.max(1,E):void 0,_e.index??qe)),Or.forEach((_e,qe)=>Me("lbp",_e.time_s!=null?_e.time_s:E&&typeof _e.index=="number"?_e.index/Math.max(1,E):void 0,_e.index??qe)),Lr.forEach((_e,qe)=>Me("noise",_e.time_s!=null?_e.time_s:E&&typeof _e.index=="number"?_e.index/Math.max(1,E):void 0,_e.index??qe));const Oe=new Set;T=me.sort((_e,qe)=>_e.t-qe.t).filter(({t:_e})=>{const qe=Math.round(_e*100).toString();return Oe.has(qe)?!1:(Oe.add(qe),!0)}).map(({t:_e,source:qe,idx:ks})=>{const Hu=Math.max(0,Math.min(100,Math.round(_e/Ve*100))),zg=`ft-p${Hu}`;return{t:_e,leftPct:Hu,pctClass:zg,probPct:void 0,alert:!1,idx:ks,source:qe}})}if(!T.length){const me=Math.max(6,Math.min(40,Math.round(Ve||10))),Me=(Ve||10)/me,Oe=new Set;for(let ft=0;ft<=me;ft++){const _e=Math.min(Ve,Me*ft),qe=Math.max(0,Math.min(100,Math.round(_e/Ve*100)));if(Oe.has(qe))continue;Oe.add(qe);const ks=`ft-p${qe}`;T.push({t:_e,leftPct:qe,pctClass:ks,probPct:void 0,alert:!1,idx:ft,source:"grid"})}}return a.jsxs(a.Fragment,{children:[T.length>0&&a.jsx("div",{className:"scrubber-ticks","aria-hidden":"false",children:T.map((me,Me)=>a.jsx("button",{type:"button",className:`tick ${me.pctClass} ${me.alert?"alert":""}`,title:typeof me.probPct=="number"?`frame #${me.idx} • ${me.probPct.toFixed(0)}%`:me.idx!=null?`frame #${me.idx}`:`t=${me.t!=null?me.t.toFixed(2)+"s":""}`,onClick:()=>{me.t!=null&&Mr(me.t,!1)}},Me))}),a.jsx("input",{type:"range",min:0,max:Ve,step:R,value:Math.max(0,Math.min(Ve,A||0)),onChange:me=>{const Me=Number(me.currentTarget.value)||0;Mr(Math.max(0,Math.min(Ve,Me)),!1)},className:"scrubber-range","aria-label":"Seek by time in seconds"}),a.jsxs("div",{className:"scrubber-meta",children:[a.jsxs("span",{children:[Math.max(0,Math.min(Ve,A||0)).toFixed(2),"s"]}),a.jsx("span",{children:" / "}),a.jsxs("span",{children:[Ve.toFixed(2),"s"]})]})]})})()}),Ke&&Array.isArray(Ke)&&Ke.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"frame-scores",role:"list",children:Ke.map((D,Z)=>{const E=Math.max(2,Math.round(Math.max(0,Math.min(1,D.prob))*an)),R=D.prob>=.5,T=D.time_s!=null?`${D.time_s.toFixed(2)}s`:kt?`${(D.index/Math.max(1,kt)).toFixed(2)}s`:`#${D.index}`;return a.jsx("div",{role:"listitem",className:`fs-bar ${R?"alert":""}`,title:`Frame ${D.index} • t=${T} • p=${(D.prob*100).toFixed(1)}%`,"aria-label":`Frame ${D.index}, ${T}, probability ${(D.prob*100).toFixed(1)} percent`,"data-h":E,onClick:()=>{var Me,Oe,ft;const H=(Oe=(Me=i==null?void 0:i.raw)==null?void 0:Me.summary)==null?void 0:Oe.frame_fps,Ne=(ft=i==null?void 0:i.summary)==null?void 0:ft.fps,ze=typeof H=="number"&&H>0?H:typeof Ne=="number"&&Ne>0?Ne:void 0,me=D.time_s!=null?D.time_s:ze?D.index/ze:void 0;me!=null&&Mr(me,!1)}},Z)})}),a.jsxs("div",{className:"frame-meta",children:[a.jsxs("span",{children:["samples: ",Ke.length]}),typeof kt=="number"&&kt>0?a.jsxs("span",{children:[" · fps: ",kt.toFixed(2)]}):null,a.jsxs("span",{children:[" · ",a.jsx("strong",{children:"blue"}),"=lower, ",a.jsx("strong",{children:"red"}),"=higher likelihood"]}),a.jsx("span",{children:" · threshold ≥ 50% outlined"})]}),(()=>{if(!Ve)return null;const D=Ke.map(E=>{var ze,me;const R=E.time_s!=null?E.time_s:typeof kt=="number"&&kt>0?E.index/Math.max(1,kt):void 0,T=R!=null?Math.max(0,Math.min(100,Math.round(R/Ve*100))):typeof((me=(ze=i==null?void 0:i.raw)==null?void 0:ze.summary)==null?void 0:me.frame_total)=="number"&&i.raw.summary.frame_total>0?Math.max(0,Math.min(100,Math.round(E.index/i.raw.summary.frame_total*100))):0,H=Math.max(0,Math.min(100,Math.round(E.prob*100))),Ne=Math.round(H/5)*5;return{leftPct:T,hBucket:Ne,idx:E.index,time:R,prob:E.prob}}),Z=Math.max(0,Math.min(100,Math.round(Math.max(0,A)/Ve*100)));return a.jsxs("div",{className:"frame-timeline",role:"region","aria-label":"Frame timeline",children:[a.jsx("div",{className:"ft-base","aria-hidden":"true"}),a.jsx("div",{className:`ft-head ft-p${Z}`,"aria-hidden":"true"}),D.map((E,R)=>a.jsx("button",{type:"button",className:`ft-mark ft-p${E.leftPct} h${E.hBucket} ${E.prob>=.5?"alert":""}`,title:`t=${E.time!=null?E.time.toFixed(2)+"s":"frame #"+E.idx} • p=${(E.prob*100).toFixed(1)}%`,"data-tip":`${E.time!=null?E.time.toFixed(2)+"s":"frame #"+E.idx} • ${(E.prob*100).toFixed(1)}%`,"aria-label":`Timeline marker at ${E.time!=null?E.time.toFixed(2)+" seconds":"frame "+E.idx}, probability ${(E.prob*100).toFixed(1)} percent`,onClick:()=>{E.time!=null&&Mr(E.time,!1)}},R)),a.jsxs("div",{className:"ft-axis","aria-hidden":"true",children:[a.jsx("span",{children:"0s"}),a.jsxs("span",{children:[Ve.toFixed(2),"s"]})]})]})})()]})]})]})})(),(()=>{var Ve,cn;const te=Lr,Je=(cn=(Ve=i==null?void 0:i.raw)==null?void 0:Ve.asset)==null?void 0:cn.asset_id,Ke=(()=>{if(Je==null)return null;const j=Number(Je);return Number.isFinite(j)&&String(j)===String(Je).trim()?j:null})();async function kt(){var j,ie,we,ee;Mo(null),Rr(null),To("generate"),Ro(!0);try{const U=_t().token,M={"Content-Type":"application/json"};U&&(M.Authorization=`Bearer ${U}`);let D;if(Ke!==null)D=await fetch(`${nt}/api/noise/generate`,{method:"POST",headers:M,body:JSON.stringify({asset_id:Ke,frames:24,method:"both",threshold:.6})});else{const T=(ie=(j=i==null?void 0:i.raw)==null?void 0:j.asset)==null?void 0:ie.stored_path,H=(ee=(we=i==null?void 0:i.raw)==null?void 0:we.asset)==null?void 0:ee.sha256;if(!T)throw new Error("No asset reference for Noise");D=await fetch(`${nt}/api/noise/generate-by-path`,{method:"POST",headers:M,body:JSON.stringify({stored_path:T,sha256:H,frames:24,method:"both",threshold:.6})})}if(!D.ok)throw new Error(await D.text());const Z=await D.json(),E=Array.isArray(Z.noise_frames)?Z.noise_frames:[],R={...i};R.summary={...R.summary||{},noise_frames:E,noise:{frames:E,high_indices:Z.high_indices,threshold:Z.threshold}},R.raw&&R.raw.summary&&(R.raw.summary={...R.raw.summary||{},noise_frames:E,noise:{frames:E,high_indices:Z.high_indices,threshold:Z.threshold}}),xn(0),Ei(E),c(R);try{En({...R,summary:R.summary});const T=t?qt(t):dn();s(T)}catch{}Rr(`Generated ${E.length} ${E.length===1?"noise frame":"noise frames"}`),setTimeout(()=>Rr(null),3e3);try{Ns.current&&(Ns.current.open=!0)}catch{}Oo(!0),setTimeout(()=>Oo(!1),800)}catch(U){Mo((U==null?void 0:U.message)||"Failed to generate noise frames")}finally{To(null),Ro(!1)}}async function $r(){var j,ie,we,ee;Mo(null),Rr(null),To("reload"),Ro(!0);try{const U=_t().token,M={};U&&(M.Authorization=`Bearer ${U}`);let D;if(Ke!==null){const T=`${nt}/api/noise/list?asset_id=${encodeURIComponent(String(Ke))}`;D=await fetch(T,{method:"GET",headers:M})}else{const T=(ie=(j=i==null?void 0:i.raw)==null?void 0:j.asset)==null?void 0:ie.stored_path,H=(ee=(we=i==null?void 0:i.raw)==null?void 0:we.asset)==null?void 0:ee.sha256;if(!T)throw new Error("No asset reference for Noise reload");const Ne=new URLSearchParams({stored_path:String(T)});H&&Ne.set("sha256",String(H));const ze=`${nt}/api/noise/list-by-path?${Ne.toString()}`;D=await fetch(ze,{method:"GET",headers:M})}if(!D.ok)throw new Error(await D.text());const Z=await D.json(),E=Array.isArray(Z.noise_frames)?Z.noise_frames:[],R={...i};R.summary={...R.summary||{},noise_frames:E,noise:{frames:E}},R.raw&&R.raw.summary&&(R.raw.summary={...R.raw.summary||{},noise_frames:E,noise:{frames:E}}),xn(0),Ei(E),c(R);try{En({...R,summary:R.summary});const T=t?qt(t):dn();s(T)}catch{}Rr(E.length>0?`Loaded ${E.length} ${E.length===1?"noise frame":"noise frames"}`:"No noise frames found"),setTimeout(()=>Rr(null),3e3);try{Ns.current&&(Ns.current.open=!0)}catch{}E.length>0&&(Oo(!0),setTimeout(()=>Oo(!1),800))}catch(U){Mo((U==null?void 0:U.message)||"Failed to reload noise frames")}finally{To(null),Ro(!1)}}const an=j=>{try{if(!j||/^(https?:)?\/\//i.test(j)||/^data:/i.test(j))return j;const ie=String(nt).replace(/\/$/,""),we=String(j).replace(/^\/+/,"");return`${ie}/static/${we}`}catch{return j}},Sn=(()=>{if(ki!=null)return ki;if(!te.length)return 0;const j=te.filter(ie=>typeof ie.time_s=="number"&&Number.isFinite(ie.time_s));if(Lo&&j.length){let ie=0,we=1/0;return te.forEach((ee,U)=>{const M=ee.time_s;if(typeof M=="number"&&Number.isFinite(M)){const D=Math.abs(M-(A||0));D<we&&(we=D,ie=U)}}),ie}return 0})();return a.jsxs("details",{className:"overlay-block",ref:Ns,children:[a.jsxs("summary",{children:["Noise frames",te.length?` (${te.length})`:""]}),a.jsxs("div",{className:"ela-toolbar",children:[a.jsx("button",{className:"btn",onClick:kt,disabled:_o,children:_o&&$u==="generate"?"Generating…":"Generate noise frames"}),a.jsx("button",{className:"btn ghost",onClick:$r,disabled:_o,children:_o&&$u==="reload"?"Reloading…":"Reload"}),a.jsx("button",{className:"btn ghost",onClick:async()=>{var j,ie,we,ee,U,M;try{const D=_t().token,Z=(()=>{var ft,_e;const Me=(_e=(ft=i==null?void 0:i.raw)==null?void 0:ft.asset)==null?void 0:_e.asset_id,Oe=Number(Me);return Number.isFinite(Oe)&&String(Oe)===String(Me).trim()?Oe:null})();let E,R="noise.zip";if(Z!==null)E=`${nt}/api/noise/download?asset_id=${encodeURIComponent(String(Z))}`,R=`${((ie=(j=i==null?void 0:i.raw)==null?void 0:j.asset)==null?void 0:ie.sha256)||"asset_"+String(Z)}_noise.zip`;else{const Me=(ee=(we=i==null?void 0:i.raw)==null?void 0:we.asset)==null?void 0:ee.stored_path,Oe=(M=(U=i==null?void 0:i.raw)==null?void 0:U.asset)==null?void 0:M.sha256;if(!Me){alert("No stored_path available for download");return}E=`${nt}/api/noise/download-by-path?stored_path=${encodeURIComponent(String(Me))}${Oe?`&sha256=${encodeURIComponent(String(Oe))}`:""}`,R=`${Oe||String((Me||"").split("/")[0])}_noise.zip`}const T={};D&&(T.Authorization=`Bearer ${D}`);const H=await fetch(E,{headers:T});if(!H.ok)throw new Error(await H.text());const Ne=await H.blob(),ze=URL.createObjectURL(Ne),me=document.createElement("a");me.href=ze,me.download=R,document.body.appendChild(me),me.click(),me.remove(),URL.revokeObjectURL(ze)}catch(D){console.error(D),alert("Failed to start download: "+((D==null?void 0:D.message)||D))}},children:"Download All"}),a.jsxs("label",{className:"chk",title:"Show only top-K frames by noise score",children:[a.jsx("input",{type:"checkbox",checked:zu,onChange:j=>{Rg(j.currentTarget.checked),xn(0)}})," Top-K only"]}),a.jsxs("label",{className:"num",title:"Number of top frames to display",children:[a.jsx("span",{className:"muted",children:"Top K"})," ",a.jsx("input",{type:"number",min:1,max:200,value:Uu,onChange:j=>{const ie=Math.max(1,Math.min(200,Number(j.currentTarget.value)||10));Mg(ie),xn(0)},className:"w-16"})]}),Bu?a.jsx("span",{className:"status-pill success",role:"status","aria-live":"polite",children:Bu}):null,Fu?a.jsx("span",{className:"status-pill error",role:"status","aria-live":"assertive",children:Fu}):null]}),(()=>{if(!te.length)return a.jsx("div",{className:"overlay-content",children:a.jsx("div",{className:"muted",children:"No noise frames available for this analysis."})});let j=te.slice();zu&&(j=j.slice().sort((U,M)=>(M.noise_score||0)-(U.noise_score||0)).slice(0,Math.max(1,Uu)));const ie=new Set(j),we=te[Math.max(0,Math.min(te.length-1,Sn))];let ee=Math.max(0,j.indexOf(we));return ee<0&&(ee=Math.max(0,Math.min(j.length-1,Sn))),a.jsxs("div",{className:`ela-grid${Pg?" ela-updated-flash":""}`,children:[(()=>{const U=j[ee],M=an(U.uri),D=(()=>{const R=[];return typeof U.time_s=="number"&&Number.isFinite(U.time_s)&&R.push(`${U.time_s.toFixed(2)}s`),typeof U.index=="number"&&Number.isFinite(U.index)&&R.push(`#${U.index}`),typeof U.noise_score=="number"&&R.push(`score ${(U.noise_score*100).toFixed(0)}%`),R.join(" • ")||`frame ${ee+1}`})(),Z=te.map((R,T)=>{let H=0;return typeof R.time_s=="number"&&Number.isFinite(R.time_s)&&I&&I>0?H=Math.max(0,Math.min(100,Math.round(R.time_s/I*100))):H=Math.round(T/Math.max(1,te.length-1)*100),{i:T,leftPct:H,score:typeof R.noise_score=="number"?R.noise_score:void 0,isTop:ie.has(R)}}),E=(()=>I&&I>0?Math.max(0,Math.min(100,Math.round(Math.max(0,A)/I*100))):Math.round(ee/Math.max(1,j.length-1)*100))();return a.jsxs("div",{className:"ela-viewer-block",children:[a.jsxs("div",{className:"ela-viewer-head",children:[a.jsx("div",{className:"left",children:a.jsx("span",{className:"muted",children:"Noise preview"})}),a.jsxs("div",{className:"right",children:[a.jsxs("label",{className:"chk",children:[a.jsx("input",{type:"checkbox",checked:Lo,onChange:R=>_g(R.currentTarget.checked)})," Follow video"]}),a.jsx("button",{className:"btn ghost",onClick:()=>{ee>0&&xn(Math.max(0,te.indexOf(j[ee-1])))},disabled:ee<=0,children:"Prev"}),a.jsx("button",{className:"btn ghost",onClick:()=>{ee<j.length-1&&xn(Math.max(0,te.indexOf(j[ee+1])))},disabled:ee>=j.length-1,children:"Next"}),U.fft_uri?a.jsx("a",{className:"btn ghost",href:an(U.fft_uri),target:"_blank",rel:"noreferrer",children:"FFT"}):null,a.jsx("a",{className:"btn ghost",href:M,target:"_blank",rel:"noreferrer",children:"Open"})]})]}),a.jsxs("div",{className:"ela-view",children:[a.jsx("img",{src:M,alt:`Noise ${D}`,className:"ela-img"}),a.jsx("div",{className:"ela-cap",children:D})]}),a.jsxs("div",{className:"ela-timeline",role:"region","aria-label":"Noise timeline",children:[a.jsx("div",{className:"ft-base","aria-hidden":"true"}),a.jsx("div",{className:`ft-head ft-p${E}`,"aria-hidden":"true"}),Z.filter(R=>R.isTop).map(({i:R,leftPct:T,score:H})=>a.jsx("button",{type:"button",className:`ft-mark ft-p${T} ${R===ee?"active":""} ${typeof H=="number"&&H>=.6?"alert":""}`,onClick:()=>xn(R),title:typeof H=="number"?`score ${(H*100).toFixed(0)}%`:void 0},R)),a.jsxs("div",{className:"ft-axis","aria-hidden":"true",children:[a.jsx("span",{children:"0s"}),a.jsx("span",{children:I?I.toFixed(2)+"s":""})]})]})]})})(),j.map((U,M)=>{const D=(()=>{const E=typeof U.time_s=="number"&&Number.isFinite(U.time_s)?`${U.time_s.toFixed(2)}s`:void 0,R=typeof U.index=="number"&&Number.isFinite(U.index)?`#${U.index}`:void 0,T=typeof U.noise_score=="number"?`score ${(U.noise_score*100).toFixed(0)}%`:void 0;return[E,R,T].filter(Boolean).join(" • ")||`frame ${M+1}`})(),Z=an(U.uri);return a.jsx("a",{className:`ela-item${typeof U.noise_score=="number"&&U.noise_score>=.6?" alert":""}`,href:Z,target:"_blank",rel:"noreferrer",title:D,onClick:E=>{E.preventDefault(),xn(Math.max(0,te.indexOf(j[M])))},children:a.jsxs("figure",{children:[a.jsx("img",{src:Z,loading:"lazy",alt:D||"Noise frame"}),a.jsx("figcaption",{className:"cap",children:D})]})},M)})]})})()]})})(),(()=>{var Ve,cn;const te=Tr,Je=(cn=(Ve=i==null?void 0:i.raw)==null?void 0:Ve.asset)==null?void 0:cn.asset_id,Ke=(()=>{if(Je==null)return null;const j=Number(Je);return Number.isFinite(j)&&String(j)===String(Je).trim()?j:null})();async function kt(){var j,ie,we,ee;K(null),O(null),Y("generate"),ke(!0);try{const U=_t().token,M={"Content-Type":"application/json"};U&&(M.Authorization=`Bearer ${U}`);let D;if(Ke!==null)D=await fetch(`${nt}/api/ela/generate`,{method:"POST",headers:M,body:JSON.stringify({asset_id:Ke,frames:24,quality:90,scale:12})});else{const H=(ie=(j=i==null?void 0:i.raw)==null?void 0:j.asset)==null?void 0:ie.stored_path,Ne=(ee=(we=i==null?void 0:i.raw)==null?void 0:we.asset)==null?void 0:ee.sha256;if(!H)throw new Error("No asset reference for ELA");D=await fetch(`${nt}/api/ela/generate-by-path`,{method:"POST",headers:M,body:JSON.stringify({stored_path:H,sha256:Ne,frames:24,quality:90,scale:12})})}if(!D.ok)throw new Error(await D.text());const Z=await D.json(),E=Array.isArray(Z.ela_frames)?Z.ela_frames:[],R={...i},T=(E||[]).map(H=>H&&H.uri).filter(Boolean);R.summary={...R.summary||{},ela_frames:E,ela_uris:T,ela:{frames:E,uris:T}},R.raw&&R.raw.summary&&(R.raw.summary={...R.raw.summary||{},ela_frames:E,ela_uris:T,ela:{frames:E,uris:T}}),je(0),ut(E),c(R);try{En({...R,summary:R.summary});const H=t?qt(t):dn();s(H)}catch{}O(`Generated ${E.length} ${E.length===1?"ELA frame":"ELA frames"}`),setTimeout(()=>O(null),3e3);try{be.current&&(be.current.open=!0)}catch{}Ce(!0),setTimeout(()=>Ce(!1),800)}catch(U){K((U==null?void 0:U.message)||"Failed to generate ELA frames")}finally{Y(null),ke(!1)}}async function $r(){var j,ie,we,ee;K(null),O(null),Y("reload"),ke(!0);try{const U=_t().token,M={};U&&(M.Authorization=`Bearer ${U}`);let D;if(Ke!==null){const H=`${nt}/api/ela/list?asset_id=${encodeURIComponent(String(Ke))}`;D=await fetch(H,{method:"GET",headers:M})}else{const H=(ie=(j=i==null?void 0:i.raw)==null?void 0:j.asset)==null?void 0:ie.stored_path,Ne=(ee=(we=i==null?void 0:i.raw)==null?void 0:we.asset)==null?void 0:ee.sha256;if(!H)throw new Error("No asset reference for ELA reload");const ze=new URLSearchParams({stored_path:String(H)});Ne&&ze.set("sha256",String(Ne));const me=`${nt}/api/ela/list-by-path?${ze.toString()}`;D=await fetch(me,{method:"GET",headers:M})}if(!D.ok)throw new Error(await D.text());const Z=await D.json(),E=Array.isArray(Z.ela_frames)?Z.ela_frames:[],R={...i},T=(E||[]).map(H=>H&&H.uri).filter(Boolean);R.summary={...R.summary||{},ela_frames:E,ela_uris:T,ela:{frames:E,uris:T}},R.raw&&R.raw.summary&&(R.raw.summary={...R.raw.summary||{},ela_frames:E,ela_uris:T,ela:{frames:E,uris:T}}),je(0),ut(E),c(R);try{En({...R,summary:R.summary});const H=t?qt(t):dn();s(H)}catch{}O(E.length>0?`Loaded ${E.length} ${E.length===1?"ELA frame":"ELA frames"}`:"No ELA frames found"),setTimeout(()=>O(null),3e3);try{be.current&&(be.current.open=!0)}catch{}E.length>0&&(Ce(!0),setTimeout(()=>Ce(!1),800))}catch(U){K((U==null?void 0:U.message)||"Failed to reload ELA frames")}finally{Y(null),ke(!1)}}const an=j=>{try{if(!j||/^(https?:)?\/\//i.test(j)||/^data:/i.test(j))return j;const ie=String(nt).replace(/\/$/,""),we=String(j).replace(/^\/+/,"");return`${ie}/static/${we}`}catch{return j}},Sn=(()=>{if(it!=null)return it;if(!te.length)return 0;const j=te.filter(ie=>typeof ie.time_s=="number"&&Number.isFinite(ie.time_s));if(Re&&j.length){let ie=0,we=1/0;return te.forEach((ee,U)=>{const M=ee.time_s;if(typeof M=="number"&&Number.isFinite(M)){const D=Math.abs(M-(A||0));D<we&&(we=D,ie=U)}}),ie}return 0})();return a.jsxs("details",{className:"overlay-block",ref:be,children:[a.jsxs("summary",{children:["ELA frames",te.length?` (${te.length})`:""]}),a.jsxs("div",{className:"ela-toolbar",children:[a.jsx("button",{className:"btn",onClick:kt,disabled:de,children:de&&re==="generate"?"Generating…":"Generate ELA frames"}),a.jsx("button",{className:"btn ghost",onClick:$r,disabled:de,children:de&&re==="reload"?"Reloading…":"Reload"}),a.jsx("button",{className:"btn ghost",onClick:async()=>{var j,ie,we,ee,U,M;try{const D=_t().token,Z=(()=>{var ft,_e;const Me=(_e=(ft=i==null?void 0:i.raw)==null?void 0:ft.asset)==null?void 0:_e.asset_id,Oe=Number(Me);return Number.isFinite(Oe)&&String(Oe)===String(Me).trim()?Oe:null})();let E,R="ela.zip";if(Z!==null)E=`${nt}/api/ela/download?asset_id=${encodeURIComponent(String(Z))}`,R=`${((ie=(j=i==null?void 0:i.raw)==null?void 0:j.asset)==null?void 0:ie.sha256)||"asset_"+String(Z)}_ela.zip`;else{const Me=(ee=(we=i==null?void 0:i.raw)==null?void 0:we.asset)==null?void 0:ee.stored_path,Oe=(M=(U=i==null?void 0:i.raw)==null?void 0:U.asset)==null?void 0:M.sha256;if(!Me){alert("No stored_path available for download");return}E=`${nt}/api/ela/download-by-path?stored_path=${encodeURIComponent(String(Me))}${Oe?`&sha256=${encodeURIComponent(String(Oe))}`:""}`,R=`${Oe||String((Me||"").split("/")[0])}_ela.zip`}const T={};D&&(T.Authorization=`Bearer ${D}`);const H=await fetch(E,{headers:T});if(!H.ok)throw new Error(await H.text());const Ne=await H.blob(),ze=URL.createObjectURL(Ne),me=document.createElement("a");me.href=ze,me.download=R,document.body.appendChild(me),me.click(),me.remove(),URL.revokeObjectURL(ze)}catch(D){console.error(D),alert("Failed to start download: "+((D==null?void 0:D.message)||D))}},children:"Download All"}),a.jsxs("label",{className:"chk",title:"Show only Top-K frames",children:[a.jsx("input",{type:"checkbox",checked:Se,onChange:j=>{Nt(j.currentTarget.checked),je(0)}})," Top-K only"]}),a.jsxs("label",{className:"num",title:"Number of top frames to display",children:[a.jsx("span",{className:"muted",children:"Top K"})," ",a.jsx("input",{type:"number",min:1,max:200,value:zn,onChange:j=>{const ie=Math.max(1,Math.min(200,Number(j.currentTarget.value)||10));F(ie),je(0)},className:"w-16"})]}),_?a.jsx("span",{className:"status-pill success",role:"status","aria-live":"polite",children:_}):null,Be?a.jsx("span",{className:"status-pill error",role:"status","aria-live":"assertive",children:Be}):null]}),(()=>{if(!te.length)return a.jsx("div",{className:"overlay-content",children:a.jsx("div",{className:"muted",children:"No ELA frames available for this analysis."})});let j=te.slice();if(Se){const M=te.slice().sort((Z,E)=>(E.ela_score||E.elaErrorMax||0)-(Z.ela_score||Z.elaErrorMax||0)).slice(0,Math.max(1,zn)),D=new Set(M);j=te.filter(Z=>D.has(Z))}const ie=new Set(j),we=te[Math.max(0,Math.min(te.length-1,Sn))];let ee=Math.max(0,j.indexOf(we));ee<0&&(ee=Math.max(0,Math.min(j.length-1,Sn)));const U=M=>{const D=j[M],Z=Math.max(0,te.indexOf(D));je(Z);const E=D&&typeof D.time_s=="number"&&Number.isFinite(D.time_s)?D.time_s:null;E!=null&&Mr(E,!1)};return a.jsxs("div",{className:`ela-grid${se?" ela-updated-flash":""}`,children:[(()=>{const M=j[ee],D=an(M.uri),Z=(()=>{const T=[];return typeof M.time_s=="number"&&Number.isFinite(M.time_s)&&T.push(`${M.time_s.toFixed(2)}s`),typeof M.index=="number"&&Number.isFinite(M.index)&&T.push(`#${M.index}`),typeof M.ela_score=="number"&&T.push(`score ${(M.ela_score*100).toFixed(0)}%`),T.join(" • ")||`frame ${ee+1}`})(),E=te.map((T,H)=>{let Ne=0;typeof T.time_s=="number"&&Number.isFinite(T.time_s)&&I&&I>0?Ne=Math.max(0,Math.min(100,Math.round(T.time_s/I*100))):Ne=Math.round(H/Math.max(1,te.length-1)*100);const ze=T==null?void 0:T.ela_score;return{i:H,leftPct:Ne,isTop:ie.has(T),score:typeof ze=="number"?ze:void 0}}),R=(()=>{if(I&&I>0)return Math.max(0,Math.min(100,Math.round(Math.max(0,A)/I*100)));const T=Math.max(0,te.indexOf(j[ee]));return Math.round(T/Math.max(1,te.length-1)*100)})();return a.jsxs("div",{className:"ela-viewer-block",children:[a.jsxs("div",{className:"ela-viewer-head",children:[a.jsx("div",{className:"left",children:a.jsx("span",{className:"muted",children:"ELA preview"})}),a.jsxs("div",{className:"right",children:[a.jsxs("label",{className:"chk",children:[a.jsx("input",{type:"checkbox",checked:Re,onChange:T=>ye(T.currentTarget.checked)})," Follow video"]}),a.jsx("button",{className:"btn ghost",onClick:()=>{ee>0&&U(ee-1)},disabled:ee<=0,children:"Prev"}),a.jsx("button",{className:"btn ghost",onClick:()=>{ee<j.length-1&&U(ee+1)},disabled:ee>=j.length-1,children:"Next"}),a.jsx("a",{className:"btn ghost",href:D,target:"_blank",rel:"noreferrer",children:"Open"})]})]}),a.jsxs("div",{className:"ela-view",children:[a.jsx("img",{src:D,alt:`ELA ${Z}`,className:"ela-img"}),a.jsx("div",{className:"ela-cap",children:Z})]}),a.jsxs("div",{className:"ela-timeline",role:"region","aria-label":"ELA timeline",children:[a.jsx("div",{className:"ft-base","aria-hidden":"true"}),a.jsx("div",{className:`ft-head ft-p${R}`,"aria-hidden":"true"}),(Se?E.filter(T=>T.isTop):E).map(({i:T,leftPct:H,score:Ne})=>a.jsx("button",{type:"button",className:`ft-mark ft-p${H} ${te.indexOf(j[ee])===T?"active":""} ${typeof Ne=="number"&&Ne>=.6?"alert":""}`,onClick:()=>je(T),title:typeof Ne=="number"?`score ${(Ne*100).toFixed(0)}%`:void 0},T)),a.jsxs("div",{className:"ft-axis","aria-hidden":"true",children:[a.jsx("span",{children:"0s"}),a.jsx("span",{children:I?I.toFixed(2)+"s":""})]})]})]})})(),j.map((M,D)=>{const Z=(()=>{const R=typeof M.time_s=="number"&&Number.isFinite(M.time_s)?`${M.time_s.toFixed(2)}s`:void 0,T=typeof M.index=="number"&&Number.isFinite(M.index)?`#${M.index}`:void 0,H=M==null?void 0:M.ela_score,Ne=typeof H=="number"?`score ${(H*100).toFixed(0)}%`:void 0;return[R,T,Ne].filter(Boolean).join(" • ")||`frame ${D+1}`})(),E=an(M.uri);return a.jsx("a",{className:`ela-item${((M==null?void 0:M.ela_score)||0)>=.6?" alert":""}`,href:E,target:"_blank",rel:"noreferrer",title:Z,onClick:R=>{R.preventDefault(),U(D)},children:a.jsxs("figure",{children:[a.jsx("img",{src:E,loading:"lazy",alt:Z||"ELA frame"}),a.jsx("figcaption",{className:"cap",children:Z})]})},D)})]})})()]})})(),(()=>{var Ve,cn;const te=Or,Je=(cn=(Ve=i==null?void 0:i.raw)==null?void 0:Ve.asset)==null?void 0:cn.asset_id,Ke=(()=>{if(Je==null)return null;const j=Number(Je);return Number.isFinite(j)&&String(j)===String(Je).trim()?j:null})();async function kt(){var j,ie,we,ee;L(null),ae(null),X("generate"),C(!0);try{const U=_t().token,M={"Content-Type":"application/json"};U&&(M.Authorization=`Bearer ${U}`);let D;if(Ke!==null)D=await fetch(`${nt}/api/lbp/generate`,{method:"POST",headers:M,body:JSON.stringify({asset_id:Ke,frames:24,radius:1})});else{const H=(ie=(j=i==null?void 0:i.raw)==null?void 0:j.asset)==null?void 0:ie.stored_path,Ne=(ee=(we=i==null?void 0:i.raw)==null?void 0:we.asset)==null?void 0:ee.sha256;if(!H)throw new Error("No asset reference for LBP");D=await fetch(`${nt}/api/lbp/generate-by-path`,{method:"POST",headers:M,body:JSON.stringify({stored_path:H,sha256:Ne,frames:24,radius:1})})}if(!D.ok)throw new Error(await D.text());const Z=await D.json(),E=Array.isArray(Z.lbp_frames)?Z.lbp_frames:[],R={...i},T=(E||[]).map(H=>H&&H.uri).filter(Boolean);R.summary={...R.summary||{},lbp_frames:E,lbp_uris:T,lbp:{frames:E,uris:T}},R.raw&&R.raw.summary&&(R.raw.summary={...R.raw.summary||{},lbp_frames:E,lbp_uris:T,lbp:{frames:E,uris:T}}),Ie(0),et(E),c(R);try{En({...R,summary:R.summary});const H=t?qt(t):dn();s(H)}catch{}ae(`Generated ${E.length} ${E.length===1?"LBP frame":"LBP frames"}`),setTimeout(()=>ae(null),3e3);try{pe.current&&(pe.current.open=!0)}catch{}fe(!0),setTimeout(()=>fe(!1),800)}catch(U){L((U==null?void 0:U.message)||"Failed to generate LBP frames")}finally{X(null),C(!1)}}async function $r(){var j,ie,we,ee;L(null),ae(null),X("reload"),C(!0);try{const U=_t().token,M={};U&&(M.Authorization=`Bearer ${U}`);let D;if(Ke!==null){const H=`${nt}/api/lbp/list?asset_id=${encodeURIComponent(String(Ke))}`;D=await fetch(H,{method:"GET",headers:M})}else{const H=(ie=(j=i==null?void 0:i.raw)==null?void 0:j.asset)==null?void 0:ie.stored_path,Ne=(ee=(we=i==null?void 0:i.raw)==null?void 0:we.asset)==null?void 0:ee.sha256;if(!H)throw new Error("No asset reference for LBP reload");const ze=new URLSearchParams({stored_path:String(H)});Ne&&ze.set("sha256",String(Ne));const me=`${nt}/api/lbp/list-by-path?${ze.toString()}`;D=await fetch(me,{method:"GET",headers:M})}if(!D.ok)throw new Error(await D.text());const Z=await D.json(),E=Array.isArray(Z.lbp_frames)?Z.lbp_frames:[],R={...i},T=(E||[]).map(H=>H&&H.uri).filter(Boolean);R.summary={...R.summary||{},lbp_frames:E,lbp_uris:T,lbp:{frames:E,uris:T}},R.raw&&R.raw.summary&&(R.raw.summary={...R.raw.summary||{},lbp_frames:E,lbp_uris:T,lbp:{frames:E,uris:T}}),Ie(0),et(E),c(R);try{En({...R,summary:R.summary});const H=t?qt(t):dn();s(H)}catch{}ae(E.length>0?`Loaded ${E.length} ${E.length===1?"LBP frame":"LBP frames"}`:"No LBP frames found"),setTimeout(()=>ae(null),3e3);try{pe.current&&(pe.current.open=!0)}catch{}E.length>0&&(fe(!0),setTimeout(()=>fe(!1),800))}catch(U){L((U==null?void 0:U.message)||"Failed to reload LBP frames")}finally{X(null),C(!1)}}const an=j=>{try{if(!j||/^(https?:)?\/\//i.test(j)||/^data:/i.test(j))return j;const ie=String(nt).replace(/\/$/,""),we=String(j).replace(/^\/+/,"");return`${ie}/static/${we}`}catch{return j}},Sn=(()=>{if($e!=null)return $e;if(!te.length)return 0;const j=te.filter(ie=>typeof ie.time_s=="number"&&Number.isFinite(ie.time_s));if(De&&j.length){let ie=0,we=1/0;return te.forEach((ee,U)=>{const M=ee.time_s;if(typeof M=="number"&&Number.isFinite(M)){const D=Math.abs(M-(A||0));D<we&&(we=D,ie=U)}}),ie}return 0})();return a.jsxs("details",{className:"overlay-block",ref:pe,children:[a.jsxs("summary",{children:["LBP frames",te.length?` (${te.length})`:""]}),a.jsxs("div",{className:"ela-toolbar",children:[a.jsx("button",{className:"btn",onClick:kt,disabled:h,children:h&&B==="generate"?"Generating…":"Generate LBP frames"}),a.jsx("button",{className:"btn ghost",onClick:$r,disabled:h,children:h&&B==="reload"?"Reloading…":"Reload"}),a.jsx("button",{className:"btn ghost",onClick:async()=>{var j,ie,we,ee,U,M;try{const D=_t().token,Z=(()=>{var ft,_e;const Me=(_e=(ft=i==null?void 0:i.raw)==null?void 0:ft.asset)==null?void 0:_e.asset_id,Oe=Number(Me);return Number.isFinite(Oe)&&String(Oe)===String(Me).trim()?Oe:null})();let E,R="lbp.zip";if(Z!==null)E=`${nt}/api/lbp/download?asset_id=${encodeURIComponent(String(Z))}`,R=`${((ie=(j=i==null?void 0:i.raw)==null?void 0:j.asset)==null?void 0:ie.sha256)||"asset_"+String(Z)}_lbp.zip`;else{const Me=(ee=(we=i==null?void 0:i.raw)==null?void 0:we.asset)==null?void 0:ee.stored_path,Oe=(M=(U=i==null?void 0:i.raw)==null?void 0:U.asset)==null?void 0:M.sha256;if(!Me){alert("No stored_path available for download");return}E=`${nt}/api/lbp/download-by-path?stored_path=${encodeURIComponent(String(Me))}${Oe?`&sha256=${encodeURIComponent(String(Oe))}`:""}`,R=`${Oe||String((Me||"").split("/")[0])}_lbp.zip`}const T={};D&&(T.Authorization=`Bearer ${D}`);const H=await fetch(E,{headers:T});if(!H.ok)throw new Error(await H.text());const Ne=await H.blob(),ze=URL.createObjectURL(Ne),me=document.createElement("a");me.href=ze,me.download=R,document.body.appendChild(me),me.click(),me.remove(),URL.revokeObjectURL(ze)}catch(D){console.error(D),alert("Failed to start download: "+((D==null?void 0:D.message)||D))}},children:"Download All"}),a.jsxs("label",{className:"chk",title:"Show only Top-K frames",children:[a.jsx("input",{type:"checkbox",checked:tt,onChange:j=>{Ig(j.currentTarget.checked),Ie(0)}})," Top-K only"]}),a.jsxs("label",{className:"num",title:"Number of top frames to display",children:[a.jsx("span",{className:"muted",children:"Top K"})," ",a.jsx("input",{type:"number",min:1,max:200,value:Lu,onChange:j=>{const ie=Math.max(1,Math.min(200,Number(j.currentTarget.value)||10));jg(ie),Ie(0)},className:"w-16"})]}),oe?a.jsx("span",{className:"status-pill success",role:"status","aria-live":"polite",children:oe}):null,J?a.jsx("span",{className:"status-pill error",role:"status","aria-live":"assertive",children:J}):null]}),(()=>{if(!te.length)return a.jsx("div",{className:"overlay-content",children:a.jsx("div",{className:"muted",children:"No LBP frames available for this analysis."})});let j=te.slice();if(tt){const M=te.slice().sort((Z,E)=>(E.lbp_score||0)-(Z.lbp_score||0)).slice(0,Math.max(1,Lu)),D=new Set(M);j=te.filter(Z=>D.has(Z))}const ie=new Set(j),we=te[Math.max(0,Math.min(te.length-1,Sn))];let ee=Math.max(0,j.indexOf(we));ee<0&&(ee=Math.max(0,Math.min(j.length-1,Sn)));const U=M=>{const D=j[M],Z=Math.max(0,te.indexOf(D));Ie(Z);const E=D&&typeof D.time_s=="number"&&Number.isFinite(D.time_s)?D.time_s:null;E!=null&&Mr(E,!1)};return a.jsxs("div",{className:`ela-grid${ce?" ela-updated-flash":""}`,children:[(()=>{const M=j[ee],D=an(M.uri),Z=(()=>{const T=[];return typeof M.time_s=="number"&&Number.isFinite(M.time_s)&&T.push(`${M.time_s.toFixed(2)}s`),typeof M.index=="number"&&Number.isFinite(M.index)&&T.push(`#${M.index}`),typeof M.lbp_score=="number"&&T.push(`score ${(M.lbp_score*100).toFixed(0)}%`),T.join(" • ")||`frame ${ee+1}`})(),E=te.map((T,H)=>{let Ne=0;typeof T.time_s=="number"&&Number.isFinite(T.time_s)&&I&&I>0?Ne=Math.max(0,Math.min(100,Math.round(T.time_s/I*100))):Ne=Math.round(H/Math.max(1,te.length-1)*100);const ze=T==null?void 0:T.lbp_score;return{i:H,leftPct:Ne,isTop:ie.has(T),score:typeof ze=="number"?ze:void 0}}),R=(()=>{if(I&&I>0)return Math.max(0,Math.min(100,Math.round(Math.max(0,A)/I*100)));const T=Math.max(0,te.indexOf(j[ee]));return Math.round(T/Math.max(1,te.length-1)*100)})();return a.jsxs("div",{className:"ela-viewer-block",children:[a.jsxs("div",{className:"ela-viewer-head",children:[a.jsx("div",{className:"left",children:a.jsx("span",{className:"muted",children:"LBP preview"})}),a.jsxs("div",{className:"right",children:[a.jsxs("label",{className:"chk",children:[a.jsx("input",{type:"checkbox",checked:De,onChange:T=>Pe(T.currentTarget.checked)})," Follow video"]}),a.jsx("button",{className:"btn ghost",onClick:()=>{ee>0&&U(ee-1)},disabled:ee<=0,children:"Prev"}),a.jsx("button",{className:"btn ghost",onClick:()=>{ee<j.length-1&&U(ee+1)},disabled:ee>=j.length-1,children:"Next"}),a.jsx("a",{className:"btn ghost",href:D,target:"_blank",rel:"noreferrer",children:"Open"})]})]}),a.jsxs("div",{className:"ela-view",children:[a.jsx("img",{src:D,alt:`LBP ${Z}`,className:"ela-img"}),a.jsx("div",{className:"ela-cap",children:Z})]}),a.jsxs("div",{className:"ela-timeline",role:"region","aria-label":"LBP timeline",children:[a.jsx("div",{className:"ft-base","aria-hidden":"true"}),a.jsx("div",{className:`ft-head ft-p${R}`,"aria-hidden":"true"}),(tt?E.filter(T=>T.isTop):E).map(({i:T,leftPct:H,score:Ne})=>a.jsx("button",{type:"button",className:`ft-mark ft-p${H} ${te.indexOf(j[ee])===T?"active":""} ${typeof Ne=="number"&&Ne>=.6?"alert":""}`,onClick:()=>Ie(T),title:typeof Ne=="number"?`score ${(Ne*100).toFixed(0)}%`:void 0},T)),a.jsxs("div",{className:"ft-axis","aria-hidden":"true",children:[a.jsx("span",{children:"0s"}),a.jsx("span",{children:I?I.toFixed(2)+"s":""})]})]})]})})(),j.map((M,D)=>{const Z=(()=>{const R=typeof M.time_s=="number"&&Number.isFinite(M.time_s)?`${M.time_s.toFixed(2)}s`:void 0,T=typeof M.index=="number"&&Number.isFinite(M.index)?`#${M.index}`:void 0,H=M==null?void 0:M.lbp_score,Ne=typeof H=="number"?`score ${(H*100).toFixed(0)}%`:void 0;return[R,T,Ne].filter(Boolean).join(" • ")||`frame ${D+1}`})(),E=an(M.uri);return a.jsx("a",{className:`ela-item${((M==null?void 0:M.lbp_score)||0)>=.6?" alert":""}`,href:E,target:"_blank",rel:"noreferrer",title:Z,onClick:R=>{R.preventDefault(),U(D)},children:a.jsxs("figure",{children:[a.jsx("img",{src:E,loading:"lazy",alt:Z||"LBP frame"}),a.jsx("figcaption",{className:"cap",children:Z})]})},D)})]})})()]})})(),i.raw&&a.jsxs("details",{className:"raw-block",children:[a.jsx("summary",{children:"Raw JSON"}),a.jsx("pre",{children:JSON.stringify(i.raw,null,2)})]})]})})},k.id+"-"+k.analyzedAt+"-detail")]},k.id+"-"+k.analyzedAt)})})]})]})]}),(f||m)&&a.jsx("div",{className:"modal-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"del-title",onMouseDown:k=>{k.target===k.currentTarget&&Ci()},children:a.jsxs("div",{className:"modal",role:"document",children:[(()=>{const q=(m||u).length;return a.jsxs(a.Fragment,{children:[a.jsxs("h3",{id:"del-title",children:["Delete ",q," analysis",q>1?"es":"","?"]}),a.jsxs("p",{className:"modal-text",children:["This action will permanently remove the selected item",q>1?"s":""," from this report. It cannot be undone."]})]})})(),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{className:"btn",onClick:Ci,children:"Cancel"}),a.jsx("button",{className:"btn danger",onClick:()=>Wu(m||u),autoFocus:!0,children:"Delete"})]})]})}),b&&a.jsxs("div",{className:"toast",role:"status","aria-live":"polite",children:[a.jsxs("span",{children:["Deleted ",b.length," analysis",b.length>1?"es":"","."]}),a.jsx("button",{className:"btn link",onClick:$g,children:"Undo"})]})]})},dN=({currentPage:e,onNavigate:t,lastFilePage:n,title:r,onDeleteCurrent:s,icon:o,onChangeIcon:l})=>{const[i,c]=v.useState(!1),[u,p]=v.useState(!1),f=v.useRef(null),[d,m]=v.useState(!1),x=e&&e.startsWith("file")?e:n||"file1";v.useEffect(()=>{const N=y=>{f.current&&!f.current.contains(y.target)&&c(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const b=()=>{c(!1),p(!0)};return a.jsxs("div",{className:"page-content",children:[a.jsxs("div",{className:"file-analysis-header",children:[a.jsxs("div",{className:"file-analysis-title",children:[(e.startsWith("file")||e==="reports")&&a.jsx("span",{className:`title-icon ${l?"clickable":""}`,"aria-hidden":!0,title:l?"Change icon":void 0,onClick:()=>{l&&m(!0)},children:o||"📁"}),r||"Dashboard"]}),e!=="dashboard"&&a.jsxs("div",{className:"file-analysis-tabs",children:[a.jsx("div",{className:`file-analysis-tab ${e&&e.startsWith("file")?"active":""}`,onClick:()=>t(n||"file1"),children:"Documents"}),a.jsx("div",{className:`file-analysis-tab ${e==="reports"?"active":""}`,onClick:()=>t("reports"),children:"Reports"}),a.jsxs("div",{className:"file-analysis-tab sidebar-actions-wrap",ref:f,children:[a.jsx("button",{className:"header-more-btn",title:"More","aria-label":"More actions",onClick:()=>c(N=>!N),"aria-haspopup":"menu",children:"…"}),i&&a.jsx("div",{className:"item-menu",role:"menu",children:a.jsx("button",{className:"item-menu-btn danger",role:"menuitem",onClick:b,children:"Delete"})})]})]})]}),a.jsx(gg,{open:u,title:"Confirm deletion",message:`Delete "${r||"this analysis"}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",danger:!0,onConfirm:()=>{s&&s(x),p(!1)},onCancel:()=>p(!1)}),l&&a.jsx(wg,{isOpen:d,currentIcon:o,onClose:()=>m(!1),onSelect:N=>{l(x,N),m(!1)}})]})};const fN=({isOpen:e,defaultName:t="",onClose:n,onCreate:r})=>{const[s,o]=v.useState(""),[l,i]=v.useState(xl[0]),[c,u]=v.useState(null),p=v.useRef(null);v.useEffect(()=>{o(""),i(xl[0]),u(null)},[t,e]);const f=d=>{d&&d.preventDefault();const m=s&&s.trim();if(!m){u("Please Enter This Field"),p.current&&p.current.focus();return}r(m,l)};return v.useEffect(()=>{if(!e)return;const d=m=>{m.key==="Escape"&&(m.preventDefault(),n())};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[e,n]),v.useEffect(()=>{if(!e)return;const d=requestAnimationFrame(()=>{if(p.current){p.current.focus({preventScroll:!0});try{p.current.select()}catch{}}});return()=>cancelAnimationFrame(d)},[e]),e?a.jsx("div",{className:"nm-overlay",role:"dialog","aria-modal":"true",children:a.jsxs("div",{className:"nm-panel",children:[a.jsx("h3",{className:"nm-title",children:"Create New Analysis"}),a.jsxs("form",{onSubmit:f,children:[a.jsx("label",{className:"nm-label",children:"Name"}),a.jsx("input",{className:`nm-input${c?" error":""}`,value:s,onChange:d=>{o(d.target.value),d.target.value.trim()&&u(null)},ref:p,placeholder:c?"Please Enter a Name":"Enter a Name"}),a.jsx("div",{id:"nm-icon-label",className:"nm-label",children:"Choose an icon"}),a.jsx("div",{className:"nm-icons",children:xl.map((d,m)=>{const x=`nm-icon-${m}`,b=l===d;return a.jsxs("span",{className:"nm-icon-wrap",children:[a.jsx("input",{type:"radio",id:x,name:"nm-icon",className:"nm-radio",checked:b,onChange:()=>i(d),value:d}),a.jsx("label",{htmlFor:x,className:`nm-icon-btn ${b?"selected":""}`,children:a.jsx("span",{className:"nm-emoji",children:d})})]},d)})}),a.jsxs("div",{className:"nm-actions",children:[a.jsx("button",{type:"button",className:"nm-btn nm-btn-secondary",onClick:n,children:"Cancel"}),a.jsx("button",{type:"submit",className:"nm-btn nm-btn-primary",children:"Create"})]})]})]})}):null},pN=()=>{var xe,de,ke,Be;const[e,t]=v.useState(_t());v.useEffect(()=>{const K=Tu(t);return()=>{K()}},[]);const n={pages:"bl_pages",pagesByUser:"bl_pages_by_user",page:"bl_page",last:"bl_lastFilePage"},r=[{key:"dashboard",label:"HOME PAGE"}];function s(){return e.user?`u_${e.user.username}`:"guest"}function o(K){return`${n[K]}_${s()}`}const l=K=>{const re=K||s();try{const Y=localStorage.getItem(n.pagesByUser);if(Y){const ye=JSON.parse(Y||"{}"),it=ye&&ye[re];if(Array.isArray(it)){const je=it.filter(Se=>Se&&typeof Se.key=="string"&&typeof Se.label=="string").map(Se=>({key:Se.key,label:Se.label,icon:Se.icon}));if(je.length===0)return[...r];const He=je.some(Se=>Se.key==="dashboard"),ut=je.filter(Se=>Se.key!=="dashboard");return[...r,...ut]}if(Array.isArray(it)&&it.length===0&&ye&&Array.isArray(ye.guest)&&ye.guest.length>0){const je=ye.guest.filter(Se=>Se&&typeof Se.key=="string"&&typeof Se.label=="string").map(Se=>({key:Se.key,label:Se.label,icon:Se.icon}));ye[re]=je;try{delete ye.guest}catch{}try{localStorage.setItem(n.pagesByUser,JSON.stringify(ye))}catch{}const He=je.some(Se=>Se.key==="dashboard"),ut=je.filter(Se=>Se.key!=="dashboard");return[...r,...ut]}if(ye&&Array.isArray(ye.guest)&&ye.guest.length>0){const je=ye.guest.filter(Se=>Se&&typeof Se.key=="string"&&typeof Se.label=="string").map(Se=>({key:Se.key,label:Se.label,icon:Se.icon}));ye[re]=je;try{delete ye.guest}catch{}try{localStorage.setItem(n.pagesByUser,JSON.stringify(ye))}catch{}const He=je.some(Se=>Se.key==="dashboard"),ut=je.filter(Se=>Se.key!=="dashboard");return[...r,...ut]}try{ye[re]=[],localStorage.setItem(n.pagesByUser,JSON.stringify(ye))}catch{}return[...r]}const _=`${n.pages}_${re}`;let O=localStorage.getItem(_);if(!O&&re==="guest"&&(O=localStorage.getItem(n.pages)),!O)return[...r];const se=JSON.parse(O);if(!Array.isArray(se))return[...r];const Ce=se.filter(ye=>ye&&typeof ye.key=="string"&&typeof ye.label=="string").map(ye=>({key:ye.key,label:ye.label,icon:ye.icon}));try{i(Ce,re)}catch{}try{localStorage.removeItem(_),re==="guest"&&localStorage.removeItem(n.pages)}catch{}if(Ce.length===0)return[...r];const be=Ce.some(ye=>ye.key==="dashboard"),Re=Ce.filter(ye=>ye.key!=="dashboard");return[...r,...Re]}catch(Y){return console.error("[bl] loadPages error",Y),[{key:"dashboard",label:"HOME PAGE"}]}},i=(K,re)=>{const Y=re||s();try{let _={};const O=localStorage.getItem(n.pagesByUser);O&&(_=JSON.parse(O)||{}),_[Y]=K,localStorage.setItem(n.pagesByUser,JSON.stringify(_));try{localStorage.removeItem(`${n.pages}_${Y}`),Y==="guest"&&localStorage.removeItem(n.pages)}catch{}}catch{}},[c,u]=v.useState([...r]),[p,f]=v.useState("dashboard"),[d,m]=v.useState("file1"),x=K=>{const re=new Set(K.map(_=>{const O=/^file(\d+)$/.exec(_.key);return O?parseInt(O[1],10):NaN}).filter(_=>Number.isFinite(_)&&_>0));let Y=1;for(;re.has(Y);)Y+=1;return Y};v.useEffect(()=>{const K=s(),re=l(K);(async()=>{let Y=re;if(!!e.user&&!!e.token)try{const be=await H1();be&&Array.isArray(be)&&(be.length===0&&re.filter(Re=>Re.key!=="dashboard").length>0?(await Bf(re.filter(Re=>Re.key!=="dashboard")),Y=re):be.length>0&&(Y=[{key:"dashboard",label:"HOME PAGE"},...be.filter(Re=>Re.key!=="dashboard")]))}catch{}u(Y);const O=localStorage.getItem(o("page"))||"dashboard",se=O==="reports"||Y.some(be=>be.key===O);f(se?O:"dashboard");const Ce=localStorage.getItem(o("last"))||"file1";m(Ce);try{i(Y)}catch{}})()},[e.user]);const[b,N]=v.useState(!1);v.useEffect(()=>{try{B1()}catch{}},[]),v.useEffect(()=>{function K(re){var Y;try{const O=(Y=re.detail)==null?void 0:Y.page;if(!O)return;O.startsWith("file")?(m(O),f(O)):O==="reports"&&f("reports")}catch{}}return window.addEventListener("bl:navigate",K),()=>{window.removeEventListener("bl:navigate",K)}},[]),v.useEffect(()=>{try{i(c)}catch{}},[c,e.user]);const y=async K=>{if(e.user&&e.token)try{await Bf(K.filter(Y=>Y.key!=="dashboard"))}catch{}};v.useEffect(()=>{try{localStorage.setItem(o("page"),p)}catch{}},[p,e.user]),v.useEffect(()=>{try{localStorage.setItem(o("last"),d)}catch{}},[d,e.user]),v.useEffect(()=>{p.startsWith("file")&&!c.some(K=>K.key===p)&&f("dashboard")},[c,p]);const g=K=>{K.startsWith("file")&&m(K),f(K)},w=()=>N(!0),S=(K,re)=>{u(Y=>{const O=`file${x(Y)}`,se=[...Y,{key:O,label:K,icon:re}];try{i(se)}catch{}return y(se),N(!1),m(O),f(O),se})},P=K=>{u(re=>{const Y=re.filter(_=>_.key!==K);try{i(Y)}catch{}return y(Y),Y}),m(re=>{if(re!==K)return re;const Y=c.filter(_=>_.key!=="dashboard"&&_.key!==K&&_.key.startsWith("file"));return Y.length?Y[0].key:"file1"});try{localStorage.getItem(o("page"))===K&&localStorage.setItem(o("page"),"dashboard")}catch{}p===K&&g("dashboard")},A=K=>{if(!K||K.length===0)return;const re=new Set(K);u(Y=>{const _=Y.filter(O=>!re.has(O.key));try{i(_)}catch{}return y(_),_}),m(Y=>{if(Y&&re.has(Y)){const _=c.filter(O=>O.key!=="dashboard"&&!re.has(O.key)&&O.key.startsWith("file"));return _.length?_[0].key:"file1"}return Y});try{const Y=localStorage.getItem(o("page"));Y&&re.has(Y)&&localStorage.setItem(o("page"),"dashboard")}catch{}re.has(p)&&g("dashboard")},$=(K,re)=>{u(Y=>{const _=Y.find(Re=>Re.key==="dashboard"),O=Y.filter(Re=>Re.key!=="dashboard"),se=O.findIndex(Re=>Re.key===K);if(se===-1)return Y;const Ce=O.splice(se,1)[0];re<0&&(re=0),re>O.length&&(re=O.length),O.splice(re,0,Ce);const be=_?[_,...O]:[{key:"dashboard",label:"HOME PAGE"},...O];try{i(be)}catch{}return y(be),be})},I=(K,re)=>{let Y=re!==void 0?re:void 0;if(Y===void 0){const _=c.find(se=>se.key===K),O=_?_.label:"";Y=prompt("Rename page",O||"File Analysis")||void 0}Y&&u(_=>{const O=_.map(se=>se.key===K?{...se,label:Y}:se);try{i(O)}catch{}return y(O),O})},Ee=(K,re)=>{u(Y=>{const _=Y.map(O=>O.key===K?{...O,icon:re}:O);try{i(_)}catch{}return y(_),_})};let V;if(p==="dashboard")V=a.jsx(nN,{pages:c});else if(p==="reports")V=a.jsx(uN,{filePage:d});else if(p.startsWith("file")){const K=c.find(Y=>Y.key===p);let re=K?K.label:null;if(!re){const Y=p.match(/^file(\d+)$/);re=Y?`FILE ANALYSIS ${Y[1]}`:"FILE ANALYSIS"}V=a.jsx(lN,{label:re,onNavigate:g,currentPage:p},p)}else V=a.jsx(m0,{});return a.jsxs("div",{className:"app-layout",children:[a.jsx(tN,{active:p==="reports"?d:p,onNavigate:g,onAddPage:w,onDeletePage:P,onBulkDelete:A,onRenamePage:I,onReorder:$,onChangeIcon:Ee,pages:c}),a.jsx(fN,{isOpen:b,defaultName:`FILE ANALYSIS ${x(c)}`,onClose:()=>N(!1),onCreate:S}),a.jsxs("main",{className:"main-content",children:[a.jsx(dN,{currentPage:p,onNavigate:g,lastFilePage:d,onDeleteCurrent:P,onChangeIcon:Ee,title:p.startsWith("file")?((xe=c.find(K=>K.key===p))==null?void 0:xe.label)||"File Analysis":p==="reports"?((de=c.find(K=>K.key===d))==null?void 0:de.label)||"Reports":"Dashboard",icon:p.startsWith("file")?((ke=c.find(K=>K.key===p))==null?void 0:ke.icon)||"📁":p==="reports"?((Be=c.find(K=>K.key===d))==null?void 0:Be.icon)||"📁":void 0}),V]})]})};ha.createRoot(document.getElementById("root")).render(a.jsx(We.StrictMode,{children:a.jsx(pN,{})}));
