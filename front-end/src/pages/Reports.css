.reports-page {
  padding: 12px 8px;
}

.reports-inner { max-width: 1180px; margin: 0 auto; }
.reports-header { display:flex; justify-content:space-between; align-items:flex-end; flex-wrap:wrap; gap:24px; margin-bottom:8px; }

.reports-page h2 {
  margin: 0 0 6px 0;
}

.reports-page .muted {
  color: #6b7280;
  margin-bottom: 18px;
}

.heatmap {
  width: 100%;
  max-width: 960px;
  background: #ffffff;
  padding: 20px;
  border-radius: 6px;
  box-shadow: 0 4px 14px rgba(12,12,20,0.06);
}

.heatmap-row {
  display: flex;
  gap: 6px;
  margin-bottom: 6px;
}

.heatcell {
  width: 44px;
  height: 28px;
  border-radius: 4px;
  background: #f3f4f6;
}

.heatcell.intensity-0 { background: #f3f4f6; }
.heatcell.intensity-1 { background: #fde68a; }
.heatcell.intensity-2 { background: #fca5a5; }
.heatcell.intensity-3 { background: #fb7185; }
.heatcell.intensity-4 { background: #ef4444; }

/* Positioning classes for scrubber ticks without inline styles (ft-p0..ft-p100) */
.frame-scrubber .scrubber-ticks .tick.ft-p0 { left: 0%; }
.frame-scrubber .scrubber-ticks .tick.ft-p1 { left: 1%; }
.frame-scrubber .scrubber-ticks .tick.ft-p2 { left: 2%; }
.frame-scrubber .scrubber-ticks .tick.ft-p3 { left: 3%; }
.frame-scrubber .scrubber-ticks .tick.ft-p4 { left: 4%; }
.frame-scrubber .scrubber-ticks .tick.ft-p5 { left: 5%; }
.frame-scrubber .scrubber-ticks .tick.ft-p6 { left: 6%; }
.frame-scrubber .scrubber-ticks .tick.ft-p7 { left: 7%; }
.frame-scrubber .scrubber-ticks .tick.ft-p8 { left: 8%; }
.frame-scrubber .scrubber-ticks .tick.ft-p9 { left: 9%; }
.frame-scrubber .scrubber-ticks .tick.ft-p10 { left: 10%; }
.frame-scrubber .scrubber-ticks .tick.ft-p11 { left: 11%; }
.frame-scrubber .scrubber-ticks .tick.ft-p12 { left: 12%; }
.frame-scrubber .scrubber-ticks .tick.ft-p13 { left: 13%; }
.frame-scrubber .scrubber-ticks .tick.ft-p14 { left: 14%; }
.frame-scrubber .scrubber-ticks .tick.ft-p15 { left: 15%; }
.frame-scrubber .scrubber-ticks .tick.ft-p16 { left: 16%; }
.frame-scrubber .scrubber-ticks .tick.ft-p17 { left: 17%; }
.frame-scrubber .scrubber-ticks .tick.ft-p18 { left: 18%; }
.frame-scrubber .scrubber-ticks .tick.ft-p19 { left: 19%; }
.frame-scrubber .scrubber-ticks .tick.ft-p20 { left: 20%; }
.frame-scrubber .scrubber-ticks .tick.ft-p21 { left: 21%; }
.frame-scrubber .scrubber-ticks .tick.ft-p22 { left: 22%; }
.frame-scrubber .scrubber-ticks .tick.ft-p23 { left: 23%; }
.frame-scrubber .scrubber-ticks .tick.ft-p24 { left: 24%; }
.frame-scrubber .scrubber-ticks .tick.ft-p25 { left: 25%; }
.frame-scrubber .scrubber-ticks .tick.ft-p26 { left: 26%; }
.frame-scrubber .scrubber-ticks .tick.ft-p27 { left: 27%; }
.frame-scrubber .scrubber-ticks .tick.ft-p28 { left: 28%; }
.frame-scrubber .scrubber-ticks .tick.ft-p29 { left: 29%; }
.frame-scrubber .scrubber-ticks .tick.ft-p30 { left: 30%; }
.frame-scrubber .scrubber-ticks .tick.ft-p31 { left: 31%; }
.frame-scrubber .scrubber-ticks .tick.ft-p32 { left: 32%; }
.frame-scrubber .scrubber-ticks .tick.ft-p33 { left: 33%; }
.frame-scrubber .scrubber-ticks .tick.ft-p34 { left: 34%; }
.frame-scrubber .scrubber-ticks .tick.ft-p35 { left: 35%; }
.frame-scrubber .scrubber-ticks .tick.ft-p36 { left: 36%; }
.frame-scrubber .scrubber-ticks .tick.ft-p37 { left: 37%; }
.frame-scrubber .scrubber-ticks .tick.ft-p38 { left: 38%; }
.frame-scrubber .scrubber-ticks .tick.ft-p39 { left: 39%; }
.frame-scrubber .scrubber-ticks .tick.ft-p40 { left: 40%; }
.frame-scrubber .scrubber-ticks .tick.ft-p41 { left: 41%; }
.frame-scrubber .scrubber-ticks .tick.ft-p42 { left: 42%; }
.frame-scrubber .scrubber-ticks .tick.ft-p43 { left: 43%; }
.frame-scrubber .scrubber-ticks .tick.ft-p44 { left: 44%; }
.frame-scrubber .scrubber-ticks .tick.ft-p45 { left: 45%; }
.frame-scrubber .scrubber-ticks .tick.ft-p46 { left: 46%; }
.frame-scrubber .scrubber-ticks .tick.ft-p47 { left: 47%; }
.frame-scrubber .scrubber-ticks .tick.ft-p48 { left: 48%; }
.frame-scrubber .scrubber-ticks .tick.ft-p49 { left: 49%; }
.frame-scrubber .scrubber-ticks .tick.ft-p50 { left: 50%; }
.frame-scrubber .scrubber-ticks .tick.ft-p51 { left: 51%; }
.frame-scrubber .scrubber-ticks .tick.ft-p52 { left: 52%; }
.frame-scrubber .scrubber-ticks .tick.ft-p53 { left: 53%; }
.frame-scrubber .scrubber-ticks .tick.ft-p54 { left: 54%; }
.frame-scrubber .scrubber-ticks .tick.ft-p55 { left: 55%; }
.frame-scrubber .scrubber-ticks .tick.ft-p56 { left: 56%; }
.frame-scrubber .scrubber-ticks .tick.ft-p57 { left: 57%; }
.frame-scrubber .scrubber-ticks .tick.ft-p58 { left: 58%; }
.frame-scrubber .scrubber-ticks .tick.ft-p59 { left: 59%; }
.frame-scrubber .scrubber-ticks .tick.ft-p60 { left: 60%; }
.frame-scrubber .scrubber-ticks .tick.ft-p61 { left: 61%; }
.frame-scrubber .scrubber-ticks .tick.ft-p62 { left: 62%; }
.frame-scrubber .scrubber-ticks .tick.ft-p63 { left: 63%; }
.frame-scrubber .scrubber-ticks .tick.ft-p64 { left: 64%; }
.frame-scrubber .scrubber-ticks .tick.ft-p65 { left: 65%; }
.frame-scrubber .scrubber-ticks .tick.ft-p66 { left: 66%; }
.frame-scrubber .scrubber-ticks .tick.ft-p67 { left: 67%; }
.frame-scrubber .scrubber-ticks .tick.ft-p68 { left: 68%; }
.frame-scrubber .scrubber-ticks .tick.ft-p69 { left: 69%; }
.frame-scrubber .scrubber-ticks .tick.ft-p70 { left: 70%; }
.frame-scrubber .scrubber-ticks .tick.ft-p71 { left: 71%; }
.frame-scrubber .scrubber-ticks .tick.ft-p72 { left: 72%; }
.frame-scrubber .scrubber-ticks .tick.ft-p73 { left: 73%; }
.frame-scrubber .scrubber-ticks .tick.ft-p74 { left: 74%; }
.frame-scrubber .scrubber-ticks .tick.ft-p75 { left: 75%; }
.frame-scrubber .scrubber-ticks .tick.ft-p76 { left: 76%; }
.frame-scrubber .scrubber-ticks .tick.ft-p77 { left: 77%; }
.frame-scrubber .scrubber-ticks .tick.ft-p78 { left: 78%; }
.frame-scrubber .scrubber-ticks .tick.ft-p79 { left: 79%; }
.frame-scrubber .scrubber-ticks .tick.ft-p80 { left: 80%; }
.frame-scrubber .scrubber-ticks .tick.ft-p81 { left: 81%; }
.frame-scrubber .scrubber-ticks .tick.ft-p82 { left: 82%; }
.frame-scrubber .scrubber-ticks .tick.ft-p83 { left: 83%; }
.frame-scrubber .scrubber-ticks .tick.ft-p84 { left: 84%; }
.frame-scrubber .scrubber-ticks .tick.ft-p85 { left: 85%; }
.frame-scrubber .scrubber-ticks .tick.ft-p86 { left: 86%; }
.frame-scrubber .scrubber-ticks .tick.ft-p87 { left: 87%; }
.frame-scrubber .scrubber-ticks .tick.ft-p88 { left: 88%; }
.frame-scrubber .scrubber-ticks .tick.ft-p89 { left: 89%; }
.frame-scrubber .scrubber-ticks .tick.ft-p90 { left: 90%; }
.frame-scrubber .scrubber-ticks .tick.ft-p91 { left: 91%; }
.frame-scrubber .scrubber-ticks .tick.ft-p92 { left: 92%; }
.frame-scrubber .scrubber-ticks .tick.ft-p93 { left: 93%; }
.frame-scrubber .scrubber-ticks .tick.ft-p94 { left: 94%; }
.frame-scrubber .scrubber-ticks .tick.ft-p95 { left: 95%; }
.frame-scrubber .scrubber-ticks .tick.ft-p96 { left: 96%; }
.frame-scrubber .scrubber-ticks .tick.ft-p97 { left: 97%; }
.frame-scrubber .scrubber-ticks .tick.ft-p98 { left: 98%; }
.frame-scrubber .scrubber-ticks .tick.ft-p99 { left: 99%; }
.frame-scrubber .scrubber-ticks .tick.ft-p100 { left: 100%; }

/* New analysis table styles */
.report-stats { display:grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: 18px; margin: 0 0 22px 0; }
.report-stats .stat { background:#fff; padding:14px 18px; border:1px solid #e5e7eb; border-radius:8px; text-align:center; margin: 0; }
@media (max-width: 1200px) {
  .report-stats { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
  .report-stats { grid-template-columns: 1fr; }
}
.report-stats .stat .label { font-size:12px; text-transform:uppercase; letter-spacing:.05em; color:#6b7280; margin-bottom:4px; }
.report-stats .stat .value { font-size:20px; font-weight:700; }

.analysis-table { width:100%; background:#fff; border:1px solid #e5e7eb; border-radius:10px; overflow:hidden; box-shadow:0 4px 14px rgba(12,12,20,0.05); }
.analysis-table .thead { background:#f3f4f6; font-weight:600; font-size:13px; }
.analysis-table .tr { display:grid; grid-template-columns: 44px 1.8fr 0.9fr 1.4fr 0.8fr 1fr; gap:0; align-items:center; padding:10px 16px; border-bottom:1px solid #e5e7eb; font-size:14px; }
.analysis-table .tr:last-child { border-bottom:none; }
.analysis-table .th { font-weight:600; }
.analysis-table .th.sortable { cursor:pointer; -webkit-user-select:none; user-select:none; display:flex; align-items:center; gap:4px; }
.analysis-table .th.sortable:hover { background:#eef2f6; }
.analysis-table .th.sortable.sorted.asc, .analysis-table .th.sortable.sorted.desc { background:#e5eaf0; }
.analysis-table .th .sort-indicator { font-size:11px; opacity:.7; }
.analysis-table .th.sorted .sort-indicator { opacity:1; }
.analysis-table .td { white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.analysis-table .td.filename { display:flex; align-items:center; gap:8px; }
.analysis-table .td.analyzed-cell { display:flex; align-items:center; gap:10px; }
.analysis-table .td .model-badge { display:inline-block; padding:4px 8px; border-radius:14px; font-size:11px; font-weight:700; border:1px solid transparent; text-transform:lowercase; }
.analysis-table .td .model-badge.fusion-blend { background:#eef6ff; color:#255f9c; border-color:#cfe3ff; }
.analysis-table .td .model-badge.fusion-lr { background:#fef3c7; color:#92400e; border-color:#fde68a; }
.analysis-table .td .model-badge.hash-stub { background:#ecfdf5; color:#065f46; border-color:#a7f3d0; }
.analysis-table .td.sel, .analysis-table .th.sel { padding-right:8px; display:flex; align-items:center; }
.analysis-table input[type=checkbox] { width:16px; height:16px; cursor:pointer; }
.analysis-table .tbody .tr:nth-child(even) { background:#fcfcfd; }
.analysis-table .tbody .tr:hover { background:#f3f6fa; }
.analysis-table .tr.flagged { background:#fff5f5; }
.analysis-table .tr.flagged:hover { background:#ffecec; }
.analysis-table .tbody .tr.active { outline:2px solid var(--accent); outline-offset:-2px; }

/* Temporary flash highlight when navigating from View Report */
.analysis-table .tbody .tr.flash { animation: blrowflash 1.2s ease-in-out 1; }
@keyframes blrowflash {
  0% { box-shadow: 0 0 0 0 rgba(59,130,246,0.0); background-color: inherit; }
  15% { box-shadow: 0 0 0 6px rgba(59,130,246,0.15); background-color: #e9f2ff; }
  100% { box-shadow: 0 0 0 0 rgba(59,130,246,0.0); background-color: inherit; }
}

.likelihood-cell { display:flex; align-items:center; gap:6px; }
.likelihood-meter { position:relative; flex:0 0 110px; height:10px; background:#e5e7eb; border-radius:999px; overflow:hidden; }
.likelihood-meter .fill { position:absolute; inset:0; width:0; background:linear-gradient(90deg,#60a5fa,#2563eb); transition:width .5s cubic-bezier(.4,0,.2,1); }
.likelihood-meter.alert .fill { background:linear-gradient(90deg,#f87171,#dc2626); }
/* bucket widths (0-100 step 5) */
.likelihood-meter.p0  .fill { width:0%; }
.likelihood-meter.p5  .fill { width:5%; }
.likelihood-meter.p10 .fill { width:10%; }
.likelihood-meter.p15 .fill { width:15%; }
.likelihood-meter.p20 .fill { width:20%; }
.likelihood-meter.p25 .fill { width:25%; }
.likelihood-meter.p30 .fill { width:30%; }
.likelihood-meter.p35 .fill { width:35%; }
.likelihood-meter.p40 .fill { width:40%; }
.likelihood-meter.p45 .fill { width:45%; }
.likelihood-meter.p50 .fill { width:50%; }
.likelihood-meter.p55 .fill { width:55%; }
.likelihood-meter.p60 .fill { width:60%; }
.likelihood-meter.p65 .fill { width:65%; }
.likelihood-meter.p70 .fill { width:70%; }
.likelihood-meter.p75 .fill { width:75%; }
.likelihood-meter.p80 .fill { width:80%; }
.likelihood-meter.p85 .fill { width:85%; }
.likelihood-meter.p90 .fill { width:90%; }
.likelihood-meter.p95 .fill { width:95%; }
.likelihood-meter.p100 .fill { width:100%; }
.pct-text { font-size:12px; font-weight:600; color:#374151; }
.pct-text.alert { color:#b91c1c; }

.analysis-detail { margin-top:24px; background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:20px 22px; box-shadow:0 4px 16px rgba(0,0,0,0.04); max-width:1180px; }
.analysis-detail .detail-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
.analysis-detail .detail-title { margin:0; font-size:18px; }
.analysis-detail .detail-close { background:transparent; border:none; font-size:22px; line-height:1; cursor:pointer; padding:4px 8px; }
.analysis-detail .detail-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap:10px 18px; margin-bottom:18px; }
.analysis-detail .detail-grid .k { display:block; font-size:11px; text-transform:uppercase; letter-spacing:.05em; color:#6b7280; }
.analysis-detail .detail-grid .v { font-weight:600; font-size:14px; }
.analysis-detail .raw-block summary { cursor:pointer; font-weight:600; margin-bottom:8px; }
.analysis-detail .raw-block pre { background:#0f172a0d; padding:14px 16px; border-radius:8px; max-height:320px; overflow:auto; font-size:12px; }

/* Viz components */
.viz-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:18px; margin: 0 0 18px 0; }
.viz-grid > .viz-card { min-width: 0; }
@media (max-width: 1200px) {
  .viz-grid { grid-template-columns: 1fr; }
}
.viz-card { background:#fff; border:1px solid #e5e7eb; border-radius:10px; padding:12px 14px; }
.viz-title { font-weight:700; font-size:14px; margin-bottom:8px; }
.sparkline { width:100%; height:auto; }
.sparkline-space { height:64px; }
.bar-chart { display:flex; align-items:flex-end; gap:8px; height:120px; padding:0 4px; }
.bar-item { display:flex; flex-direction:column; align-items:center; gap:6px; font-size:10px; color:#6b7280; }
.bar-col { width:14px; height:100%; background:#f3f4f6; border-radius:4px; display:flex; align-items:flex-end; justify-content:center; }
.bar { width:100%; background: var(--accent); border-radius:4px; height:0; transition:height .35s ease; }
/* Bar height buckets 0..100 by 5 */
.bar.h0{height:0%}.bar.h5{height:5%}.bar.h10{height:10%}.bar.h15{height:15%}.bar.h20{height:20%}.bar.h25{height:25%}.bar.h30{height:30%}.bar.h35{height:35%}.bar.h40{height:40%}.bar.h45{height:45%}.bar.h50{height:50%}.bar.h55{height:55%}.bar.h60{height:60%}.bar.h65{height:65%}.bar.h70{height:70%}.bar.h75{height:75%}.bar.h80{height:80%}.bar.h85{height:85%}.bar.h90{height:90%}.bar.h95{height:95%}.bar.h100{height:100%}
.bar-x.end { margin-left:auto; }
.donut-wrap{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
.donut-legend{ display:flex; flex-direction:column; gap:6px; }
.legend-row{ display:flex; align-items:center; gap:8px; font-size:12px; color:#374151; }
.legend-dot{ width:10px; height:10px; border-radius:50%; display:inline-block; border:1px solid rgba(0,0,0,0.1); }
/* Legend palette (mirror theme.ts palette order) */
.legend-dot.color-0{ background:#3D5A80 }
.legend-dot.color-1{ background:#10B981 }
.legend-dot.color-2{ background:#4F46E5 }
.legend-dot.color-3{ background:#8B5CF6 }
.legend-dot.color-4{ background:#F43F5E }
.legend-dot.color-5{ background:#F59E0B }
.legend-dot.color-6{ background:#64748B }
.legend-dot.color-7{ background:#0EA5E9 }

/* Overlay preview in details */
.overlay-block summary{ cursor:pointer; font-weight:700; margin:12px 0 10px; padding:8px 12px; background:var(--accent-50); color:#0f172a; border:1px solid var(--accent-100); border-left:4px solid var(--accent); border-radius:8px; }
.overlay-block summary:hover{ filter:brightness(0.98); }
/* Dark mode contrast for summary header */
:root.dark .overlay-block summary{ background:#111c2a; color:#e5e7eb; border-color: var(--accent-200); border-left-color: var(--accent); }

/* Remove gap between header and expanded content */
.overlay-block[open] summary{ margin-bottom:0; border-bottom-left-radius:0; border-bottom-right-radius:0; }

/* Match styling for Raw JSON toggler */
.raw-block summary{ cursor:pointer; font-weight:700; margin:12px 0 10px; padding:8px 12px; background:var(--accent-50); color:#0f172a; border:1px solid var(--accent-100); border-left:4px solid var(--accent); border-radius:8px; }
.raw-block summary:hover{ filter:brightness(0.98); }
:root.dark .raw-block summary{ background:#111c2a; color:#e5e7eb; border-color: var(--accent-200); border-left-color: var(--accent); }
.overlay-preview img{ max-width:100%; height:auto; border-radius:10px; border:1px solid #e5e7eb; }
.overlay-preview .video-fluid{ max-width:100%; height:auto; border-radius:10px; border:1px solid #e5e7eb; background:#000; }
.overlay-preview.preview-spaced{ margin-top:8px; }
/* Resizable media container for long/tall videos: starts small and can be widened */
.overlay-preview.resizable { width: 360px; max-width: 100%; resize: horizontal; overflow: auto; }
.overlay-preview.resizable .video-fluid { width: 100%; height: auto; }
/* Center the video player inside the summary box */
.overlay-block .overlay-preview { margin-left: auto; margin-right: auto; }
.overlay-block .overlay-preview.resizable { margin-left: auto; margin-right: auto; }

/* Highlight expanded content */
.overlay-block[open] .overlay-content{ background:#fff; border:1px solid var(--hairline, #e5e7eb); border-top:0; border-radius:0 0 10px 10px; padding:14px 12px; margin-top:0; }
:root.dark .overlay-block[open] .overlay-content{ background:#0f172a; border-color: var(--border); }

/* Video frame scrubber */
.frame-scrubber{ position:relative; margin:10px 0 6px; padding:4px 0; }
.frame-scrubber .scrubber-ticks{ position:absolute; left:10px; right:10px; top:-4px; height:14px; z-index:2; pointer-events:none; }
.frame-scrubber .scrubber-ticks .tick{ position:absolute; top:0; width:10px; height:10px; border-radius:999px; background:#9ca3af; border:1px solid #fff; box-shadow:0 0 0 1px rgba(0,0,0,0.05); transform:translateX(-50%); cursor:pointer; pointer-events:auto; }
.frame-scrubber .scrubber-ticks .tick.alert{ background:#ef4444; }
.frame-scrubber .scrubber-range{ width:100%; appearance:none; height:6px; border-radius:999px; background:#e5e7eb; outline:none; }
.frame-scrubber .scrubber-range::-webkit-slider-thumb{ appearance:none; width:14px; height:14px; border-radius:50%; background:var(--accent); border:1px solid var(--accent); cursor:pointer; box-shadow:0 2px 6px rgba(var(--accent-rgb),0.35); }
.frame-scrubber .scrubber-range::-moz-range-thumb{ width:14px; height:14px; border-radius:50%; background:var(--accent); border:1px solid var(--accent); cursor:pointer; box-shadow:0 2px 6px rgba(var(--accent-rgb),0.35); }
.frame-scrubber .scrubber-meta{ display:flex; justify-content:flex-end; gap:6px; font-size:12px; color:#6b7280; margin-top:4px; }
:root.dark .frame-scrubber .scrubber-range{ background:#1e293b; }

/* Timeline bar for frame markers */
.frame-timeline{ position:relative; margin-top:8px; }
.frame-timeline .ft-base{ height:14px; background:var(--accent-100); border-radius:999px; box-shadow: inset 0 1px 2px rgba(0,0,0,0.08); }
.frame-timeline .ft-axis{ display:flex; justify-content:space-between; font-size:11px; color:#6b7280; margin-top:4px; }
.frame-timeline .ft-mark{ position:absolute; top:0; transform:translateX(-50%); width:12px; height:0; background:linear-gradient(180deg, var(--accent-100), var(--accent)); border:1px solid var(--accent); border-radius:3px; cursor:pointer; outline:none; box-shadow: 0 1px 0 #ffffff inset, 0 0 0 1px rgba(var(--accent-rgb),0.15), 0 2px 8px rgba(var(--accent-rgb),0.25); transition: transform .12s ease, box-shadow .12s ease; }
.frame-timeline .ft-mark:hover{ transform:translateX(-50%) translateY(-2px) scale(1.06); box-shadow: 0 1px 0 #ffffff inset, 0 0 0 1px rgba(var(--accent-rgb),0.25), 0 6px 14px rgba(var(--accent-rgb),0.35); }
.frame-timeline .ft-mark.alert{ background:linear-gradient(180deg,#fb7185,#e11d48); border-color:#e11d48; box-shadow: 0 1px 0 #fee2e2 inset, 0 0 0 1px rgba(225,29,72,0.25), 0 2px 10px rgba(225,29,72,0.45); }
/* Heights in 5% buckets */
.frame-timeline .ft-mark.h0{ height:8px }
.frame-timeline .ft-mark.h5{ height:10px }
.frame-timeline .ft-mark.h10{ height:12px }
.frame-timeline .ft-mark.h15{ height:14px }
.frame-timeline .ft-mark.h20{ height:16px }
.frame-timeline .ft-mark.h25{ height:18px }
.frame-timeline .ft-mark.h30{ height:20px }
.frame-timeline .ft-mark.h35{ height:22px }
.frame-timeline .ft-mark.h40{ height:24px }
.frame-timeline .ft-mark.h45{ height:26px }
.frame-timeline .ft-mark.h50{ height:28px }
.frame-timeline .ft-mark.h55{ height:30px }
.frame-timeline .ft-mark.h60{ height:32px }
.frame-timeline .ft-mark.h65{ height:34px }
.frame-timeline .ft-mark.h70{ height:36px }
.frame-timeline .ft-mark.h75{ height:38px }
.frame-timeline .ft-mark.h80{ height:40px }
.frame-timeline .ft-mark.h85{ height:42px }
.frame-timeline .ft-mark.h90{ height:44px }
.frame-timeline .ft-mark.h95{ height:46px }
.frame-timeline .ft-mark.h100{ height:48px }
/* simple tooltip for markers */
.frame-timeline .ft-mark[data-tip]:hover::after{
  content: attr(data-tip);
  position:absolute; left:50%; bottom:100%; transform: translate(-50%, -8px);
  background: var(--accent); color:#fff; font-size:12px; font-weight:700; padding:6px 8px; border-radius:8px; white-space:nowrap; z-index:10;
  box-shadow:0 8px 24px rgba(var(--accent-rgb),0.35);
}
.frame-timeline .ft-mark[data-tip]:hover::before{
  content:''; position:absolute; left:50%; bottom:100%; transform: translate(-50%, -2px);
  border:6px solid transparent; border-top-color: var(--accent); z-index:10;
}
/* left positions at integer percentages 0..100 */
.frame-timeline .ft-mark.ft-p0{ left:0% }
.frame-timeline .ft-mark.ft-p1{ left:1% }.frame-timeline .ft-mark.ft-p2{ left:2% }.frame-timeline .ft-mark.ft-p3{ left:3% }.frame-timeline .ft-mark.ft-p4{ left:4% }.frame-timeline .ft-mark.ft-p5{ left:5% }
.frame-timeline .ft-mark.ft-p6{ left:6% }.frame-timeline .ft-mark.ft-p7{ left:7% }.frame-timeline .ft-mark.ft-p8{ left:8% }.frame-timeline .ft-mark.ft-p9{ left:9% }.frame-timeline .ft-mark.ft-p10{ left:10% }
.frame-timeline .ft-mark.ft-p11{ left:11% }.frame-timeline .ft-mark.ft-p12{ left:12% }.frame-timeline .ft-mark.ft-p13{ left:13% }.frame-timeline .ft-mark.ft-p14{ left:14% }.frame-timeline .ft-mark.ft-p15{ left:15% }
.frame-timeline .ft-mark.ft-p16{ left:16% }.frame-timeline .ft-mark.ft-p17{ left:17% }.frame-timeline .ft-mark.ft-p18{ left:18% }.frame-timeline .ft-mark.ft-p19{ left:19% }.frame-timeline .ft-mark.ft-p20{ left:20% }
.frame-timeline .ft-mark.ft-p21{ left:21% }.frame-timeline .ft-mark.ft-p22{ left:22% }.frame-timeline .ft-mark.ft-p23{ left:23% }.frame-timeline .ft-mark.ft-p24{ left:24% }.frame-timeline .ft-mark.ft-p25{ left:25% }
.frame-timeline .ft-mark.ft-p26{ left:26% }.frame-timeline .ft-mark.ft-p27{ left:27% }.frame-timeline .ft-mark.ft-p28{ left:28% }.frame-timeline .ft-mark.ft-p29{ left:29% }.frame-timeline .ft-mark.ft-p30{ left:30% }
.frame-timeline .ft-mark.ft-p31{ left:31% }.frame-timeline .ft-mark.ft-p32{ left:32% }.frame-timeline .ft-mark.ft-p33{ left:33% }.frame-timeline .ft-mark.ft-p34{ left:34% }.frame-timeline .ft-mark.ft-p35{ left:35% }
.frame-timeline .ft-mark.ft-p36{ left:36% }.frame-timeline .ft-mark.ft-p37{ left:37% }.frame-timeline .ft-mark.ft-p38{ left:38% }.frame-timeline .ft-mark.ft-p39{ left:39% }.frame-timeline .ft-mark.ft-p40{ left:40% }
.frame-timeline .ft-mark.ft-p41{ left:41% }.frame-timeline .ft-mark.ft-p42{ left:42% }.frame-timeline .ft-mark.ft-p43{ left:43% }.frame-timeline .ft-mark.ft-p44{ left:44% }.frame-timeline .ft-mark.ft-p45{ left:45% }
.frame-timeline .ft-mark.ft-p46{ left:46% }.frame-timeline .ft-mark.ft-p47{ left:47% }.frame-timeline .ft-mark.ft-p48{ left:48% }.frame-timeline .ft-mark.ft-p49{ left:49% }.frame-timeline .ft-mark.ft-p50{ left:50% }
.frame-timeline .ft-mark.ft-p51{ left:51% }.frame-timeline .ft-mark.ft-p52{ left:52% }.frame-timeline .ft-mark.ft-p53{ left:53% }.frame-timeline .ft-mark.ft-p54{ left:54% }.frame-timeline .ft-mark.ft-p55{ left:55% }
.frame-timeline .ft-mark.ft-p56{ left:56% }.frame-timeline .ft-mark.ft-p57{ left:57% }.frame-timeline .ft-mark.ft-p58{ left:58% }.frame-timeline .ft-mark.ft-p59{ left:59% }.frame-timeline .ft-mark.ft-p60{ left:60% }
.frame-timeline .ft-mark.ft-p61{ left:61% }.frame-timeline .ft-mark.ft-p62{ left:62% }.frame-timeline .ft-mark.ft-p63{ left:63% }.frame-timeline .ft-mark.ft-p64{ left:64% }.frame-timeline .ft-mark.ft-p65{ left:65% }
.frame-timeline .ft-mark.ft-p66{ left:66% }.frame-timeline .ft-mark.ft-p67{ left:67% }.frame-timeline .ft-mark.ft-p68{ left:68% }.frame-timeline .ft-mark.ft-p69{ left:69% }.frame-timeline .ft-mark.ft-p70{ left:70% }
.frame-timeline .ft-mark.ft-p71{ left:71% }.frame-timeline .ft-mark.ft-p72{ left:72% }.frame-timeline .ft-mark.ft-p73{ left:73% }.frame-timeline .ft-mark.ft-p74{ left:74% }.frame-timeline .ft-mark.ft-p75{ left:75% }
.frame-timeline .ft-mark.ft-p76{ left:76% }.frame-timeline .ft-mark.ft-p77{ left:77% }.frame-timeline .ft-mark.ft-p78{ left:78% }.frame-timeline .ft-mark.ft-p79{ left:79% }.frame-timeline .ft-mark.ft-p80{ left:80% }
.frame-timeline .ft-mark.ft-p81{ left:81% }.frame-timeline .ft-mark.ft-p82{ left:82% }.frame-timeline .ft-mark.ft-p83{ left:83% }.frame-timeline .ft-mark.ft-p84{ left:84% }.frame-timeline .ft-mark.ft-p85{ left:85% }
.frame-timeline .ft-mark.ft-p86{ left:86% }.frame-timeline .ft-mark.ft-p87{ left:87% }.frame-timeline .ft-mark.ft-p88{ left:88% }.frame-timeline .ft-mark.ft-p89{ left:89% }.frame-timeline .ft-mark.ft-p90{ left:90% }
.frame-timeline .ft-mark.ft-p91{ left:91% }.frame-timeline .ft-mark.ft-p92{ left:92% }.frame-timeline .ft-mark.ft-p93{ left:93% }.frame-timeline .ft-mark.ft-p94{ left:94% }.frame-timeline .ft-mark.ft-p95{ left:95% }
.frame-timeline .ft-mark.ft-p96{ left:96% }.frame-timeline .ft-mark.ft-p97{ left:97% }.frame-timeline .ft-mark.ft-p98{ left:98% }.frame-timeline .ft-mark.ft-p99{ left:99% }.frame-timeline .ft-mark.ft-p100{ left:100% }

:root.dark .frame-timeline .ft-base{ background:#1e293b; }
/* Playhead position classes (reuse ft-pX) */
.frame-timeline .ft-head{ position:absolute; top:-4px; width:2px; height:22px; background: var(--accent); box-shadow:0 0 0 1px rgba(var(--accent-rgb),0.35), 0 4px 10px rgba(var(--accent-rgb),0.4); transform:translateX(-50%); border-radius:1px; }
.frame-timeline .ft-head.ft-p0{ left:0% }
.frame-timeline .ft-head.ft-p1{ left:1% }.frame-timeline .ft-head.ft-p2{ left:2% }.frame-timeline .ft-head.ft-p3{ left:3% }.frame-timeline .ft-head.ft-p4{ left:4% }.frame-timeline .ft-head.ft-p5{ left:5% }
.frame-timeline .ft-head.ft-p6{ left:6% }.frame-timeline .ft-head.ft-p7{ left:7% }.frame-timeline .ft-head.ft-p8{ left:8% }.frame-timeline .ft-head.ft-p9{ left:9% }.frame-timeline .ft-head.ft-p10{ left:10% }
.frame-timeline .ft-head.ft-p11{ left:11% }.frame-timeline .ft-head.ft-p12{ left:12% }.frame-timeline .ft-head.ft-p13{ left:13% }.frame-timeline .ft-head.ft-p14{ left:14% }.frame-timeline .ft-head.ft-p15{ left:15% }
.frame-timeline .ft-head.ft-p16{ left:16% }.frame-timeline .ft-head.ft-p17{ left:17% }.frame-timeline .ft-head.ft-p18{ left:18% }.frame-timeline .ft-head.ft-p19{ left:19% }.frame-timeline .ft-head.ft-p20{ left:20% }
.frame-timeline .ft-head.ft-p21{ left:21% }.frame-timeline .ft-head.ft-p22{ left:22% }.frame-timeline .ft-head.ft-p23{ left:23% }.frame-timeline .ft-head.ft-p24{ left:24% }.frame-timeline .ft-head.ft-p25{ left:25% }
.frame-timeline .ft-head.ft-p26{ left:26% }.frame-timeline .ft-head.ft-p27{ left:27% }.frame-timeline .ft-head.ft-p28{ left:28% }.frame-timeline .ft-head.ft-p29{ left:29% }.frame-timeline .ft-head.ft-p30{ left:30% }
.frame-timeline .ft-head.ft-p31{ left:31% }.frame-timeline .ft-head.ft-p32{ left:32% }.frame-timeline .ft-head.ft-p33{ left:33% }.frame-timeline .ft-head.ft-p34{ left:34% }.frame-timeline .ft-head.ft-p35{ left:35% }
.frame-timeline .ft-head.ft-p36{ left:36% }.frame-timeline .ft-head.ft-p37{ left:37% }.frame-timeline .ft-head.ft-p38{ left:38% }.frame-timeline .ft-head.ft-p39{ left:39% }.frame-timeline .ft-head.ft-p40{ left:40% }
.frame-timeline .ft-head.ft-p41{ left:41% }.frame-timeline .ft-head.ft-p42{ left:42% }.frame-timeline .ft-head.ft-p43{ left:43% }.frame-timeline .ft-head.ft-p44{ left:44% }.frame-timeline .ft-head.ft-p45{ left:45% }
.frame-timeline .ft-head.ft-p46{ left:46% }.frame-timeline .ft-head.ft-p47{ left:47% }.frame-timeline .ft-head.ft-p48{ left:48% }.frame-timeline .ft-head.ft-p49{ left:49% }.frame-timeline .ft-head.ft-p50{ left:50% }
.frame-timeline .ft-head.ft-p51{ left:51% }.frame-timeline .ft-head.ft-p52{ left:52% }.frame-timeline .ft-head.ft-p53{ left:53% }.frame-timeline .ft-head.ft-p54{ left:54% }.frame-timeline .ft-head.ft-p55{ left:55% }
.frame-timeline .ft-head.ft-p56{ left:56% }.frame-timeline .ft-head.ft-p57{ left:57% }.frame-timeline .ft-head.ft-p58{ left:58% }.frame-timeline .ft-head.ft-p59{ left:59% }.frame-timeline .ft-head.ft-p60{ left:60% }
.frame-timeline .ft-head.ft-p61{ left:61% }.frame-timeline .ft-head.ft-p62{ left:62% }.frame-timeline .ft-head.ft-p63{ left:63% }.frame-timeline .ft-head.ft-p64{ left:64% }.frame-timeline .ft-head.ft-p65{ left:65% }
.frame-timeline .ft-head.ft-p66{ left:66% }.frame-timeline .ft-head.ft-p67{ left:67% }.frame-timeline .ft-head.ft-p68{ left:68% }.frame-timeline .ft-head.ft-p69{ left:69% }.frame-timeline .ft-head.ft-p70{ left:70% }
.frame-timeline .ft-head.ft-p71{ left:71% }.frame-timeline .ft-head.ft-p72{ left:72% }.frame-timeline .ft-head.ft-p73{ left:73% }.frame-timeline .ft-head.ft-p74{ left:74% }.frame-timeline .ft-head.ft-p75{ left:75% }
.frame-timeline .ft-head.ft-p76{ left:76% }.frame-timeline .ft-head.ft-p77{ left:77% }.frame-timeline .ft-head.ft-p78{ left:78% }.frame-timeline .ft-head.ft-p79{ left:79% }.frame-timeline .ft-head.ft-p80{ left:80% }
.frame-timeline .ft-head.ft-p81{ left:81% }.frame-timeline .ft-head.ft-p82{ left:82% }.frame-timeline .ft-head.ft-p83{ left:83% }.frame-timeline .ft-head.ft-p84{ left:84% }.frame-timeline .ft-head.ft-p85{ left:85% }
.frame-timeline .ft-head.ft-p86{ left:86% }.frame-timeline .ft-head.ft-p87{ left:87% }.frame-timeline .ft-head.ft-p88{ left:88% }.frame-timeline .ft-head.ft-p89{ left:89% }.frame-timeline .ft-head.ft-p90{ left:90% }
.frame-timeline .ft-head.ft-p91{ left:91% }.frame-timeline .ft-head.ft-p92{ left:92% }.frame-timeline .ft-head.ft-p93{ left:93% }.frame-timeline .ft-head.ft-p94{ left:94% }.frame-timeline .ft-head.ft-p95{ left:95% }
.frame-timeline .ft-head.ft-p96{ left:96% }.frame-timeline .ft-head.ft-p97{ left:97% }.frame-timeline .ft-head.ft-p98{ left:98% }.frame-timeline .ft-head.ft-p99{ left:99% }.frame-timeline .ft-head.ft-p100{ left:100% }

/* Frame score mini bars (above the timeline) */
.frame-scores{ display:flex; gap:4px; align-items:flex-end; min-height:60px; padding:8px 2px; position:relative; }
.frame-scores::before{ content:''; position:absolute; left:0; right:0; top:50%; height:0; border-top:2px solid rgba(var(--accent-rgb),0.65); pointer-events:none; }
:root.dark .frame-scores::before{ border-top-color: rgba(var(--accent-rgb),0.85); }
.fs-bar{ width:8px; border-radius:2px; background:linear-gradient(180deg, var(--accent-100), var(--accent)); border:1px solid var(--accent); box-shadow: 0 0 0 1px rgba(var(--accent-rgb),0.12), 0 2px 6px rgba(var(--accent-rgb),0.25); cursor:pointer; }
.fs-bar.alert{ background:linear-gradient(180deg,#fb7185,#e11d48); border-color:#e11d48; box-shadow: 0 0 0 1px rgba(225,29,72,0.18), 0 4px 10px rgba(225,29,72,0.45); }
.fs-bar:hover{ filter:brightness(1.05); transform:translateY(-2px); transition: transform .12s ease; }
/* Map data-h attribute to height using attribute selectors for common buckets */
.frame-scores .fs-bar{ height: 8px; }
.frame-scores .fs-bar[data-h="8"]{ height:8px }
.frame-scores .fs-bar[data-h="12"]{ height:12px }
.frame-scores .fs-bar[data-h="16"]{ height:16px }
.frame-scores .fs-bar[data-h="20"]{ height:20px }
.frame-scores .fs-bar[data-h="24"]{ height:24px }
.frame-scores .fs-bar[data-h="28"]{ height:28px }
.frame-scores .fs-bar[data-h="32"]{ height:32px }
.frame-scores .fs-bar[data-h="36"]{ height:36px }
.frame-scores .fs-bar[data-h="40"]{ height:40px }
.frame-scores .fs-bar[data-h="44"]{ height:44px }
.frame-scores .fs-bar[data-h="48"]{ height:48px }
.frame-scores .fs-bar[data-h="52"]{ height:52px }
.frame-scores .fs-bar[data-h="56"]{ height:56px }

:root.dark .analysis-detail { background:#0f172a; border-color: var(--border); box-shadow:0 4px 16px rgba(0,0,0,0.6); }
:root.dark .analysis-detail .detail-grid .k { color: var(--muted); }
:root.dark .analysis-detail .raw-block pre { background:#1e293b; }
:root.dark .viz-card { background:#0f172a; border-color: var(--border); }
:root.dark .bar-col { background:#1e293b; }
:root.dark .legend-row { color: var(--muted); }
:root.dark .legend-dot { border-color: rgba(255,255,255,0.2); }
:root.dark .overlay-preview img { border-color: var(--border); }

.no-analyses { background:#fff; border:1px dashed #d1d5db; padding:24px 28px; border-radius:10px; font-size:14px; color:#6b7280; max-width:640px; }

/* File page cards (top of Reports) */
.file-analysis-pages { display:flex; gap:12px; margin: 12px 0 18px 0; flex-wrap:wrap; }
.file-page-card { background:#fff; border:1px solid #e5e7eb; border-radius:10px; padding:12px 14px; width:180px; cursor:pointer; box-shadow:0 4px 10px rgba(12,12,20,0.04); display:flex; flex-direction:column; gap:8px; }
.file-page-card:hover { transform:translateY(-4px); transition:transform .12s ease; }
.file-page-card.active { border-color:var(--accent); box-shadow:0 8px 20px rgba(var(--accent-rgb),0.12); }
.file-page-card-title { font-weight:700; font-size:13px; color:#111827; }
.file-page-card-body { display:flex; justify-content:space-between; align-items:center; color:#6b7280; font-size:13px; }
.file-page-count { font-weight:700; color:#374151; }
.file-page-cta { background: var(--accent-50); color:#374151; border-radius:6px; padding:6px 8px; font-weight:700; font-size:12px; }

.file-analysis-cards { display:flex; gap:12px; flex-wrap:wrap; margin-bottom:12px; }
.file-analysis-card { width:260px; background:#fff; border:1px solid #e5e7eb; border-radius:10px; padding:12px; box-shadow:0 6px 18px rgba(12,12,20,0.04); }
.file-analysis-card.placeholder { opacity:0.85; border-style:dashed; }

/* Dark mode overrides */
:root.dark .report-stats .stat { background:#0f172a; border-color: var(--border); }
:root.dark .analysis-table { background:#0f172a; border-color: var(--border); }
:root.dark .analysis-table .thead { background:#1e293b; }
:root.dark .analysis-table .th.sortable:hover { background:#24324a; }
:root.dark .analysis-table .th.sortable.sorted.asc, :root.dark .analysis-table .th.sortable.sorted.desc { background:#223044; }
:root.dark .analysis-table .tr { border-color: var(--border); }
:root.dark .analysis-table .tbody .tr:nth-child(even) { background:#111c2a; }
:root.dark .analysis-table .tbody .tr:hover { background:#1e293b; }
:root.dark .analysis-table .tr.flagged { background:#2a1a1d; }
:root.dark .analysis-table .tr.flagged:hover { background:#3a2225; }
:root.dark .likelihood-meter { background:#1e293b; }
:root.dark .pct-text { color: var(--muted); }
:root.dark .pct-text.alert { color:#fca5a5; }
:root.dark .no-analyses { background:#0f172a; border-color: var(--border); color: var(--muted); }

/* Inline delete button shown when checkbox-selected */
.analyzed-cell { position:relative; display:flex; align-items:center; justify-content:flex-start; gap:8px; min-width:0; padding-right:30px; }
.analyzed-cell .analyzed-text { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.row-delete { position:absolute; right:6px; top:50%; transform:translateY(-50%); background:transparent; border:none; color:#6b7280; font-size:18px; line-height:1; cursor:pointer; padding:4px 6px; border-radius:6px; opacity:0; pointer-events:none; transition:opacity .12s ease; }
.row-delete:hover { color:#ef4444; background:#fee2e2; }
:root.dark .analysis-table .tbody .tr:hover .row-delete,
.analysis-table .tbody .tr:hover .row-delete,
.analysis-table .tbody .tr.active .row-delete {
  opacity:1; pointer-events:auto;
}
.analysis-table .tbody .tr.has-action .row-delete { opacity:1; pointer-events:auto; }
:root.dark .row-delete { color:#64748b; }
:root.dark .row-delete:hover { color:#fca5a5; background:#3b1f1f; }

/* Selection bar */
.selection-bar { display:flex; align-items:center; gap:12px; margin:0 0 10px 0; background:#fff; border:1px solid #e5e7eb; padding:8px 14px; border-radius:8px; max-width:1180px; }
.selection-bar .btn { font-size:13px; }
.btn.danger { background:#dc2626; color:#fff; }
.btn.danger:hover { background:#b91c1c; }
:root.dark .selection-bar { background:#0f172a; border-color: var(--border); }
:root.dark .btn.danger { background:#b91c1c; }
:root.dark .btn.danger:hover { background:#991b1b; }

/* Side layout for selection bar */
/* Floating selection bar (does not shift table) */
.analysis-table-wrapper { position:relative; }
.selection-bar.floating { position:absolute; left:-210px; top:0; width:190px; flex-direction:column; align-items:stretch; gap:10px; height:fit-content; }
.selection-bar.floating .sel-count { font-weight:600; font-size:14px; }
.selection-bar.floating .btn { width:100%; justify-content:center; }
@media (max-width: 1200px) {
  .selection-bar.floating { position:static; width:auto; flex-direction:row; left:auto; top:auto; margin-bottom:10px; }
  .selection-bar.floating .btn { width:auto; }
}

/* Modal */
.modal-overlay { position:fixed; inset:0; background:rgba(15,23,42,0.55); -webkit-backdrop-filter:saturate(160%) blur(4px); backdrop-filter:saturate(160%) blur(4px); display:flex; align-items:center; justify-content:center; z-index:2000; padding:24px; }
.modal { background:#fff; border:1px solid #e5e7eb; border-radius:14px; padding:26px 28px 24px; width:100%; max-width:440px; box-shadow:0 10px 32px rgba(0,0,0,0.12); animation:modPop .28s cubic-bezier(.4,0,.2,1); }
.modal h3 { margin:0 0 12px; font-size:20px; }
.modal-text { margin:0 0 22px; font-size:14px; line-height:1.45; color:#4b5563; }
.modal-actions { display:flex; justify-content:flex-end; gap:12px; }
@keyframes modPop { from { transform:translateY(8px); opacity:0; } to { transform:translateY(0); opacity:1; } }
:root.dark .modal { background:#0f172a; border-color:var(--border); box-shadow:0 10px 40px rgba(0,0,0,0.6); }
:root.dark .modal-text { color: var(--muted); }

/* Toast for undo */
.toast { position:fixed; bottom:20px; right:20px; background:#1f2937; color:#fff; padding:12px 16px; border-radius:10px; display:flex; align-items:center; gap:16px; box-shadow:0 6px 24px rgba(0,0,0,.25); font-size:14px; z-index:2100; }
.toast .btn.link { background:none; border:none; color:#60a5fa; font-weight:600; padding:4px 6px; cursor:pointer; }
.toast .btn.link:hover { text-decoration:underline; }
:root.dark .toast { background:#0f172a; }

/* Frame scores visualization */
.frame-scores-block{ margin-top:16px; }
.frame-meta{ font-size:12px; color: #6b7280; margin-top:4px; }
:root.dark .frame-meta{ color: var(--muted); }

/* ELA frames grid */
.ela-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap:12px; padding:12px; }
.ela-item { text-decoration:none; color:inherit; }
.ela-item figure { margin:0; background: var(--accent-50); border:1px solid var(--accent-100); border-radius:10px; overflow:hidden; display:flex; flex-direction:column; }
.ela-item img { width:100%; height:auto; display:block; aspect-ratio: 4 / 3; object-fit: cover; background:#fff; }
.ela-item .cap { font-size:12px; color:#6b7280; padding:6px 8px; border-top:1px solid #eef2f7; }

/* ELA actions */
.ela-actions { margin:8px 0 0; display:flex; align-items:center; gap:8px; }
.ela-error { color:#b91c1c; }

/* ELA interactive viewer */
.ela-viewer-block { grid-column: 1 / -1; background: var(--accent-50); border:1px solid var(--accent-100); border-radius:10px; padding:12px; display:flex; flex-direction:column; gap:10px; }
.ela-viewer-head { display:flex; justify-content:space-between; align-items:center; gap:12px; }
.ela-view { display:flex; flex-direction:column; align-items:center; gap:6px; }
.ela-img { max-width:100%; width: 640px; height:auto; background:#0f172a; border-radius:10px; border:1px solid var(--accent-100); }
.ela-cap { font-size:12px; color:#6b7280; }
.ela-timeline { position:relative; }
.ela-timeline .ft-base{ height:14px; background: var(--accent-100); border-radius:999px; box-shadow: inset 0 1px 2px rgba(0,0,0,0.08); }
.ela-timeline .ft-axis{ display:flex; justify-content:space-between; font-size:11px; color:#6b7280; margin-top:4px; }
.ela-timeline .ft-mark{ position:absolute; top:0; transform:translateX(-50%); width:10px; height:12px; background:linear-gradient(180deg, var(--accent-100), var(--accent)); border:1px solid var(--accent); border-radius:3px; cursor:pointer; z-index:2; }
.ela-timeline .ft-mark.active{ outline:2px solid var(--accent); }
.ela-timeline .ft-head{ position:absolute; top:-4px; width:2px; height:22px; background: var(--accent); transform:translateX(-50%); border-radius:1px; z-index:1; }
:root.dark .ela-viewer-block { background:#0f172a; border-color: var(--border); }
:root.dark .ela-img { border-color: var(--border); }

/* ELA toolbar under header */
.ela-toolbar { display:flex; align-items:center; gap:10px; padding:10px 12px 0; }
.status-pill { font-size:12px; font-weight:700; padding:6px 8px; border-radius:999px; }
.status-pill.success { background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; }
.status-pill.error { background:#fef2f2; color:#991b1b; border:1px solid #fecaca; }
.ela-grid.ela-updated-flash { animation: elaFlash 0.8s ease-in-out 1; }
@keyframes elaFlash {
  0% { box-shadow:0 0 0 0 rgba(var(--accent-rgb),0.0); }
  25% { box-shadow:0 0 0 6px rgba(var(--accent-rgb),0.20); }
  100% { box-shadow:0 0 0 0 rgba(var(--accent-rgb),0.0); }
}

/* Buttons (scoped to Reports to avoid global bleed) */
.reports-page .btn {
  background: #f3f4f6;
  border: 1px solid #e5e7eb;
  padding: 9px 14px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  font-size: 14px;
  line-height: 1.1;
  transition: background .12s ease, border-color .12s ease, color .12s ease, box-shadow .12s ease, filter .12s ease;
}
.reports-page .btn:hover { background:#eef2f7; border-color:#dbe4ee; }
.reports-page .btn:active { filter: brightness(0.98); }
.reports-page .btn:disabled { opacity:.6; cursor:not-allowed; }
.reports-page .btn.primary { background: var(--accent); color: var(--accent-foreground); border: none; }
.reports-page .btn.primary:hover { filter: brightness(0.98); }
.reports-page .btn.ghost { background: var(--accent-50); border: 1px solid var(--accent-100); color: #111827; }
.reports-page .btn.ghost:hover { background: var(--accent-100); border-color: var(--accent-200); }
.reports-page .btn.link { background:none; border:none; color:#60a5fa; padding:0; }
.reports-page .btn.link:hover { text-decoration: underline; }
:root.dark .reports-page .btn { background:#1f2937; color: var(--text); border-color: var(--border); }
:root.dark .reports-page .btn.primary { background: var(--accent); color: var(--accent-foreground); border: none; }
:root.dark .reports-page .btn.ghost { background: transparent; color: var(--text); }

/* Ensure destructive button shows red when selection is active (order override) */
.reports-page .btn.danger { background:#dc2626; border-color:#dc2626; color:#fff; }
.reports-page .btn.danger:hover { background:#b91c1c; }
:root.dark .reports-page .btn.danger { background:#b91c1c; border-color:#b91c1c; }
:root.dark .reports-page .btn.danger:hover { background:#991b1b; }

/* ELA timeline marker positions 0..100 */
.ela-timeline .ft-mark.ft-p0{ left:0% }
.ela-timeline .ft-mark.ft-p1{ left:1% }.ela-timeline .ft-mark.ft-p2{ left:2% }.ela-timeline .ft-mark.ft-p3{ left:3% }.ela-timeline .ft-mark.ft-p4{ left:4% }.ela-timeline .ft-mark.ft-p5{ left:5% }
.ela-timeline .ft-mark.ft-p6{ left:6% }.ela-timeline .ft-mark.ft-p7{ left:7% }.ela-timeline .ft-mark.ft-p8{ left:8% }.ela-timeline .ft-mark.ft-p9{ left:9% }.ela-timeline .ft-mark.ft-p10{ left:10% }
.ela-timeline .ft-mark.ft-p11{ left:11% }.ela-timeline .ft-mark.ft-p12{ left:12% }.ela-timeline .ft-mark.ft-p13{ left:13% }.ela-timeline .ft-mark.ft-p14{ left:14% }.ela-timeline .ft-mark.ft-p15{ left:15% }
.ela-timeline .ft-mark.ft-p16{ left:16% }.ela-timeline .ft-mark.ft-p17{ left:17% }.ela-timeline .ft-mark.ft-p18{ left:18% }.ela-timeline .ft-mark.ft-p19{ left:19% }.ela-timeline .ft-mark.ft-p20{ left:20% }
.ela-timeline .ft-mark.ft-p21{ left:21% }.ela-timeline .ft-mark.ft-p22{ left:22% }.ela-timeline .ft-mark.ft-p23{ left:23% }.ela-timeline .ft-mark.ft-p24{ left:24% }.ela-timeline .ft-mark.ft-p25{ left:25% }
.ela-timeline .ft-mark.ft-p26{ left:26% }.ela-timeline .ft-mark.ft-p27{ left:27% }.ela-timeline .ft-mark.ft-p28{ left:28% }.ela-timeline .ft-mark.ft-p29{ left:29% }.ela-timeline .ft-mark.ft-p30{ left:30% }
.ela-timeline .ft-mark.ft-p31{ left:31% }.ela-timeline .ft-mark.ft-p32{ left:32% }.ela-timeline .ft-mark.ft-p33{ left:33% }.ela-timeline .ft-mark.ft-p34{ left:34% }.ela-timeline .ft-mark.ft-p35{ left:35% }
.ela-timeline .ft-mark.ft-p36{ left:36% }.ela-timeline .ft-mark.ft-p37{ left:37% }.ela-timeline .ft-mark.ft-p38{ left:38% }.ela-timeline .ft-mark.ft-p39{ left:39% }.ela-timeline .ft-mark.ft-p40{ left:40% }
.ela-timeline .ft-mark.ft-p41{ left:41% }.ela-timeline .ft-mark.ft-p42{ left:42% }.ela-timeline .ft-mark.ft-p43{ left:43% }.ela-timeline .ft-mark.ft-p44{ left:44% }.ela-timeline .ft-mark.ft-p45{ left:45% }
.ela-timeline .ft-mark.ft-p46{ left:46% }.ela-timeline .ft-mark.ft-p47{ left:47% }.ela-timeline .ft-mark.ft-p48{ left:48% }.ela-timeline .ft-mark.ft-p49{ left:49% }.ela-timeline .ft-mark.ft-p50{ left:50% }
.ela-timeline .ft-mark.ft-p51{ left:51% }.ela-timeline .ft-mark.ft-p52{ left:52% }.ela-timeline .ft-mark.ft-p53{ left:53% }.ela-timeline .ft-mark.ft-p54{ left:54% }.ela-timeline .ft-mark.ft-p55{ left:55% }
.ela-timeline .ft-mark.ft-p56{ left:56% }.ela-timeline .ft-mark.ft-p57{ left:57% }.ela-timeline .ft-mark.ft-p58{ left:58% }.ela-timeline .ft-mark.ft-p59{ left:59% }.ela-timeline .ft-mark.ft-p60{ left:60% }
.ela-timeline .ft-mark.ft-p61{ left:61% }.ela-timeline .ft-mark.ft-p62{ left:62% }.ela-timeline .ft-mark.ft-p63{ left:63% }.ela-timeline .ft-mark.ft-p64{ left:64% }.ela-timeline .ft-mark.ft-p65{ left:65% }
.ela-timeline .ft-mark.ft-p66{ left:66% }.ela-timeline .ft-mark.ft-p67{ left:67% }.ela-timeline .ft-mark.ft-p68{ left:68% }.ela-timeline .ft-mark.ft-p69{ left:69% }.ela-timeline .ft-mark.ft-p70{ left:70% }
.ela-timeline .ft-mark.ft-p71{ left:71% }.ela-timeline .ft-mark.ft-p72{ left:72% }.ela-timeline .ft-mark.ft-p73{ left:73% }.ela-timeline .ft-mark.ft-p74{ left:74% }.ela-timeline .ft-mark.ft-p75{ left:75% }
.ela-timeline .ft-mark.ft-p76{ left:76% }.ela-timeline .ft-mark.ft-p77{ left:77% }.ela-timeline .ft-mark.ft-p78{ left:78% }.ela-timeline .ft-mark.ft-p79{ left:79% }.ela-timeline .ft-mark.ft-p80{ left:80% }
.ela-timeline .ft-mark.ft-p81{ left:81% }.ela-timeline .ft-mark.ft-p82{ left:82% }.ela-timeline .ft-mark.ft-p83{ left:83% }.ela-timeline .ft-mark.ft-p84{ left:84% }.ela-timeline .ft-mark.ft-p85{ left:85% }
.ela-timeline .ft-mark.ft-p86{ left:86% }.ela-timeline .ft-mark.ft-p87{ left:87% }.ela-timeline .ft-mark.ft-p88{ left:88% }.ela-timeline .ft-mark.ft-p89{ left:89% }.ela-timeline .ft-mark.ft-p90{ left:90% }
.ela-timeline .ft-mark.ft-p91{ left:91% }.ela-timeline .ft-mark.ft-p92{ left:92% }.ela-timeline .ft-mark.ft-p93{ left:93% }.ela-timeline .ft-mark.ft-p94{ left:94% }.ela-timeline .ft-mark.ft-p95{ left:95% }
.ela-timeline .ft-mark.ft-p96{ left:96% }.ela-timeline .ft-mark.ft-p97{ left:97% }.ela-timeline .ft-mark.ft-p98{ left:98% }.ela-timeline .ft-mark.ft-p99{ left:99% }.ela-timeline .ft-mark.ft-p100{ left:100% }

/* ELA timeline playhead */
.ela-timeline .ft-head.ft-p0{ left:0% }
.ela-timeline .ft-head.ft-p1{ left:1% }.ela-timeline .ft-head.ft-p2{ left:2% }.ela-timeline .ft-head.ft-p3{ left:3% }.ela-timeline .ft-head.ft-p4{ left:4% }.ela-timeline .ft-head.ft-p5{ left:5% }
.ela-timeline .ft-head.ft-p6{ left:6% }.ela-timeline .ft-head.ft-p7{ left:7% }.ela-timeline .ft-head.ft-p8{ left:8% }.ela-timeline .ft-head.ft-p9{ left:9% }.ela-timeline .ft-head.ft-p10{ left:10% }
.ela-timeline .ft-head.ft-p11{ left:11% }.ela-timeline .ft-head.ft-p12{ left:12% }.ela-timeline .ft-head.ft-p13{ left:13% }.ela-timeline .ft-head.ft-p14{ left:14% }.ela-timeline .ft-head.ft-p15{ left:15% }
.ela-timeline .ft-head.ft-p16{ left:16% }.ela-timeline .ft-head.ft-p17{ left:17% }.ela-timeline .ft-head.ft-p18{ left:18% }.ela-timeline .ft-head.ft-p19{ left:19% }.ela-timeline .ft-head.ft-p20{ left:20% }
.ela-timeline .ft-head.ft-p21{ left:21% }.ela-timeline .ft-head.ft-p22{ left:22% }.ela-timeline .ft-head.ft-p23{ left:23% }.ela-timeline .ft-head.ft-p24{ left:24% }.ela-timeline .ft-head.ft-p25{ left:25% }
.ela-timeline .ft-head.ft-p26{ left:26% }.ela-timeline .ft-head.ft-p27{ left:27% }.ela-timeline .ft-head.ft-p28{ left:28% }.ela-timeline .ft-head.ft-p29{ left:29% }.ela-timeline .ft-head.ft-p30{ left:30% }
.ela-timeline .ft-head.ft-p31{ left:31% }.ela-timeline .ft-head.ft-p32{ left:32% }.ela-timeline .ft-head.ft-p33{ left:33% }.ela-timeline .ft-head.ft-p34{ left:34% }.ela-timeline .ft-head.ft-p35{ left:35% }
.ela-timeline .ft-head.ft-p36{ left:36% }.ela-timeline .ft-head.ft-p37{ left:37% }.ela-timeline .ft-head.ft-p38{ left:38% }.ela-timeline .ft-head.ft-p39{ left:39% }.ela-timeline .ft-head.ft-p40{ left:40% }
.ela-timeline .ft-head.ft-p41{ left:41% }.ela-timeline .ft-head.ft-p42{ left:42% }.ela-timeline .ft-head.ft-p43{ left:43% }.ela-timeline .ft-head.ft-p44{ left:44% }.ela-timeline .ft-head.ft-p45{ left:45% }
.ela-timeline .ft-head.ft-p46{ left:46% }.ela-timeline .ft-head.ft-p47{ left:47% }.ela-timeline .ft-head.ft-p48{ left:48% }.ela-timeline .ft-head.ft-p49{ left:49% }.ela-timeline .ft-head.ft-p50{ left:50% }
.ela-timeline .ft-head.ft-p51{ left:51% }.ela-timeline .ft-head.ft-p52{ left:52% }.ela-timeline .ft-head.ft-p53{ left:53% }.ela-timeline .ft-head.ft-p54{ left:54% }.ela-timeline .ft-head.ft-p55{ left:55% }
.ela-timeline .ft-head.ft-p56{ left:56% }.ela-timeline .ft-head.ft-p57{ left:57% }.ela-timeline .ft-head.ft-p58{ left:58% }.ela-timeline .ft-head.ft-p59{ left:59% }.ela-timeline .ft-head.ft-p60{ left:60% }
.ela-timeline .ft-head.ft-p61{ left:61% }.ela-timeline .ft-head.ft-p62{ left:62% }.ela-timeline .ft-head.ft-p63{ left:63% }.ela-timeline .ft-head.ft-p64{ left:64% }.ela-timeline .ft-head.ft-p65{ left:65% }
.ela-timeline .ft-head.ft-p66{ left:66% }.ela-timeline .ft-head.ft-p67{ left:67% }.ela-timeline .ft-head.ft-p68{ left:68% }.ela-timeline .ft-head.ft-p69{ left:69% }.ela-timeline .ft-head.ft-p70{ left:70% }
.ela-timeline .ft-head.ft-p71{ left:71% }.ela-timeline .ft-head.ft-p72{ left:72% }.ela-timeline .ft-head.ft-p73{ left:73% }.ela-timeline .ft-head.ft-p74{ left:74% }.ela-timeline .ft-head.ft-p75{ left:75% }
.ela-timeline .ft-head.ft-p76{ left:76% }.ela-timeline .ft-head.ft-p77{ left:77% }.ela-timeline .ft-head.ft-p78{ left:78% }.ela-timeline .ft-head.ft-p79{ left:79% }.ela-timeline .ft-head.ft-p80{ left:80% }
.ela-timeline .ft-head.ft-p81{ left:81% }.ela-timeline .ft-head.ft-p82{ left:82% }.ela-timeline .ft-head.ft-p83{ left:83% }.ela-timeline .ft-head.ft-p84{ left:84% }.ela-timeline .ft-head.ft-p85{ left:85% }
.ela-timeline .ft-head.ft-p86{ left:86% }.ela-timeline .ft-head.ft-p87{ left:87% }.ela-timeline .ft-head.ft-p88{ left:88% }.ela-timeline .ft-head.ft-p89{ left:89% }.ela-timeline .ft-head.ft-p90{ left:90% }
.ela-timeline .ft-head.ft-p91{ left:91% }.ela-timeline .ft-head.ft-p92{ left:92% }.ela-timeline .ft-head.ft-p93{ left:93% }.ela-timeline .ft-head.ft-p94{ left:94% }.ela-timeline .ft-head.ft-p95{ left:95% }
.ela-timeline .ft-head.ft-p96{ left:96% }.ela-timeline .ft-head.ft-p97{ left:97% }.ela-timeline .ft-head.ft-p98{ left:98% }.ela-timeline .ft-head.ft-p99{ left:99% }.ela-timeline .ft-head.ft-p100{ left:100% }

/* Tooltip for ELA markers */
.ela-timeline .ft-mark[data-tip]:hover::after{
  content: attr(data-tip);
  position:absolute; left:50%; bottom:100%; transform: translate(-50%, -8px);
  background: var(--accent); color:#fff; font-size:12px; font-weight:700; padding:6px 8px; border-radius:8px; white-space:nowrap; z-index:10;
  box-shadow:0 8px 24px rgba(var(--accent-rgb),0.35);
}
.ela-timeline .ft-mark[data-tip]:hover::before{
  content:''; position:absolute; left:50%; bottom:100%; transform: translate(-50%, -2px);
  border:6px solid transparent; border-top-color: var(--accent); z-index:10;
}

/* Inline detail row styles */
.analysis-table .tbody .tr.detail-row {
  /* Keep same grid structure so following rows layout correctly */
  display: grid;
  grid-template-columns: 44px 1.8fr 0.9fr 1.4fr 0.8fr 1fr;
  gap: 0;
  align-items: stretch;
  padding: 0;
  background: transparent;
  border-top: 1px dashed var(--hairline, #e5e7eb);
  position: relative;
  z-index: 0;
}
.analysis-table .tbody .tr.detail-row .td.detail-cell {
  grid-column: 1 / -1;
  display: block;
  padding: 12px 8px 16px 8px;
}

/* Embedded analysis detail inside the table */
.analysis-detail.embedded {
  margin-top: 0;
  border: 1px solid var(--hairline, #e5e7eb);
  border-radius: 8px;
  background: #fff;
  box-shadow: 0 1px 2px rgba(0,0,0,0.04);
  position: relative;
  z-index: 1; /* ensure embedded panel doesn't cover checkboxes below */
}
.analysis-detail.embedded .detail-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 10px;
  border-bottom: 1px solid var(--hairline, #e5e7eb);
}
.analysis-detail.embedded .detail-title {
  margin: 0;
  font-size: 15px;
  font-weight: 600;
}
.analysis-detail.embedded .detail-close {
  border: 0;
  background: transparent;
  font-size: 18px;
  line-height: 1;
  cursor: pointer;
  color: #6b7280;
}
.analysis-detail.embedded .detail-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 8px 12px;
  padding: 10px;
}
.analysis-detail.embedded .detail-grid .k {
  display: block;
  font-size: 11px;
  color: #6b7280;
}
.analysis-detail.embedded .detail-grid .v {
  display: block;
  font-weight: 600;
}
.analysis-detail.embedded details.overlay-block,
.analysis-detail.embedded .frame-scores,
.analysis-detail.embedded .ela-grid,
.analysis-detail.embedded .raw-block {
  margin: 10px;
}
.analysis-detail.embedded .overlay-preview.resizable {
  max-width: 720px;
}

:root.dark .analysis-detail.embedded { background:#0f172a; border-color: var(--border); box-shadow:0 1px 2px rgba(0,0,0,0.6); }
:root.dark .analysis-detail.embedded .detail-grid .k { color: var(--muted); }
